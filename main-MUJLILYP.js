import{a as C,b as Y,c as Fh,d as Un,e as pw,f as gw,g as p,i as Lh,j as jh,m as mw,n as Vh}from"./chunk-6AOLKZEJ.js";var fh=Un(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var uh=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dh.default=uh});var ph=Un(qo=>{"use strict";var t_=qo&&qo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qo,"__esModule",{value:!0});var wA=t_((Vh(),gw(mw))),bA=t_(fh()),hh=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>p(this,null,function*(){var s,a,c,l;let u=null,d=null,h=null,f=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){let F=yield o.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=F:d=JSON.parse(F))}let D=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");D&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let D=yield o.text();try{u=JSON.parse(D),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,v="OK")}catch{o.status===404&&D===""?(f=204,v="No Content"):u={message:D}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new bA.default(u)}return{error:u,data:d,count:h,status:f,statusText:v}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};qo.default=hh});var mh=Un(Wo=>{"use strict";var CA=Wo&&Wo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wo,"__esModule",{value:!0});var DA=CA(ph()),gh=class extends DA.default{select(t){let n=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Wo.default=gh});var Xc=Un(Zo=>{"use strict";var EA=Zo&&Zo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});var xA=EA(mh()),vh=class extends xA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Zo.default=vh});var _h=Un(Ko=>{"use strict";var IA=Ko&&Ko.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});var Yo=IA(Xc()),yh=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Yo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;let o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Yo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Yo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ko.default=yh});var r_=Un(Jo=>{"use strict";var n_=Jo&&Jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});var SA=n_(_h()),MA=n_(Xc()),wh=class e{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){let n=new URL(`${this.url}/${t}`);return new SA.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new MA.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Jo.default=wh});var u_=Un(Re=>{"use strict";var Ti=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;var i_=Ti(r_());Re.PostgrestClient=i_.default;var o_=Ti(_h());Re.PostgrestQueryBuilder=o_.default;var s_=Ti(Xc());Re.PostgrestFilterBuilder=s_.default;var a_=Ti(mh());Re.PostgrestTransformBuilder=a_.default;var c_=Ti(ph());Re.PostgrestBuilder=c_.default;var l_=Ti(fh());Re.PostgrestError=l_.default;Re.default={PostgrestClient:i_.default,PostgrestQueryBuilder:o_.default,PostgrestFilterBuilder:s_.default,PostgrestTransformBuilder:a_.default,PostgrestBuilder:c_.default,PostgrestError:l_.default}});function Uh(e,t){return Object.is(e,t)}var Ee=null,gs=!1,ms=1,Kt=Symbol("SIGNAL");function J(e){let t=Ee;return Ee=e,t}function $h(){return Ee}var $i={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Nl(e){if(gs)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(e);let t=Ee.nextProducerIndex++;if(ws(Ee),t<Ee.producerNode.length&&Ee.producerNode[t]!==e&&Ui(Ee)){let n=Ee.producerNode[t];_s(n,Ee.producerIndexOfThis[t])}Ee.producerNode[t]!==e&&(Ee.producerNode[t]=e,Ee.producerIndexOfThis[t]=Ui(Ee)?Gh(e,Ee,t):0),Ee.producerLastReadVersion[t]=e.version}function vw(){ms++}function Bh(e){if(!(Ui(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ms)){if(!e.producerMustRecompute(e)&&!kl(e)){e.dirty=!1,e.lastCleanEpoch=ms;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ms}}function Hh(e){if(e.liveConsumerNode===void 0)return;let t=gs;gs=!0;try{for(let n of e.liveConsumerNode)n.dirty||yw(n)}finally{gs=t}}function zh(){return Ee?.consumerAllowSignalWrites!==!1}function yw(e){e.dirty=!0,Hh(e),e.consumerMarkedDirty?.(e)}function ys(e){return e&&(e.nextProducerIndex=0),J(e)}function Rl(e,t){if(J(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ui(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)_s(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function kl(e){ws(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Bh(n),r!==n.version))return!0}return!1}function Fl(e){if(ws(e),Ui(e))for(let t=0;t<e.producerNode.length;t++)_s(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Gh(e,t,n){if(qh(e),e.liveConsumerNode.length===0&&Wh(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Gh(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function _s(e,t){if(qh(e),e.liveConsumerNode.length===1&&Wh(e))for(let r=0;r<e.producerNode.length;r++)_s(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ws(i),i.producerIndexOfThis[r]=t}}function Ui(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ws(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function qh(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Wh(e){return e.producerNode!==void 0}function Zh(e){let t=Object.create(_w);t.computation=e;let n=()=>{if(Bh(t),Nl(t),t.value===vs)throw t.error;return t.value};return n[Kt]=t,n}var Ol=Symbol("UNSET"),Pl=Symbol("COMPUTING"),vs=Symbol("ERRORED"),_w=Y(C({},$i),{value:Ol,dirty:!0,error:null,equal:Uh,producerMustRecompute(e){return e.value===Ol||e.value===Pl},producerRecomputeValue(e){if(e.value===Pl)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Pl;let n=ys(e),r;try{r=e.computation()}catch(i){r=vs,e.error=i}finally{Rl(e,n)}if(t!==Ol&&t!==vs&&r!==vs&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function ww(){throw new Error}var Yh=ww;function Kh(){Yh()}function Jh(e){Yh=e}var bw=null;function Qh(e){let t=Object.create(ep);t.value=e;let n=()=>(Nl(t),t.value);return n[Kt]=t,n}function Ll(e,t){zh()||Kh(),e.equal(e.value,t)||(e.value=t,Cw(e))}function Xh(e,t){zh()||Kh(),Ll(e,t(e.value))}var ep=Y(C({},$i),{equal:Uh,value:void 0});function Cw(e){e.version++,vw(),Hh(e),bw?.()}function L(e){return typeof e=="function"}function Tr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bs=Tr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Bi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _e=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(o){t=o instanceof bs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tp(o)}catch(s){t=t??[],s instanceof bs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new bs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)tp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Bi(n,t)}remove(t){let{_finalizers:n}=this;n&&Bi(n,t),t instanceof e&&t._removeParent(this)}};_e.EMPTY=(()=>{let e=new _e;return e.closed=!0,e})();var jl=_e.EMPTY;function Cs(e){return e instanceof _e||e&&"closed"in e&&L(e.remove)&&L(e.add)&&L(e.unsubscribe)}function tp(e){L(e)?e():e.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ar={setTimeout(e,t,...n){let{delegate:r}=Ar;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ar;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ds(e){Ar.setTimeout(()=>{let{onUnhandledError:t}=_t;if(t)t(e);else throw e})}function Hi(){}var np=Vl("C",void 0,void 0);function rp(e){return Vl("E",void 0,e)}function ip(e){return Vl("N",e,void 0)}function Vl(e,t,n){return{kind:e,value:t,error:n}}var $n=null;function Or(e){if(_t.useDeprecatedSynchronousErrorHandling){let t=!$n;if(t&&($n={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=$n;if($n=null,n)throw r}}else e()}function op(e){_t.useDeprecatedSynchronousErrorHandling&&$n&&($n.errorThrown=!0,$n.error=e)}var Bn=class extends _e{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Cs(t)&&t.add(this)):this.destination=xw}static create(t,n,r){return new Pr(t,n,r)}next(t){this.isStopped?$l(ip(t),this):this._next(t)}error(t){this.isStopped?$l(rp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$l(np,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Dw=Function.prototype.bind;function Ul(e,t){return Dw.call(e,t)}var Bl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Es(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Es(r)}else Es(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Es(n)}}},Pr=class extends Bn{constructor(t,n,r){super();let i;if(L(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ul(t.next,o),error:t.error&&Ul(t.error,o),complete:t.complete&&Ul(t.complete,o)}):i=t}this.destination=new Bl(i)}};function Es(e){_t.useDeprecatedSynchronousErrorHandling?op(e):Ds(e)}function Ew(e){throw e}function $l(e,t){let{onStoppedNotification:n}=_t;n&&Ar.setTimeout(()=>n(e,t))}var xw={closed:!0,next:Hi,error:Ew,complete:Hi};var Nr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ze(e){return e}function Hl(...e){return zl(e)}function zl(e){return e.length===0?Ze:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var X=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Sw(n)?n:new Pr(n,r,i);return Or(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sp(r),new r((i,o)=>{let s=new Pr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Nr](){return this}pipe(...n){return zl(n)(this)}toPromise(n){return n=sp(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function sp(e){var t;return(t=e??_t.Promise)!==null&&t!==void 0?t:Promise}function Iw(e){return e&&L(e.next)&&L(e.error)&&L(e.complete)}function Sw(e){return e&&e instanceof Bn||Iw(e)&&Cs(e)}function Gl(e){return L(e?.lift)}function K(e){return t=>{if(Gl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(e,t,n,r,i){return new ql(e,t,n,r,i)}var ql=class extends Bn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Rr(){return K((e,t)=>{let n=null;e._refCount++;let r=W(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var kr=class extends X{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _e;let n=this.getSubject();t.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_e.EMPTY)}return t}refCount(){return Rr()(this)}};var ap=Tr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=(()=>{class e extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ap}next(n){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jl:(this.currentObservers=null,o.push(n),new _e(()=>{this.currentObservers=null,Bi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return e.create=(t,n)=>new xs(t,n),e})(),xs=class extends Me{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:jl}};var Ae=class extends Me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ye=new X(e=>e.complete());function cp(e){return e&&L(e.schedule)}function lp(e){return e[e.length-1]}function Is(e){return L(lp(e))?e.pop():void 0}function vn(e){return cp(lp(e))?e.pop():void 0}function dp(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function up(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hn(e){return this instanceof Hn?(this.v=e,this):new Hn(e)}function fp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(v){return Promise.resolve(v).then(f,d)}}function a(f,v){r[f]&&(i[f]=function(b){return new Promise(function(D,x){o.push([f,b,D,x])>1||c(f,b)})},v&&(i[f]=v(i[f])))}function c(f,v){try{l(r[f](v))}catch(b){h(o[0][3],b)}}function l(f){f.value instanceof Hn?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,v){f(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function hp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof up=="function"?up(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ss=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ms(e){return L(e?.then)}function Ts(e){return L(e[Nr])}function As(e){return Symbol.asyncIterator&&L(e?.[Symbol.asyncIterator])}function Os(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ps=Mw();function Ns(e){return L(e?.[Ps])}function Rs(e){return fp(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Hn(n.read());if(i)return yield Hn(void 0);yield yield Hn(r)}}finally{n.releaseLock()}})}function ks(e){return L(e?.getReader)}function we(e){if(e instanceof X)return e;if(e!=null){if(Ts(e))return Tw(e);if(Ss(e))return Aw(e);if(Ms(e))return Ow(e);if(As(e))return pp(e);if(Ns(e))return Pw(e);if(ks(e))return Nw(e)}throw Os(e)}function Tw(e){return new X(t=>{let n=e[Nr]();if(L(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Aw(e){return new X(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Ow(e){return new X(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ds)})}function Pw(e){return new X(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function pp(e){return new X(t=>{Rw(e,t).catch(n=>t.error(n))})}function Nw(e){return pp(Rs(e))}function Rw(e,t){var n,r,i,o;return dp(this,void 0,void 0,function*(){try{for(n=hp(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function He(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Fs(e,t=0){return K((n,r)=>{n.subscribe(W(r,i=>He(r,e,()=>r.next(i),t),()=>He(r,e,()=>r.complete(),t),i=>He(r,e,()=>r.error(i),t)))})}function Ls(e,t=0){return K((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function gp(e,t){return we(e).pipe(Ls(t),Fs(t))}function mp(e,t){return we(e).pipe(Ls(t),Fs(t))}function vp(e,t){return new X(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function yp(e,t){return new X(n=>{let r;return He(n,t,()=>{r=e[Ps](),He(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function js(e,t){if(!e)throw new Error("Iterable cannot be null");return new X(n=>{He(n,t,()=>{let r=e[Symbol.asyncIterator]();He(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _p(e,t){return js(Rs(e),t)}function wp(e,t){if(e!=null){if(Ts(e))return gp(e,t);if(Ss(e))return vp(e,t);if(Ms(e))return mp(e,t);if(As(e))return js(e,t);if(Ns(e))return yp(e,t);if(ks(e))return _p(e,t)}throw Os(e)}function fe(e,t){return t?wp(e,t):we(e)}function P(...e){let t=vn(e);return fe(e,t)}function Fr(e,t){let n=L(e)?e:()=>e,r=i=>i.error(n());return new X(t?i=>t.schedule(r,0,i):r)}function Wl(e){return!!e&&(e instanceof X||L(e.lift)&&L(e.subscribe))}var Jt=Tr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function z(e,t){return K((n,r)=>{let i=0;n.subscribe(W(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:kw}=Array;function Fw(e,t){return kw(t)?e(...t):e(t)}function Vs(e){return z(t=>Fw(e,t))}var{isArray:Lw}=Array,{getPrototypeOf:jw,prototype:Vw,keys:Uw}=Object;function Us(e){if(e.length===1){let t=e[0];if(Lw(t))return{args:t,keys:null};if($w(t)){let n=Uw(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function $w(e){return e&&typeof e=="object"&&jw(e)===Vw}function $s(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function zi(...e){let t=vn(e),n=Is(e),{args:r,keys:i}=Us(e);if(r.length===0)return fe([],t);let o=new X(Bw(r,t,i?s=>$s(i,s):Ze));return n?o.pipe(Vs(n)):o}function Bw(e,t,n=Ze){return r=>{bp(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)bp(t,()=>{let l=fe(e[c],t),u=!1;l.subscribe(W(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bp(e,t,n){e?He(n,e,t):t()}function Cp(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=b=>l<r?v(b):c.push(b),v=b=>{o&&t.next(b),l++;let D=!1;we(n(b,u++)).subscribe(W(t,x=>{i?.(x),o?f(x):t.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let x=c.shift();s?He(t,s,()=>v(x)):v(x)}h()}catch(x){t.error(x)}}))};return e.subscribe(W(t,f,()=>{d=!0,h()})),()=>{a?.()}}function be(e,t,n=1/0){return L(t)?be((r,i)=>z((o,s)=>t(r,o,i,s))(we(e(r,i))),n):(typeof t=="number"&&(n=t),K((r,i)=>Cp(r,i,e,n)))}function Lr(e=1/0){return be(Ze,e)}function Dp(){return Lr(1)}function jr(...e){return Dp()(fe(e,vn(e)))}function Bs(e){return new X(t=>{we(e()).subscribe(t)})}function Zl(...e){let t=Is(e),{args:n,keys:r}=Us(e),i=new X(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;we(n[u]).subscribe(W(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?$s(r,a):a),o.complete())}))}});return t?i.pipe(Vs(t)):i}function Ke(e,t){return K((n,r)=>{let i=0;n.subscribe(W(r,o=>e.call(t,o,i++)&&r.next(o)))})}function yn(e){return K((t,n)=>{let r=null,i=!1,o;r=t.subscribe(W(n,void 0,void 0,s=>{o=we(e(s,yn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ep(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(W(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function _n(e,t){return L(t)?be(e,t,1):be(e,1)}function wn(e){return K((t,n)=>{let r=!1;t.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Qt(e){return e<=0?()=>Ye:K((t,n)=>{let r=0;t.subscribe(W(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Yl(e){return z(()=>e)}function Hs(e=Hw){return K((t,n)=>{let r=!1;t.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Hw(){return new Jt}function Vr(e){return K((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function wt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ke((i,o)=>e(i,o,r)):Ze,Qt(1),n?wn(t):Hs(()=>new Jt))}function Ur(e){return e<=0?()=>Ye:K((t,n)=>{let r=[];t.subscribe(W(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Kl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ke((i,o)=>e(i,o,r)):Ze,Ur(1),n?wn(t):Hs(()=>new Jt))}function Jl(e,t){return K(Ep(e,t,arguments.length>=2,!0))}function Ql(...e){let t=vn(e);return K((n,r)=>{(t?jr(e,n,t):jr(e,n)).subscribe(r)})}function Je(e,t){return K((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let l=0,u=o++;we(e(c,u)).subscribe(i=W(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xl(e){return K((t,n)=>{we(e).subscribe(W(n,()=>n.complete(),Hi)),!n.closed&&t.subscribe(n)})}function xe(e,t,n){let r=L(e)||t||n?{next:e,error:t,complete:n}:e;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(W(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ze}var dg="https://g.co/ng/security#xss",M=class extends Error{constructor(t,n){super(Aa(t,n)),this.code=t}};function Aa(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function to(e){return{toString:e}.toString()}var zs="__parameters__";function zw(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function fg(e,t,n){return to(()=>{let r=zw(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(zs)?c[zs]:Object.defineProperty(c,zs,{value:[]})[zs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Gn=globalThis;function se(e){for(let t in e)if(e[t]===se)return t;throw Error("Could not find renamed property on target object.")}function Gw(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function je(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(je).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function xp(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var qw=se({__forward_ref__:se});function nn(e){return e.__forward_ref__=nn,e.toString=function(){return je(this())},e}function Le(e){return hg(e)?e():e}function hg(e){return typeof e=="function"&&e.hasOwnProperty(qw)&&e.__forward_ref__===nn}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Oa(e){return Ip(e,gg)||Ip(e,mg)}function pg(e){return Oa(e)!==null}function Ip(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ww(e){let t=e&&(e[gg]||e[mg]);return t||null}function Sp(e){return e&&(e.hasOwnProperty(Mp)||e.hasOwnProperty(Zw))?e[Mp]:null}var gg=se({\u0275prov:se}),Mp=se({\u0275inj:se}),mg=se({ngInjectableDef:se}),Zw=se({ngInjectorDef:se}),T=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vg(e){return e&&!!e.\u0275providers}var Yw=se({\u0275cmp:se}),Kw=se({\u0275dir:se}),Jw=se({\u0275pipe:se}),Qw=se({\u0275mod:se}),na=se({\u0275fac:se}),Wi=se({__NG_ELEMENT_ID__:se}),Tp=se({__NG_ENV_ID__:se});function Wr(e){return typeof e=="string"?e:e==null?"":String(e)}function Xw(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Wr(e)}function eb(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new M(-200,e)}function ad(e,t){throw new M(-201,!1)}var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{}),mu;function yg(){return mu}function ze(e){let t=mu;return mu=e,t}function _g(e,t,n){let r=Oa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(t!==void 0)return t;ad(e,"Injector")}var tb={},Zi=tb,vu="__NG_DI_FLAG__",ra="ngTempTokenPath",nb="ngTokenPath",rb=/\n/gm,ib="\u0275",Ap="__source",Gr;function ob(){return Gr}function bn(e){let t=Gr;return Gr=e,t}function sb(e,t=$.Default){if(Gr===void 0)throw new M(-203,!1);return Gr===null?_g(e,void 0,t):Gr.get(e,t&$.Optional?null:void 0,t)}function O(e,t=$.Default){return(yg()||sb)(Le(e),t)}function w(e,t=$.Default){return O(e,Pa(t))}function Pa(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function yu(e){let t=[];for(let n=0;n<e.length;n++){let r=Le(e[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],c=ab(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(O(i,o))}else t.push(O(r))}return t}function wg(e,t){return e[vu]=t,e.prototype[vu]=t,e}function ab(e){return e[vu]}function cb(e,t,n,r){let i=e[ra];throw t[Ap]&&i.unshift(t[Ap]),e.message=lb(`
`+e.message,i,n,r),e[nb]=i,e[ra]=null,e}function lb(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==ib?e.slice(2):e;let i=je(t);if(Array.isArray(t))i=t.map(je).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(rb,`
  `)}`}var Na=wg(fg("Optional"),8);var cd=wg(fg("SkipSelf"),4);function Wn(e,t){let n=e.hasOwnProperty(na);return n?e[na]:null}function ld(e,t){e.forEach(n=>Array.isArray(n)?ld(n,t):t(n))}function bg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ia(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ub(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function db(e,t,n){let r=no(e,t);return r>=0?e[r|1]=n:(r=~r,ub(e,r,t,n)),r}function eu(e,t){let n=no(e,t);if(n>=0)return e[n|1]}function no(e,t){return fb(e,t,1)}function fb(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Zr={},Qe=[],Zn=new T(""),Cg=new T("",-1),Dg=new T(""),oa=class{get(t,n=Zi){if(n===Zi){let r=new Error(`NullInjectorError: No provider for ${je(t)}!`);throw r.name="NullInjectorError",r}return n}},Eg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Eg||{}),kt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kt||{}),Dn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Dn||{});function hb(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function _u(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];pb(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function xg(e){return e===3||e===4||e===6}function pb(e){return e.charCodeAt(0)===64}function Yi(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Op(e,n,i,null,t[++r]):Op(e,n,i,null,null))}}return e}function Op(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Ig="ng-template";function gb(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&hb(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ud(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ud(e){return e.type===4&&e.value!==Ig}function mb(e,t,n){let r=e.type===4&&!n?Ig:e.value;return t===r}function vb(e,t,n){let r=4,i=e.attrs,o=i!==null?wb(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!bt(r)&&!bt(c))return!1;if(s&&bt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!mb(e,c,n)||c===""&&t.length===1){if(bt(r))return!1;s=!0}}else if(r&8){if(i===null||!gb(e,i,c,n)){if(bt(r))return!1;s=!0}}else{let l=t[++a],u=yb(c,i,ud(e),n);if(u===-1){if(bt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(bt(r))return!1;s=!0}}}}return bt(r)||s}function bt(e){return(e&1)===0}function yb(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bb(t,e)}function _b(e,t,n=!1){for(let r=0;r<t.length;r++)if(vb(e,t[r],n))return!0;return!1}function wb(e){for(let t=0;t<e.length;t++){let n=e[t];if(xg(n))return t}return e.length}function bb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Pp(e,t){return e?":not("+t.trim()+")":t}function Cb(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bt(s)&&(t+=Pp(o,i),i=""),r=s,o=o||!bt(r);n++}return i!==""&&(t+=Pp(o,i)),t}function Db(e){return e.map(Cb).join(",")}function Eb(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!bt(i))break;i=o}r++}return{attrs:t,classes:n}}function Ge(e){return to(()=>{let t=Pg(e),n=Y(C({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Eg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||kt.Emulated,styles:e.styles||Qe,_:null,schemas:e.schemas||null,tView:null,id:""});Ng(n);let r=e.dependencies;return n.directiveDefs=Rp(r,!1),n.pipeDefs=Rp(r,!0),n.id=Sb(n),n})}function xb(e){return En(e)||Mg(e)}function Ib(e){return e!==null}function Mn(e){return to(()=>({type:e.type,bootstrap:e.bootstrap||Qe,declarations:e.declarations||Qe,imports:e.imports||Qe,exports:e.exports||Qe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Np(e,t){if(e==null)return Zr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Dn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Dn.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Pe(e){return to(()=>{let t=Pg(e);return Ng(t),t})}function Sg(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function En(e){return e[Yw]||null}function Mg(e){return e[Kw]||null}function Tg(e){return e[Jw]||null}function Ag(e){let t=En(e)||Mg(e)||Tg(e);return t!==null?t.standalone:!1}function Og(e,t){let n=e[Qw]||null;if(!n&&t===!0)throw new Error(`Type ${je(e)} does not have '\u0275mod' property.`);return n}function Pg(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Zr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Qe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Np(e.inputs,t),outputs:Np(e.outputs),debugInfo:null}}function Ng(e){e.features?.forEach(t=>t(e))}function Rp(e,t){if(!e)return null;let n=t?Tg:xb;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Ib)}function Sb(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function nr(e){return{\u0275providers:e}}function Mb(...e){return{\u0275providers:Rg(!0,e),\u0275fromNgModule:!0}}function Rg(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ld(t,s=>{let a=s;wu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&kg(i,o),n}function kg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];dd(i,o=>{t(o,r)})}}function wu(e,t,n,r){if(e=Le(e),!e)return!1;let i=null,o=Sp(e),s=!o&&En(e);if(!o&&!s){let c=e.ngModule;if(o=Sp(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)wu(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ld(o.imports,u=>{wu(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&kg(l,t)}if(!a){let l=Wn(i)||(()=>new i);t({provide:i,useFactory:l,deps:Qe},i),t({provide:Dg,useValue:i,multi:!0},i),t({provide:Zn,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;dd(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function dd(e,t){for(let n of e)vg(n)&&(n=n.\u0275providers),Array.isArray(n)?dd(n,t):t(n)}var Tb=se({provide:String,useValue:se});function Fg(e){return e!==null&&typeof e=="object"&&Tb in e}function Ab(e){return!!(e&&e.useExisting)}function Ob(e){return!!(e&&e.useFactory)}function Yr(e){return typeof e=="function"}function Pb(e){return!!e.useClass}var Ra=new T(""),Js={},Nb={},tu;function fd(){return tu===void 0&&(tu=new oa),tu}var et=class{},Ki=class extends et{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cu(t,s=>this.processProvider(s)),this.records.set(Cg,$r(void 0,this)),i.has("environment")&&this.records.set(et,$r(void 0,this));let o=this.records.get(Ra);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dg,Qe,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=bn(this),r=ze(void 0),i;try{return t()}finally{bn(n),ze(r)}}get(t,n=Zi,r=$.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Tp))return t[Tp](this);r=Pa(r);let i,o=bn(this),s=ze(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=jb(t)&&Oa(t);l&&this.injectableDefInScope(l)?c=$r(bu(t),Js):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&$.Self?fd():this.parent;return n=r&$.Optional&&n===Zi?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ra]=a[ra]||[]).unshift(je(t)),o)throw a;return cb(a,t,"R3InjectorError",this.source)}else throw a}finally{ze(s),bn(o)}}resolveInjectorInitializers(){let t=J(null),n=bn(this),r=ze(void 0),i;try{let o=this.get(Zn,Qe,$.Self);for(let s of o)s()}finally{bn(n),ze(r),J(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(je(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){t=Le(t);let n=Yr(t)?t:Le(t&&t.provide),r=kb(t);if(!Yr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=$r(void 0,Js,!0),i.factory=()=>yu(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=J(null);try{return n.value===Js&&(n.value=Nb,n.value=n.factory()),typeof n.value=="object"&&n.value&&Lb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Le(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bu(e){let t=Oa(e),n=t!==null?t.factory:Wn(e);if(n!==null)return n;if(e instanceof T)throw new M(204,!1);if(e instanceof Function)return Rb(e);throw new M(204,!1)}function Rb(e){if(e.length>0)throw new M(204,!1);let n=Ww(e);return n!==null?()=>n.factory(e):()=>new e}function kb(e){if(Fg(e))return $r(void 0,e.useValue);{let t=Lg(e);return $r(t,Js)}}function Lg(e,t,n){let r;if(Yr(e)){let i=Le(e);return Wn(i)||bu(i)}else if(Fg(e))r=()=>Le(e.useValue);else if(Ob(e))r=()=>e.useFactory(...yu(e.deps||[]));else if(Ab(e))r=()=>O(Le(e.useExisting));else{let i=Le(e&&(e.useClass||e.provide));if(Fb(e))r=()=>new i(...yu(e.deps));else return Wn(i)||bu(i)}return r}function $r(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Fb(e){return!!e.deps}function Lb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function jb(e){return typeof e=="function"||typeof e=="object"&&e instanceof T}function Cu(e,t){for(let n of e)Array.isArray(n)?Cu(n,t):n&&vg(n)?Cu(n.\u0275providers,t):t(n)}function It(e,t){e instanceof Ki&&e.assertNotDestroyed();let n,r=bn(e),i=ze(void 0);try{return t()}finally{bn(r),ze(i)}}function jg(){return yg()!==void 0||ob()!=null}function Vb(e){if(!jg())throw new M(-203,!1)}function Ub(e){return typeof e=="function"}var tt=0,B=1,R=2,ke=3,Ct=4,St=5,Ft=6,sa=7,Et=8,Kr=9,Lt=10,he=11,Ji=12,kp=13,oi=14,ct=15,Jr=16,Br=17,Qr=18,ka=19,Vg=20,Cn=21,nu=22,at=23,Oe=25,Ug=1,Qi=6,Xt=7,aa=8,ca=9,Xe=10,la=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(la||{});function Dt(e){return Array.isArray(e)&&typeof e[Ug]=="object"}function jt(e){return Array.isArray(e)&&e[Ug]===!0}function $g(e){return(e.flags&4)!==0}function ro(e){return e.componentOffset>-1}function hd(e){return(e.flags&1)===1}function xn(e){return!!e.template}function ua(e){return(e[R]&512)!==0}var Du=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Bg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Tn(){return Hg}function Hg(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bb),$b}Tn.ngInherit=!0;function $b(){let e=Gg(this),t=e?.current;if(t){let n=e.previous;if(n===Zr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Bb(e,t,n,r,i){let o=this.declaredInputs[r],s=Gg(e)||Hb(e,{previous:Zr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Du(l&&l.currentValue,n,c===Zr),Bg(e,t,i,n)}var zg="__ngSimpleChanges__";function Gg(e){return e[zg]||null}function Hb(e,t){return e[zg]=t}var Fp=null;var Nt=function(e,t,n){Fp?.(e,t,n)},zb="svg",Gb="math";function xt(e){for(;Array.isArray(e);)e=e[tt];return e}function qg(e,t){return xt(t[e])}function nt(e,t){return xt(t[e.index])}function Wg(e,t){return e.data[t]}function Zg(e,t){return e[t]}function An(e,t){let n=t[e];return Dt(n)?n:n[tt]}function pd(e){return(e[R]&128)===128}function qb(e){return jt(e[ke])}function da(e,t){return t==null?null:e[t]}function Yg(e){e[Br]=0}function Kg(e){e[R]&1024||(e[R]|=1024,pd(e)&&La(e))}function Wb(e,t){for(;e>0;)t=t[oi],e--;return t}function Fa(e){return!!(e[R]&9216||e[at]?.dirty)}function Eu(e){e[Lt].changeDetectionScheduler?.notify(8),e[R]&64&&(e[R]|=1024),Fa(e)&&La(e)}function La(e){e[Lt].changeDetectionScheduler?.notify(0);let t=Yn(e);for(;t!==null&&!(t[R]&8192||(t[R]|=8192,!pd(t)));)t=Yn(t)}function Jg(e,t){if((e[R]&256)===256)throw new M(911,!1);e[Cn]===null&&(e[Cn]=[]),e[Cn].push(t)}function Zb(e,t){if(e[Cn]===null)return;let n=e[Cn].indexOf(t);n!==-1&&e[Cn].splice(n,1)}function Yn(e){let t=e[ke];return jt(t)?t[ke]:t}var U={lFrame:am(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qg=!1;function Yb(){return U.lFrame.elementDepthCount}function Kb(){U.lFrame.elementDepthCount++}function Jb(){U.lFrame.elementDepthCount--}function Xg(){return U.bindingsEnabled}function io(){return U.skipHydrationRootTNode!==null}function Qb(e){return U.skipHydrationRootTNode===e}function Xb(e){U.skipHydrationRootTNode=e}function eC(){U.skipHydrationRootTNode=null}function oe(){return U.lFrame.lView}function qe(){return U.lFrame.tView}function G(e){return U.lFrame.contextLView=e,e[Et]}function q(e){return U.lFrame.contextLView=null,e}function Ve(){let e=em();for(;e!==null&&e.type===64;)e=e.parent;return e}function em(){return U.lFrame.currentTNode}function tC(){let e=U.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function oo(e,t){let n=U.lFrame;n.currentTNode=e,n.isParent=t}function tm(){return U.lFrame.isParent}function nC(){U.lFrame.isParent=!1}function rC(){return U.lFrame.contextLView}function nm(){return Qg}function Lp(e){Qg=e}function iC(){let e=U.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function oC(){return U.lFrame.bindingIndex}function sC(e){return U.lFrame.bindingIndex=e}function ja(){return U.lFrame.bindingIndex++}function rm(e){let t=U.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function aC(){return U.lFrame.inI18n}function cC(e,t){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=e,xu(t)}function lC(){return U.lFrame.currentDirectiveIndex}function xu(e){U.lFrame.currentDirectiveIndex=e}function uC(e){let t=U.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function im(e){U.lFrame.currentQueryIndex=e}function dC(e){let t=e[B];return t.type===2?t.declTNode:t.type===1?e[St]:null}function om(e,t,n){if(n&$.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=dC(o),i===null||(o=o[oi],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=U.lFrame=sm();return r.currentTNode=t,r.lView=e,!0}function gd(e){let t=sm(),n=e[B];U.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function sm(){let e=U.lFrame,t=e===null?null:e.child;return t===null?am(e):t}function am(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function cm(){let e=U.lFrame;return U.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var lm=cm;function md(){let e=cm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fC(e){return(U.lFrame.contextLView=Wb(e,U.lFrame.contextLView))[Et]}function rr(){return U.lFrame.selectedIndex}function Kn(e){U.lFrame.selectedIndex=e}function vd(){let e=U.lFrame;return Wg(e.tView,e.selectedIndex)}function um(){return U.lFrame.currentNamespace}var dm=!0;function yd(){return dm}function On(e){dm=e}function hC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Hg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function _d(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Qs(e,t,n){fm(e,t,3,n)}function Xs(e,t,n,r){(e[R]&3)===n&&fm(e,t,n,r)}function ru(e,t){let n=e[R];(n&3)===t&&(n&=16383,n+=1,e[R]=n)}function fm(e,t,n,r){let i=r!==void 0?e[Br]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Br]+=65536),(a<o||o==-1)&&(pC(e,n,t,c),e[Br]=(e[Br]&4294901760)+c+2),c++}function jp(e,t){Nt(4,e,t);let n=J(null);try{t.call(e)}finally{J(n),Nt(5,e,t)}}function pC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[R]>>14<e[Br]>>16&&(e[R]&3)===t&&(e[R]+=16384,jp(a,o)):jp(a,o)}var qr=-1,Jn=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function gC(e){return e instanceof Jn}function mC(e){return(e.flags&8)!==0}function vC(e){return(e.flags&16)!==0}var iu={},Iu=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Pa(r);let i=this.injector.get(t,iu,r);return i!==iu||n===iu?i:this.parentInjector.get(t,n,r)}};function hm(e){return e!==qr}function fa(e){return e&32767}function yC(e){return e>>16}function ha(e,t){let n=yC(e),r=t;for(;n>0;)r=r[oi],n--;return r}var Su=!0;function pa(e){let t=Su;return Su=e,t}var _C=256,pm=_C-1,gm=5,wC=0,Rt={};function bC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wi)&&(r=n[Wi]),r==null&&(r=n[Wi]=wC++);let i=r&pm,o=1<<i;t.data[e+(i>>gm)]|=o}function ga(e,t){let n=mm(e,t);if(n!==-1)return n;let r=t[B];r.firstCreatePass&&(e.injectorIndex=t.length,ou(r.data,e),ou(t,null),ou(r.blueprint,null));let i=wd(e,t),o=e.injectorIndex;if(hm(i)){let s=fa(i),a=ha(i,t),c=a[B].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function ou(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mm(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function wd(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=bm(i),r===null)return qr;if(n++,i=i[oi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qr}function Mu(e,t,n){bC(e,t,n)}function CC(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(xg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function vm(e,t,n){if(n&$.Optional||e!==void 0)return e;ad(t,"NodeInjector")}function ym(e,t,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=e[Kr],o=ze(void 0);try{return i?i.get(t,r,n&$.Optional):_g(t,r,n&$.Optional)}finally{ze(o)}}return vm(r,t,n)}function _m(e,t,n,r=$.Default,i){if(e!==null){if(t[R]&2048&&!(r&$.Self)){let s=SC(e,t,n,r,Rt);if(s!==Rt)return s}let o=wm(e,t,n,r,Rt);if(o!==Rt)return o}return ym(t,n,r,i)}function wm(e,t,n,r,i){let o=xC(n);if(typeof o=="function"){if(!om(t,e,r))return r&$.Host?vm(i,n,r):ym(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))ad(n);else return s}finally{lm()}}else if(typeof o=="number"){let s=null,a=mm(e,t),c=qr,l=r&$.Host?t[ct][St]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?wd(e,t):t[a+8],c===qr||!Up(r,!1)?a=-1:(s=t[B],a=fa(c),t=ha(c,t)));a!==-1;){let u=t[B];if(Vp(o,a,u.data)){let d=DC(a,t,n,s,r,l);if(d!==Rt)return d}c=t[a+8],c!==qr&&Up(r,t[B].data[a+8]===l)&&Vp(o,a,t)?(s=u,a=fa(c),t=ha(c,t)):a=-1}}return i}function DC(e,t,n,r,i,o){let s=t[B],a=s.data[e+8],c=r==null?ro(a)&&Su:r!=s&&(a.type&3)!==0,l=i&$.Host&&o===a,u=EC(a,s,n,c,l);return u!==null?Xr(t,s,u,a):Rt}function EC(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let v=s[f];if(f<c&&n===v||f>=c&&v.type===n)return f}if(i){let f=s[c];if(f&&xn(f)&&f.type===n)return c}return null}function Xr(e,t,n,r){let i=e[n],o=t.data;if(gC(i)){let s=i;s.resolving&&eb(Xw(o[n]));let a=pa(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ze(s.injectImpl):null,u=om(e,r,$.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&hC(n,o[n],t)}finally{l!==null&&ze(l),pa(a),s.resolving=!1,lm()}}return i}function xC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Wi)?e[Wi]:void 0;return typeof t=="number"?t>=0?t&pm:IC:t}function Vp(e,t,n){let r=1<<e;return!!(n[t+(e>>gm)]&r)}function Up(e,t){return!(e&$.Self)&&!(e&$.Host&&t)}var qn=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _m(this._tNode,this._lView,t,Pa(r),n)}};function IC(){return new qn(Ve(),oe())}function rn(e){return to(()=>{let t=e.prototype.constructor,n=t[na]||Tu(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[na]||Tu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Tu(e){return hg(e)?()=>{let t=Tu(Le(e));return t&&t()}:Wn(e)}function SC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[R]&2048&&!(s[R]&512);){let a=wm(o,s,n,r|$.Self,Rt);if(a!==Rt)return a;let c=o.parent;if(!c){let l=s[Vg];if(l){let u=l.get(n,Rt,r);if(u!==Rt)return u}c=bm(s),s=s[oi]}o=c}return i}function bm(e){let t=e[B],n=t.type;return n===2?t.declTNode:n===1?e[St]:null}function bd(e){return CC(Ve(),e)}function $p(e,t=null,n=null,r){let i=Cm(e,t,n,r);return i.resolveInjectorInitializers(),i}function Cm(e,t=null,n=null,r,i=new Set){let o=[n||Qe,Mb(e)];return r=r||(typeof e=="object"?void 0:je(e)),new Ki(o,t||fd(),r||null,i)}var lt=class e{static{this.THROW_IF_NOT_FOUND=Zi}static{this.NULL=new oa}static create(t,n){if(Array.isArray(t))return $p({name:""},n,t,"");{let r=t.name??"";return $p({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=I({token:e,providedIn:"any",factory:()=>O(Cg)})}static{this.__NG_ELEMENT_ID__=-1}};var MC=new T("");MC.__NG_ELEMENT_ID__=e=>{let t=Ve();if(t===null)throw new M(204,!1);if(t.type&2)return t.value;if(e&$.Optional)return null;throw new M(204,!1)};var TC="ngOriginalError";function su(e){return e[TC]}var Dm=!0,Cd=(()=>{class e{static{this.__NG_ELEMENT_ID__=AC}static{this.__NG_ENV_ID__=n=>n}}return e})(),Au=class extends Cd{constructor(t){super(),this._lView=t}onDestroy(t){return Jg(this._lView,t),()=>Zb(this._lView,t)}};function AC(){return new Au(oe())}var ir=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ae(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Ou=class extends Me{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,jg()&&(this.destroyRef=w(Cd,{optional:!0})??void 0,this.pendingTasks=w(ir,{optional:!0})??void 0)}emit(t){let n=J(null);try{super.next(t)}finally{J(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof _e&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ie=Ou;function ma(...e){}function Em(e){let t,n;function r(){e=ma;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Bp(e){return queueMicrotask(()=>e()),()=>{e=ma}}var Dd="isAngularZone",va=Dd+"_ID",OC=0,ge=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Dm}=t;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,RC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Dd)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,PC,ma,ma);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},PC={};function Ed(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function NC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Em(()=>{e.callbackScheduled=!1,Pu(e),e.isCheckStableRunning=!0,Ed(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Pu(e)}function RC(e){let t=()=>{NC(e)},n=OC++;e._inner=e._inner.fork({name:"angular",properties:{[Dd]:!0,[va]:n,[va+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(kC(c))return r.invokeTask(o,s,a,c);try{return Hp(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),zp(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Hp(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!FC(c)&&t(),zp(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Pu(e),Ed(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Pu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Hp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zp(e){e._nesting--,Ed(e)}var Nu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function kC(e){return xm(e,"__ignore_ng_zone__")}function FC(e){return xm(e,"__scheduler_tick__")}function xm(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var en=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&su(t);for(;n&&su(n);)n=su(n);return n||null}},LC=new T("",{providedIn:"root",factory:()=>{let e=w(ge),t=w(en);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function jC(){return Va(Ve(),oe())}function Va(e,t){return new Pn(nt(e,t))}var Pn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=jC}}return e})();var VC="ngSkipHydration",UC="ngskiphydration";function Im(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===UC)return!0}return!1}function Sm(e){return e.hasAttribute(VC)}function ya(e){return(e.flags&128)===128}function $C(e){if(ya(e))return!0;let t=e.parent;for(;t;){if(ya(e)||Im(t))return!0;t=t.parent}return!1}var Mm=new Map,BC=0;function HC(){return BC++}function zC(e){Mm.set(e[ka],e)}function Ru(e){Mm.delete(e[ka])}var Gp="__ngContext__";function Qn(e,t){Dt(t)?(e[Gp]=t[ka],zC(t)):e[Gp]=t}function Tm(e){return Om(e[Ji])}function Am(e){return Om(e[Ct])}function Om(e){for(;e!==null&&!jt(e);)e=e[Ct];return e}var ku;function Pm(e){ku=e}function Ua(){if(ku!==void 0)return ku;if(typeof document<"u")return document;throw new M(210,!1)}var $a=new T("",{providedIn:"root",factory:()=>GC}),GC="ng",xd=new T(""),Mt=new T("",{providedIn:"platform",factory:()=>"unknown"});var Id=new T("",{providedIn:"root",factory:()=>Ua().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function qC(){let e=new si;return w(Mt)==="browser"&&(e.store=WC(Ua(),w($a))),e}var si=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=I({token:e,providedIn:"root",factory:qC})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function WC(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var Nm="h",Rm="b",Fu=function(e){return e.FirstChild="f",e.NextSibling="n",e}(Fu||{}),ZC="e",YC="t",Sd="c",km="x",_a="r",KC="i",JC="n",Fm="d";var QC="__nghData__",Lm=QC,au="ngh",XC="nghm",jm=()=>null;function eD(e,t,n=!1){let r=e.getAttribute(au);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(si,null,{optional:!0});u!==null&&(c=u.get(Lm,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,Ba(l,0,e.nextSibling)),a?e.setAttribute(au,a):e.removeAttribute(au),l}function tD(){jm=eD}function Md(e,t,n=!1){return jm(e,t,n)}function nD(e){let t=e._lView;return t[B].type===2?null:(ua(t)&&(t=t[Oe]),t)}function rD(e){return e.textContent?.replace(/\s/gm,"")}function iD(e){let t=Ua(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=rD(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function Ba(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Lu(e,t){return e.segmentHeads?.[t]??null}function oD(e,t){let n=e.data,r=n[ZC]?.[t]??null;return r===null&&n[Sd]?.[t]&&(r=Td(e,t)),r}function Vm(e,t){return e.data[Sd]?.[t]??null}function Td(e,t){let n=Vm(e,t)??[],r=0;for(let i of n)r+=i[_a]*(i[km]??1);return r}function sD(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[Fm];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function so(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[Fm];e.disconnectedNodes=n?new Set(n):null}return!!sD(e)?.has(t)}var Gs=new T(""),Um=!1,$m=new T("",{providedIn:"root",factory:()=>Um});var qs;function aD(){if(qs===void 0&&(qs=null,Gn.trustedTypes))try{qs=Gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return qs}function qp(e){return aD()?.createScriptURL(e)||e}var wa=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dg})`}};function ao(e){return e instanceof wa?e.changingThisBreaksApplicationSecurity:e}function Ad(e,t){let n=cD(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${dg})`)}return n===t}function cD(e){return e instanceof wa&&e.getTypeName()||null}var lD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bm(e){return e=String(e),e.match(lD)?e:"unsafe:"+e}var Ha=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ha||{});function uD(e){let t=zm();return t?t.sanitize(Ha.URL,e)||"":Ad(e,"URL")?ao(e):Bm(Wr(e))}function dD(e){let t=zm();if(t)return qp(t.sanitize(Ha.RESOURCE_URL,e)||"");if(Ad(e,"ResourceURL"))return qp(ao(e));throw new M(904,!1)}function fD(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?dD:uD}function Hm(e,t,n){return fD(t,n)(e)}function zm(){let e=oe();return e&&e[Lt].sanitizer}var hD=/^>|^->|<!--|-->|--!>|<!-$/g,pD=/(<|>)/g,gD="\u200B$1\u200B";function mD(e){return e.replace(hD,t=>t.replace(pD,gD))}function vD(e){return e.ownerDocument.body}function Gm(e){return e instanceof Function?e():e}function Gi(e){return(e??w(lt)).get(Mt)==="browser"}var tn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(tn||{}),yD;function Od(e,t){return yD(e,t)}function Hr(e,t,n,r,i){if(r!=null){let o,s=!1;jt(r)?o=r:Dt(r)&&(s=!0,r=r[tt]);let a=xt(r);e===0&&n!==null?i==null?Jm(t,n,a):ba(t,n,a,i||null,!0):e===1&&n!==null?ba(t,n,a,i||null,!0):e===2?kd(t,a,s):e===3&&t.destroyNode(a),o!=null&&ND(t,e,o,n,i)}}function qm(e,t){return e.createText(t)}function _D(e,t,n){e.setValue(t,n)}function Wm(e,t){return e.createComment(mD(t))}function Pd(e,t,n){return e.createElement(t,n)}function wD(e,t){Zm(e,t),t[tt]=null,t[St]=null}function bD(e,t,n,r,i,o){r[tt]=i,r[St]=t,za(e,r,n,1,i,o)}function Zm(e,t){t[Lt].changeDetectionScheduler?.notify(9),za(e,t,t[he],2,null,null)}function CD(e){let t=e[Ji];if(!t)return cu(e[B],e);for(;t;){let n=null;if(Dt(t))n=t[Ji];else{let r=t[Xe];r&&(n=r)}if(!n){for(;t&&!t[Ct]&&t!==e;)Dt(t)&&cu(t[B],t),t=t[ke];t===null&&(t=e),Dt(t)&&cu(t[B],t),n=t&&t[Ct]}t=n}}function DD(e,t,n,r){let i=Xe+r,o=n.length;r>0&&(n[i-1][Ct]=t),r<o-Xe?(t[Ct]=n[i],bg(n,Xe+r,t)):(n.push(t),t[Ct]=null),t[ke]=n;let s=t[Jr];s!==null&&n!==s&&Ym(s,t);let a=t[Qr];a!==null&&a.insertView(e),Eu(t),t[R]|=128}function Ym(e,t){let n=e[ca],r=t[ke];if(Dt(r))e[R]|=la.HasTransplantedViews;else{let i=r[ke][ct];t[ct]!==i&&(e[R]|=la.HasTransplantedViews)}n===null?e[ca]=[t]:n.push(t)}function Nd(e,t){let n=e[ca],r=n.indexOf(t);n.splice(r,1)}function ju(e,t){if(e.length<=Xe)return;let n=Xe+t,r=e[n];if(r){let i=r[Jr];i!==null&&i!==e&&Nd(i,r),t>0&&(e[n-1][Ct]=r[Ct]);let o=ia(e,Xe+t);wD(r[B],r);let s=o[Qr];s!==null&&s.detachView(o[B]),r[ke]=null,r[Ct]=null,r[R]&=-129}return r}function Km(e,t){if(!(t[R]&256)){let n=t[he];n.destroyNode&&za(e,t,n,3,null,null),CD(t)}}function cu(e,t){if(t[R]&256)return;let n=J(null);try{t[R]&=-129,t[R]|=256,t[at]&&Fl(t[at]),xD(e,t),ED(e,t),t[B].type===1&&t[he].destroy();let r=t[Jr];if(r!==null&&jt(t[ke])){r!==t[ke]&&Nd(r,t);let i=t[Qr];i!==null&&i.detachView(e)}Ru(t)}finally{J(n)}}function ED(e,t){let n=e.cleanup,r=t[sa];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[sa]=null);let i=t[Cn];if(i!==null){t[Cn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function xD(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Jn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Nt(4,a,c);try{c.call(a)}finally{Nt(5,a,c)}}else{Nt(4,i,o);try{o.call(i)}finally{Nt(5,i,o)}}}}}function ID(e,t,n){return SD(e,t.parent,n)}function SD(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[tt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===kt.None||o===kt.Emulated)return null}return nt(r,n)}}function ba(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Jm(e,t,n){e.appendChild(t,n)}function Wp(e,t,n,r,i){r!==null?ba(e,t,n,r,i):Jm(e,t,n)}function Qm(e,t){return e.parentNode(t)}function MD(e,t){return e.nextSibling(t)}function TD(e,t,n){return OD(e,t,n)}function AD(e,t,n){return e.type&40?nt(e,n):null}var OD=AD,Zp;function Rd(e,t,n,r){let i=ID(e,r,t),o=t[he],s=r.parent||t[St],a=TD(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Wp(o,i,n[c],a,!1);else Wp(o,i,n,a,!1);Zp!==void 0&&Zp(o,r,t,n,i)}function qi(e,t){if(t!==null){let n=t.type;if(n&3)return nt(t,e);if(n&4)return Vu(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return qi(e,r);{let i=e[t.index];return jt(i)?Vu(-1,i):xt(i)}}else{if(n&128)return qi(e,t.next);if(n&32)return Od(t,e)()||xt(e[t.index]);{let r=Xm(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Yn(e[ct]);return qi(i,r)}else return qi(e,t.next)}}}return null}function Xm(e,t){if(t!==null){let r=e[ct][St],i=t.projection;return r.projection[i]}return null}function Vu(e,t){let n=Xe+e+1;if(n<t.length){let r=t[n],i=r[B].firstChild;if(i!==null)return qi(r,i)}return t[Xt]}function kd(e,t,n){e.removeChild(null,t,n)}function ev(e){e.textContent=""}function Fd(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Qn(xt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Fd(e,t,n.child,r,i,o,!1),Hr(t,e,i,a,o);else if(c&32){let l=Od(n,r),u;for(;u=l();)Hr(t,e,i,u,o);Hr(t,e,i,a,o)}else c&16?PD(e,t,r,n,i,o):Hr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function za(e,t,n,r,i,o){Fd(n,r,e.firstChild,t,i,o,!1)}function PD(e,t,n,r,i,o){let s=n[ct],c=s[St].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Hr(t,e,i,u,o)}else{let l=c,u=s[ke];ya(r)&&(l.flags|=128),Fd(e,t,l,u,i,o,!0)}}function ND(e,t,n,r,i){let o=n[Xt],s=xt(n);o!==s&&Hr(t,e,r,o,i);for(let a=Xe;a<n.length;a++){let c=n[a];za(c[B],c,e,t,r,o)}}function RD(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:tn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tn.Important),e.setStyle(n,r,i,o))}}function kD(e,t,n){e.setAttribute(t,"style",n)}function tv(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&_u(e,t,r),i!==null&&tv(e,t,i),o!==null&&kD(e,t,o)}var on={};function _(e=1){rv(qe(),oe(),rr()+e,!1)}function rv(e,t,n,r){if(!r)if((t[R]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Qs(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Xs(t,o,0,n)}Kn(n)}function A(e,t=$.Default){let n=oe();if(n===null)return O(e,t);let r=Ve();return _m(r,n,Le(e),t)}function iv(){let e="invalid";throw new Error(e)}function ov(e,t,n,r,i,o){let s=J(null);try{let a=null;i&Dn.SignalBased&&(a=t[r][Kt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Dn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):Bg(t,a,r,o)}finally{J(s)}}function FD(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kn(~i);else{let o=i,s=n[++r],a=n[++r];cC(s,o);let c=t[o];a(2,c)}}}finally{Kn(-1)}}function Ga(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[tt]=i,d[R]=r|4|128|8|64,(l!==null||e&&e[R]&2048)&&(d[R]|=2048),Yg(d),d[ke]=d[oi]=e,d[Et]=n,d[Lt]=s||e&&e[Lt],d[he]=a||e&&e[he],d[Kr]=c||e&&e[Kr]||null,d[St]=o,d[ka]=HC(),d[Ft]=u,d[Vg]=l,d[ct]=t.type==2?e[ct]:d,d}function qa(e,t,n,r,i){let o=e.data[t];if(o===null)o=LD(e,t,n,r,i),aC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=tC();o.injectorIndex=s===null?-1:s.injectorIndex}return oo(o,!0),o}function LD(e,t,n,r,i){let o=em(),s=tm(),a=s?o:o&&o.parent,c=e.data[t]=HD(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function sv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function av(e,t,n,r,i){let o=rr(),s=r&2;try{Kn(-1),s&&t.length>Oe&&rv(e,t,Oe,!1),Nt(s?2:0,i),n(r,i)}finally{Kn(o),Nt(s?3:1,i)}}function cv(e,t,n){if($g(t)){let r=J(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{J(r)}}}function lv(e,t,n){Xg()&&(YD(e,t,n,nt(n,t)),(n.flags&64)===64&&mv(e,t,n))}function uv(e,t,n=nt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function dv(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ld(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ld(e,t,n,r,i,o,s,a,c,l,u){let d=Oe+r,h=d+i,f=jD(d,h),v=typeof l=="function"?l():l;return f[B]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function jD(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:on);return n}function VD(e,t,n,r){let o=r.get($m,Um)||n===kt.ShadowDom,s=e.selectRootElement(t,o);return UD(s),s}function UD(e){fv(e)}var fv=()=>null;function $D(e){Sm(e)?ev(e):iD(e)}function BD(){fv=$D}function HD(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return io()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yp(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=Dn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}e===0?Kp(r,n,l,a,c):Kp(r,n,l,a)}return r}function Kp(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function zD(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,v=h?h.outputs:null;c=Yp(0,d.inputs,u,c,f),l=Yp(1,d.outputs,u,l,v);let b=c!==null&&s!==null&&!ud(t)?sE(c,u,s):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function GD(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function hv(e,t,n,r,i,o,s,a){let c=nt(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?(jd(e,n,u,r,i),ro(t)&&qD(n,t.index)):t.type&3?(r=GD(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function qD(e,t){let n=An(t,e);n[R]&16||(n[R]|=64)}function pv(e,t,n,r){if(Xg()){let i=r===null?null:{"":-1},o=JD(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&gv(e,t,n,s,i,a),i&&QD(n,r,i)}n.mergedAttrs=Yi(n.mergedAttrs,n.attrs)}function gv(e,t,n,r,i,o){for(let l=0;l<r.length;l++)Mu(ga(n,t),e,r[l].type);eE(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=sv(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Yi(n.mergedAttrs,u.hostAttrs),tE(e,n,t,c,u),XD(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}zD(e,n,o)}function WD(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;ZD(s)!=a&&s.push(a),s.push(n,r,o)}}function ZD(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function YD(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;ro(n)&&nE(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ga(n,t),Qn(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],l=Xr(t,e,a,n);if(Qn(l,t),s!==null&&oE(t,a-i,l,c,n,s),xn(c)){let u=An(n.index,t);u[Et]=Xr(t,e,a,n)}}}function mv(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lC();try{Kn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];xu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&KD(c,l)}}finally{Kn(-1),xu(s)}}function KD(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function JD(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(_b(t,s.selectors,!1))if(r||(r=[]),xn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Uu(e,t,c)}else r.unshift(s),Uu(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Uu(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function QD(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new M(-301,!1);r.push(t[i],o)}}}function XD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;xn(t)&&(n[""]=e)}}function eE(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function tE(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Wn(i.type,!0)),s=new Jn(o,xn(i),A);e.blueprint[r]=s,n[r]=s,WD(e,t,r,sv(e,n,i.hostVars,on),i)}function nE(e,t,n){let r=nt(t,e),i=dv(n),o=e[Lt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Wa(e,Ga(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function rE(e,t,n,r,i,o){let s=nt(e,t);iE(t[he],s,o,e.value,n,r,i)}function iE(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Wr(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function oE(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];ov(r,n,c,l,u,d)}}function sE(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function vv(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function yv(e,t){let n=e.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];im(o),a.contentQueries(2,t[s],s)}}}finally{J(r)}}}function Wa(e,t){return e[Ji]?e[kp][Ct]=t:e[Ji]=t,e[kp]=t,t}function $u(e,t,n){im(0);let r=J(null);try{t(e,n)}finally{J(r)}}function aE(e){return e[sa]??=[]}function cE(e){return e.cleanup??=[]}function _v(e,t){let n=e[Kr],r=n?n.get(en,null):null;r&&r.handleError(t)}function jd(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=t[s],u=e.data[s];ov(u,l,r,a,c,i)}}function wv(e,t,n){let r=qg(t,e);_D(e[he],r,n)}function lE(e,t){let n=An(t,e),r=n[B];uE(r,n);let i=n[tt];i!==null&&n[Ft]===null&&(n[Ft]=Md(i,n[Kr])),Vd(r,n,n[Et])}function uE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Vd(e,t,n){gd(t);try{let r=e.viewQuery;r!==null&&$u(1,r,n);let i=e.template;i!==null&&av(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Qr]?.finishViewCreation(e),e.staticContentQueries&&yv(e,t),e.staticViewQueries&&$u(2,e.viewQuery,n);let o=e.components;o!==null&&dE(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[R]&=-5,md()}}function dE(e,t){for(let n=0;n<t.length;n++)lE(e,t[n])}function fE(e,t,n,r){let i=J(null);try{let o=t.tView,a=e[R]&4096?4096:16,c=Ga(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Jr]=l;let u=e[Qr];return u!==null&&(c[Qr]=u.createEmbeddedView(o)),Vd(o,c,n),c}finally{J(i)}}function Jp(e,t){return!t||t.firstChild===null||ya(e)}function hE(e,t,n,r=!0){let i=t[B];if(DD(i,t,e,n),r){let s=Vu(n,e),a=t[he],c=Qm(a,e[Xt]);c!==null&&bD(i,e[St],a,t,c,s)}let o=t[Ft];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ca(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(xt(o)),jt(o)&&pE(o,r);let s=n.type;if(s&8)Ca(e,t,n.child,r);else if(s&32){let a=Od(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Xm(t,n);if(Array.isArray(a))r.push(...a);else{let c=Yn(t[ct]);Ca(c[B],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pE(e,t){for(let n=Xe;n<e.length;n++){let r=e[n],i=r[B].firstChild;i!==null&&Ca(r[B],r,i,t)}e[Xt]!==e[tt]&&t.push(e[Xt])}var bv=[];function gE(e){return e[at]??mE(e)}function mE(e){let t=bv.pop()??Object.create(yE);return t.lView=e,t}function vE(e){e.lView[at]!==e&&(e.lView=null,bv.push(e))}var yE=Y(C({},$i),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{La(e.lView)},consumerOnSignalRead(){this.lView[at]=this}});function _E(e){let t=e[at]??Object.create(wE);return t.lView=e,t}var wE=Y(C({},$i),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Yn(e.lView);for(;t&&!Cv(t[B]);)t=Yn(t);t&&Kg(t)},consumerOnSignalRead(){this.lView[at]=this}});function Cv(e){return e.type!==2}var bE=100;function Dv(e,t=!0,n=0){let r=e[Lt],i=r.rendererFactory,o=!1;o||i.begin?.();try{CE(e,n)}catch(s){throw t&&_v(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function CE(e,t){let n=nm();try{Lp(!0),Bu(e,t);let r=0;for(;Fa(e);){if(r===bE)throw new M(103,!1);r++,Bu(e,1)}}finally{Lp(n)}}function DE(e,t,n,r){let i=t[R];if((i&256)===256)return;let o=!1,s=!1;!o&&t[Lt].inlineEffectRunner?.flush(),gd(t);let a=!0,c=null,l=null;o||(Cv(e)?(l=gE(t),c=ys(l)):$h()===null?(a=!1,l=_E(t),c=ys(l)):t[at]&&(Fl(t[at]),t[at]=null));try{Yg(t),sC(e.bindingStartIndex),n!==null&&av(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Qs(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Xs(t,f,0,null),ru(t,0)}if(s||EE(t),Ev(t,0),e.contentQueries!==null&&yv(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&Qs(t,f)}else{let f=e.contentHooks;f!==null&&Xs(t,f,1),ru(t,1)}FD(e,t);let d=e.components;d!==null&&Iv(t,d,0);let h=e.viewQuery;if(h!==null&&$u(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&Qs(t,f)}else{let f=e.viewHooks;f!==null&&Xs(t,f,2),ru(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[nu]){for(let f of t[nu])f();t[nu]=null}o||(t[R]&=-73)}catch(u){throw o||La(t),u}finally{l!==null&&(Rl(l,c),a&&vE(l)),md()}}function Ev(e,t){for(let n=Tm(e);n!==null;n=Am(n))for(let r=Xe;r<n.length;r++){let i=n[r];xv(i,t)}}function EE(e){for(let t=Tm(e);t!==null;t=Am(t)){if(!(t[R]&la.HasTransplantedViews))continue;let n=t[ca];for(let r=0;r<n.length;r++){let i=n[r];Kg(i)}}}function xE(e,t,n){let r=An(t,e);xv(r,n)}function xv(e,t){pd(e)&&Bu(e,t)}function Bu(e,t){let r=e[B],i=e[R],o=e[at],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&kl(o)),s||=!1,o&&(o.dirty=!1),e[R]&=-9217,s)DE(r,e,r.template,e[Et]);else if(i&8192){Ev(e,1);let a=r.components;a!==null&&Iv(e,a,1)}}function Iv(e,t,n){for(let r=0;r<t.length;r++)xE(e,t[r],n)}function Ud(e,t){let n=nm()?64:1088;for(e[Lt].changeDetectionScheduler?.notify(t);e;){e[R]|=n;let r=Yn(e);if(ua(e)&&!r)return e;e=r}return null}var Xn=class{get rootNodes(){let t=this._lView,n=t[B];return Ca(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Et]}set context(t){this._lView[Et]=t}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ke];if(jt(t)){let n=t[aa],r=n?n.indexOf(this):-1;r>-1&&(ju(t,r),ia(n,r))}this._attachedToViewContainer=!1}Km(this._lView[B],this._lView)}onDestroy(t){Jg(this._lView,t)}markForCheck(){Ud(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R]&=-129}reattach(){Eu(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,Dv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ua(this._lView),n=this._lView[Jr];n!==null&&!t&&Nd(n,this._lView),Zm(this._lView[B],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t;let n=ua(this._lView),r=this._lView[Jr];r!==null&&!n&&Ym(r,this._lView),Eu(this._lView)}},Za=(()=>{class e{static{this.__NG_ELEMENT_ID__=ME}}return e})(),IE=Za,SE=class extends IE{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=fE(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Xn(i)}};function ME(){return Sv(Ve(),oe())}function Sv(e,t){return e.type&4?new SE(t,e,Va(e,t)):null}var TE=new RegExp(`^(\\d+)*(${Rm}|${Nm})*(.*)`);function AE(e){let t=e.match(TE),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function OE(e){return!e.prev&&e.parent?.type===8}function lu(e){return e.index-Oe}function PE(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Ya(e,t,n,r){let i=lu(r),o=PE(e,i);if(o===void 0){let s=e.data[JC];if(s?.[i])o=RE(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(OE(r)){let l=lu(r.parent);o=Lu(e,l)}else{let l=nt(c,n);if(a)o=l.firstChild;else{let u=lu(c),d=Lu(e,u);if(c.type===2&&d){let f=Td(e,u)+1;o=Ka(f,d)}else o=l.nextSibling}}}}return o}function Ka(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function NE(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case Fu.FirstChild:n=n.firstChild;break;case Fu.NextSibling:n=n.nextSibling;break}}return n}function RE(e,t){let[n,...r]=AE(e),i;if(n===Nm)i=t[ct][tt];else if(n===Rm)i=vD(t[ct][tt]);else{let o=Number(n);i=xt(t[o+Oe])}return NE(i,r)}var kE=!1;function FE(e){kE=e}function LE(e){let t=e[Ft];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[he];for(let o of r.values())jE(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function jE(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-Oe);i&&kd(e,i,!1)}}function Mv(e){let t=e[Qi]??[],r=e[ke][he];for(let i of t)VE(i,r);e[Qi]=Qe}function VE(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[_a];for(;n<i;){let o=r.nextSibling;kd(t,r,!1),r=o,n++}}}function Tv(e){Mv(e);let t=e[tt];Dt(t)&&Da(t);for(let n=Xe;n<e.length;n++)Da(e[n])}function Da(e){LE(e);let t=e[B];for(let n=Oe;n<t.bindingStartIndex;n++)if(jt(e[n])){let r=e[n];Tv(r)}else Dt(e[n])&&Da(e[n])}function UE(e){let t=e._views;for(let n of t){let r=nD(n);r!==null&&r[tt]!==null&&(Dt(r)?Da(r):Tv(r))}}function $E(e,t){let n=[];for(let r of t)for(let i=0;i<(r[km]??1);i++){let o={data:r,firstChild:null};r[_a]>0&&(o.firstChild=e,e=Ka(r[_a],e)),n.push(o)}return[e,n]}var Av=()=>null;function BE(e,t){let n=e[Qi];return!t||n===null||n.length===0?null:n[0].data[KC]===t?n.shift():(Mv(e),null)}function HE(){Av=BE}function Qp(e,t){return Av(e,t)}var ei=class{},Ja=new T("",{providedIn:"root",factory:()=>!1});var Ov=new T(""),Pv=new T(""),Hu=class{},Ea=class{};function zE(e){let t=Error(`No component factory found for ${je(e)}.`);return t[GE]=e,t}var GE="ngComponent";var zu=class{resolveComponentFactory(t){throw zE(t)}},ti=class{static{this.NULL=new zu}},ni=class{},or=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>qE()}}return e})();function qE(){let e=oe(),t=Ve(),n=An(t.index,e);return(Dt(n)?n:e)[he]}var WE=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>null})}}return e})();function Gu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=xp(i,a);else if(o==2){let c=a,l=t[++s];r=xp(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var xa=class extends ti{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=En(t);return new ri(n,this.ngModule)}};function Xp(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Dn.None;t?n.push({propName:s,templateName:r,isSignal:(a&Dn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function ZE(e){let t=e.toLowerCase();return t==="svg"?zb:t==="math"?Gb:null}var ri=class extends Ea{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=Xp(t.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Xp(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Db(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=J(null);try{i=i||this.ngModule;let s=i instanceof et?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Iu(t,s):t,c=a.get(ni,null);if(c===null)throw new M(407,!1);let l=a.get(WE,null),u=a.get(ei,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},h=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",v=r?VD(h,r,this.componentDef.encapsulation,a):Pd(h,f,ZE(f)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let D=null;v!==null&&(D=Md(v,a,!0));let x=Ld(0,null,null,1,0,null,null,null,null,null,null),F=Ga(null,x,null,b,null,null,d,h,a,null,D);gd(F);let Q,E,Z=null;try{let ye=this.componentDef,re,de=null;ye.findHostDirectiveDefs?(re=[],de=new Map,ye.findHostDirectiveDefs(ye,re,de),re.push(ye)):re=[ye];let hw=YE(F,v);Z=KE(hw,v,ye,re,F,d,h),E=Wg(x,Oe),v&&XE(h,ye,v,r),n!==void 0&&ex(E,this.ngContentSelectors,n),Q=QE(Z,ye,re,de,F,[tx]),Vd(x,F,null)}catch(ye){throw Z!==null&&Ru(Z),Ru(F),ye}finally{md()}return new qu(this.componentType,Q,Va(E,F),F,E)}finally{J(o)}}},qu=class extends Hu{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xn(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;jd(o[B],o,i,t,n),this.previousInputValues.set(t,n);let s=An(this._tNode.index,o);Ud(s,1)}}get injector(){return new qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function YE(e,t){let n=e[B],r=Oe;return e[r]=t,qa(n,r,2,"#host",null)}function KE(e,t,n,r,i,o,s){let a=i[B];JE(r,e,t,s);let c=null;t!==null&&(c=Md(t,i[Kr]));let l=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Ga(i,dv(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&Uu(a,e,r.length-1),Wa(i,d),i[e.index]=d}function JE(e,t,n,r){for(let i of e)t.mergedAttrs=Yi(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Gu(t,t.mergedAttrs,!0),n!==null&&nv(r,n,t))}function QE(e,t,n,r,i,o){let s=Ve(),a=i[B],c=nt(s,i);gv(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Xr(i,a,d,s);Qn(h,i)}mv(a,i,s),c&&Qn(c,i);let l=Xr(i,a,s.directiveStart+s.componentOffset,s);if(e[Et]=i[Et]=l,o!==null)for(let u of o)u(l,t);return cv(a,s,i),l}function XE(e,t,n,r){if(r)_u(e,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=Eb(t.selectors[0]);i&&_u(e,n,i),o&&o.length>0&&tv(e,n,o.join(" "))}}function ex(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function tx(){let e=Ve();_d(oe()[B],e)}var ai=(()=>{class e{static{this.__NG_ELEMENT_ID__=nx}}return e})();function nx(){let e=Ve();return ix(e,oe())}var rx=ai,Nv=class extends rx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new qn(this._hostTNode,this._hostLView)}get parentInjector(){let t=wd(this._hostTNode,this._hostLView);if(hm(t)){let n=ha(t,this._hostLView),r=fa(t),i=n[B].data[r+8];return new qn(i,n)}else return new qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=eg(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Qp(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Jp(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!Ub(t),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?t:new ri(En(t)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let b=(s?l:this.parentInjector).get(et,null);b&&(o=b)}let u=En(c.componentType??{}),d=Qp(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,Jp(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(qb(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[ke],l=new Nv(c,c[St],c[ke]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return hE(s,i,o,r),t.attachToViewContainerRef(),bg(uu(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=eg(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=ju(this._lContainer,n);r&&(ia(uu(this._lContainer),n),Km(r[B],r))}detach(t){let n=this._adjustIndex(t,-1),r=ju(this._lContainer,n);return r&&ia(uu(this._lContainer),n)!=null?new Xn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function eg(e){return e[aa]}function uu(e){return e[aa]||(e[aa]=[])}function ix(e,t){let n,r=t[e.index];return jt(r)?n=r:(n=vv(r,t,null,e),t[e.index]=n,Wa(t,n)),Rv(n,t,e,r),new Nv(n,e,t)}function ox(e,t){let n=e[he],r=n.createComment(""),i=nt(t,e),o=Qm(n,i);return ba(n,o,r,MD(n,i),!1),r}var Rv=kv,$d=()=>!1;function sx(e,t,n){return $d(e,t,n)}function kv(e,t,n,r){if(e[Xt])return;let i;n.type&8?i=xt(r):i=ox(t,n),e[Xt]=i}function ax(e,t,n){if(e[Xt]&&e[Qi])return!0;let r=n[Ft],i=t.index-Oe;if(!r||$C(t)||so(r,i))return!1;let s=Lu(r,i),a=r.data[Sd]?.[i],[c,l]=$E(s,a);return e[Xt]=c,e[Qi]=l,!0}function cx(e,t,n,r){$d(e,n,t)||kv(e,t,n,r)}function lx(){Rv=cx,$d=ax}var tg=new Set;function sn(e){tg.has(e)||(tg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ux(e){return typeof e=="function"&&e[Kt]!==void 0}function Qa(e,t){sn("NgSignals");let n=Qh(e),r=n[Kt];return t?.equal&&(r.equal=t.equal),n.set=i=>Ll(r,i),n.update=i=>Xh(r,i),n.asReadonly=dx.bind(n),n}function dx(){let e=this[Kt];if(e.readonlyFn===void 0){let t=()=>this();t[Kt]=e,e.readonlyFn=t}return e.readonlyFn}function Fv(e){return ux(e)&&typeof e.set=="function"}function fx(e){return Object.getPrototypeOf(e.prototype).constructor}function Vt(e){let t=fx(e.type),n=!0,r=[e];for(;t;){let i;if(xn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Ws(e.inputs),s.inputTransforms=Ws(e.inputTransforms),s.declaredInputs=Ws(e.declaredInputs),s.outputs=Ws(e.outputs);let a=i.hostBindings;a&&vx(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&gx(e,c),l&&mx(e,l),hx(e,i),Gw(e.outputs,i.outputs),xn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Vt&&(n=!1)}}t=Object.getPrototypeOf(t)}px(r)}function hx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function px(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Yi(i.hostAttrs,n=Yi(n,i.hostAttrs))}}function Ws(e){return e===Zr?{}:e===Qe?[]:e}function gx(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function mx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function vx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Bd(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}var In=class{},Xi=class{};var Wu=class extends In{constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xa(this);let o=Og(t);this._bootstrapComponents=Gm(o.bootstrap),this._r3Injector=Cm(t,n,[{provide:In,useValue:this},{provide:ti,useValue:this.componentFactoryResolver},...r],je(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Zu=class extends Xi{constructor(t){super(),this.moduleType=t}create(t){return new Wu(this.moduleType,t,[])}};var Ia=class extends In{constructor(t){super(),this.componentFactoryResolver=new xa(this),this.instance=null;let n=new Ki([...t.providers,{provide:In,useValue:this},{provide:ti,useValue:this.componentFactoryResolver}],t.parent||fd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Xa(e,t,n=null){return new Ia({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Lv(e){return _x(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function yx(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function _x(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function wx(e,t,n){return e[t]=n}function er(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function jv(e,t,n,r){let i=er(e,t,n);return er(e,t+1,r)||i}function co(e){return(e.flags&32)===32}function bx(e,t,n,r,i,o,s,a,c){let l=t.consts,u=qa(t,e,4,s||null,a||null);pv(t,n,u,da(l,c)),_d(t,u);let d=u.tView=Ld(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Cx(e,t,n,r,i,o,s,a,c,l){let u=n+Oe,d=t.firstCreatePass?bx(u,t,e,r,i,o,s,a,c):t.data[u];oo(d,!1);let h=Vv(t,e,d,n);yd()&&Rd(t,e,h,d),Qn(h,e);let f=vv(h,e,h,d);return e[u]=f,Wa(e,f),sx(f,d,e),hd(d)&&lv(t,e,d),c!=null&&uv(e,d,l),d}function ee(e,t,n,r,i,o,s,a){let c=oe(),l=qe(),u=da(l.consts,o);return Cx(c,l,e,t,n,r,i,u,s,a),ee}var Vv=Uv;function Uv(e,t,n,r){return On(!0),t[he].createComment("")}function Dx(e,t,n,r){let i=t[Ft],o=!i||io()||co(n)||so(i,r);if(On(o),o)return Uv(e,t,n,r);let s=i.data[YC]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ya(i,e,t,n);Ba(i,r,a);let c=Td(i,r);return Ka(c,a)}function Ex(){Vv=Dx}var zr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(zr||{}),$v=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Yu=class e{constructor(){this.ngZone=w(ge),this.scheduler=w(ei),this.errorHandler=w(en,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[zr.EarlyRead,zr.Write,zr.MixedReadWrite,zr.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}},Ku=class{constructor(t,n,r,i){this.impl=t,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Hd(e,t){!t?.injector&&Vb(Hd);let n=t?.injector??w(lt);return Gi(n)?(sn("NgAfterNextRender"),Ix(e,n,t,!0)):Sx}function xx(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Ix(e,t,n,r){let i=t.get($v);i.impl??=t.get(Yu);let o=n?.phase??zr.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(Cd):null,a=new Ku(i.impl,xx(e,o),r,s);return i.impl.register(a),a}var Sx={destroy(){}};function an(e,t,n,r){let i=oe(),o=ja();if(er(i,o,t)){let s=qe(),a=vd();rE(a,i,e,t,n,r)}return an}function Mx(e,t,n,r){return er(e,ja(),n)?t+Wr(n)+r:on}function Tx(e,t,n,r,i,o){let s=oC(),a=jv(e,s,n,i);return rm(2),a?t+Wr(n)+r+Wr(i)+o:on}function Zs(e,t){return e<<17|t<<2}function tr(e){return e>>17&32767}function Ax(e){return(e&2)==2}function Ox(e,t){return e&131071|t<<17}function Ju(e){return e|2}function ii(e){return(e&131068)>>2}function du(e,t){return e&-131069|t<<2}function Px(e){return(e&1)===1}function Qu(e){return e|1}function Nx(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=tr(s),c=ii(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||no(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=tr(e[a+1]);e[r+1]=Zs(h,a),h!==0&&(e[h+1]=du(e[h+1],r)),e[a+1]=Ox(e[a+1],r)}else e[r+1]=Zs(a,0),a!==0&&(e[a+1]=du(e[a+1],r)),a=r;else e[r+1]=Zs(c,0),a===0?a=r:e[c+1]=du(e[c+1],r),c=r;l&&(e[r+1]=Ju(e[r+1])),ng(e,u,r,!0),ng(e,u,r,!1),Rx(t,u,e,r,o),s=Zs(a,c),o?t.classBindings=s:t.styleBindings=s}function Rx(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&no(o,t)>=0&&(n[r+1]=Qu(n[r+1]))}function ng(e,t,n,r){let i=e[n+1],o=t===null,s=r?tr(i):ii(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];kx(c,t)&&(a=!0,e[s+1]=r?Qu(l):Ju(l)),s=r?tr(l):ii(l)}a&&(e[n+1]=r?Ju(i):Qu(i))}function kx(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?no(e,t)>=0:!1}function N(e,t,n){let r=oe(),i=ja();if(er(r,i,t)){let o=qe(),s=vd();hv(o,s,r,e,t,r[he],n,!1)}return N}function rg(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";jd(e,n,o[s],s,r)}function ci(e,t,n){return Bv(e,t,n,!1),ci}function ut(e,t){return Bv(e,t,null,!0),ut}function Bv(e,t,n,r){let i=oe(),o=qe(),s=rm(2);if(o.firstUpdatePass&&Lx(o,e,s,r),t!==on&&er(i,s,t)){let a=o.data[rr()];Bx(o,a,i,i[he],e,i[s+1]=Hx(t,n),r,s)}}function Fx(e,t){return t>=e.expandoStartIndex}function Lx(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[rr()],s=Fx(e,n);zx(o,r)&&t===null&&!s&&(t=!1),t=jx(i,o,t,r),Nx(i,o,t,n,s,r)}}function jx(e,t,n,r){let i=uC(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=fu(null,e,t,n,r),n=eo(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=fu(i,e,t,n,r),o===null){let c=Vx(e,t,r);c!==void 0&&Array.isArray(c)&&(c=fu(null,e,t,c[1],r),c=eo(c,t.attrs,r),Ux(e,t,r,c))}else o=$x(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Vx(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ii(r)!==0)return e[tr(r)]}function Ux(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[tr(i)]=r}function $x(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=eo(r,s,n)}return eo(r,t.attrs,n)}function fu(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=eo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function eo(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),db(e,s,n?!0:t[++o]))}return e===void 0?null:e}function Bx(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Px(l)?ig(c,t,n,i,ii(l),s):void 0;if(!Sa(u)){Sa(o)||Ax(l)&&(o=ig(c,null,n,i,a,s));let d=qg(rr(),n);RD(r,s,d,i,o)}}function ig(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===on&&(h=d?Qe:void 0);let f=d?eu(h,r):u===r?h:void 0;if(l&&!Sa(f)&&(f=eu(c,r)),Sa(f)&&(a=f,s))return a;let v=e[i+1];i=s?tr(v):ii(v)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=eu(c,r))}return a}function Sa(e){return e!==void 0}function Hx(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=je(ao(e)))),e}function zx(e,t){return(e.flags&(t?8:16))!==0}function Gx(e,t,n,r,i,o){let s=t.consts,a=da(s,i),c=qa(t,e,2,r,a);return pv(t,n,c,da(s,o)),c.attrs!==null&&Gu(c,c.attrs,!1),c.mergedAttrs!==null&&Gu(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function m(e,t,n,r){let i=oe(),o=qe(),s=Oe+e,a=i[he],c=o.firstCreatePass?Gx(s,o,i,t,n,r):o.data[s],l=Hv(o,i,c,a,t,e);i[s]=l;let u=hd(c);return oo(c,!0),nv(a,l,c),!co(c)&&yd()&&Rd(o,i,l,c),Yb()===0&&Qn(l,i),Kb(),u&&(lv(o,i,c),cv(o,c,i)),r!==null&&uv(i,c),m}function g(){let e=Ve();tm()?nC():(e=e.parent,oo(e,!1));let t=e;Qb(t)&&eC(),Jb();let n=qe();return n.firstCreatePass&&(_d(n,e),$g(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&mC(t)&&rg(n,t,oe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&vC(t)&&rg(n,t,oe(),t.stylesWithoutHost,!1),g}function Ut(e,t,n,r){return m(e,t,n,r),g(),Ut}var Hv=(e,t,n,r,i,o)=>(On(!0),Pd(r,i,um()));function qx(e,t,n,r,i,o){let s=t[Ft],a=!s||io()||co(n)||so(s,o);if(On(a),a)return Pd(r,i,um());let c=Ya(s,e,t,n);return Vm(s,o)&&Ba(s,o,c.nextSibling),s&&(Im(n)||Sm(c))&&ro(n)&&(Xb(n),ev(c)),c}function Wx(){Hv=qx}var Zx=(e,t,n,r)=>(On(!0),Wm(t[he],""));function Yx(e,t,n,r){let i,o=t[Ft],s=!o||io()||so(o,r)||co(n);if(On(s),s)return Wm(t[he],"");let a=Ya(o,e,t,n),c=oD(o,r);return Ba(o,r,a),i=Ka(c,a),i}function Kx(){Zx=Yx}function Ce(){return oe()}var zn=void 0;function Jx(e){let t=e,n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Qx=["en",[["a","p"],["AM","PM"],zn],[["AM","PM"],zn,zn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zn,"{1} 'at' {0}",zn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Jx],hu={};function dt(e){let t=Xx(e),n=og(t);if(n)return n;let r=t.split("-")[0];if(n=og(r),n)return n;if(r==="en")return Qx;throw new M(701,!1)}function og(e){return e in hu||(hu[e]=Gn.ng&&Gn.ng.common&&Gn.ng.common.locales&&Gn.ng.common.locales[e]),hu[e]}var me=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(me||{});function Xx(e){return e.toLowerCase().replace(/_/g,"-")}var Ma="en-US";var eI=Ma;function tI(e){typeof e=="string"&&(eI=e.toLowerCase().replace(/_/g,"-"))}var nI=(e,t,n)=>{};function j(e,t,n,r){let i=oe(),o=qe(),s=Ve();return zv(o,i,i[he],s,e,t,r),j}function rI(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[sa],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function zv(e,t,n,r,i,o,s){let a=hd(r),l=e.firstCreatePass&&cE(e),u=t[Et],d=aE(t),h=!0;if(r.type&3||s){let b=nt(r,t),D=s?s(b):b,x=d.length,F=s?E=>s(xt(E[r.index])):r.index,Q=null;if(!s&&a&&(Q=rI(e,t,i,r.index)),Q!==null){let E=Q.__ngLastListenerFn__||Q;E.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,h=!1}else{o=ag(r,t,u,o),nI(b,i,o);let E=n.listen(D,i,o);d.push(o,E),l&&l.push(i,F,x,x+1)}}else o=ag(r,t,u,o);let f=r.outputs,v;if(h&&f!==null&&(v=f[i])){let b=v.length;if(b)for(let D=0;D<b;D+=2){let x=v[D],F=v[D+1],Z=t[x][F].subscribe(o),ye=d.length;d.push(o,Z),l&&l.push(i,r.index,ye,-(ye+1))}}}function sg(e,t,n,r){let i=J(null);try{return Nt(6,t,n),n(r)!==!1}catch(o){return _v(e,o),!1}finally{Nt(7,t,n),J(i)}}function ag(e,t,n,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?An(e.index,t):t;Ud(s,5);let a=sg(t,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=sg(t,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function S(e=1){return fC(e)}function iI(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Gv(e){let t=rC();return Zg(t,Oe+e)}function y(e,t=""){let n=oe(),r=qe(),i=e+Oe,o=r.firstCreatePass?qa(r,i,1,t,null):r.data[i],s=qv(r,n,o,t,e);n[i]=s,yd()&&Rd(r,n,s,o),oo(o,!1)}var qv=(e,t,n,r,i)=>(On(!0),qm(t[he],r));function oI(e,t,n,r,i){let o=t[Ft],s=!o||io()||co(n)||so(o,i);return On(s),s?qm(t[he],r):Ya(o,e,t,n)}function sI(){qv=oI}function pe(e){return le("",e,""),pe}function le(e,t,n){let r=oe(),i=Mx(r,e,t,n);return i!==on&&wv(r,rr(),i),le}function li(e,t,n,r,i){let o=oe(),s=Tx(o,e,t,n,r,i);return s!==on&&wv(o,rr(),s),li}function Tt(e,t,n){Fv(t)&&(t=t());let r=oe(),i=ja();if(er(r,i,t)){let o=qe(),s=vd();hv(o,s,r,e,t,r[he],n,!1)}return Tt}function $t(e,t){let n=Fv(e);return n&&e.set(t),n}function At(e,t){let n=oe(),r=qe(),i=Ve();return zv(r,n,n[he],i,e,t),At}function aI(e,t,n){let r=qe();if(r.firstCreatePass){let i=xn(e);Xu(n,r.data,r.blueprint,i,!0),Xu(t,r.data,r.blueprint,i,!1)}}function Xu(e,t,n,r,i){if(e=Le(e),Array.isArray(e))for(let o=0;o<e.length;o++)Xu(e[o],t,n,r,i);else{let o=qe(),s=oe(),a=Ve(),c=Yr(e)?e:Le(e.provide),l=Lg(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Yr(e)||!e.multi){let f=new Jn(l,i,A),v=gu(c,t,i?u:u+h,d);v===-1?(Mu(ga(a,s),o,c),pu(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[v]=f,s[v]=f)}else{let f=gu(c,t,u+h,d),v=gu(c,t,u,u+h),b=f>=0&&n[f],D=v>=0&&n[v];if(i&&!D||!i&&!b){Mu(ga(a,s),o,c);let x=uI(i?lI:cI,n.length,i,r,l);!i&&D&&(n[v].providerFactory=x),pu(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=Wv(n[i?v:f],l,!i&&r);pu(o,e,f>-1?f:v,x)}!i&&r&&D&&n[v].componentProviders++}}}function pu(e,t,n,r){let i=Yr(t),o=Pb(t);if(i||o){let c=(o?Le(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Wv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function gu(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function cI(e,t,n,r){return ed(this.multi,[])}function lI(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Xr(n,n[B],this.providerFactory.index,r);o=a.slice(0,s),ed(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ed(i,o);return o}function ed(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function uI(e,t,n,r,i){let o=new Jn(e,n,A);return o.multi=[],o.index=t,o.componentProviders=0,Wv(o,i,r&&!n),o}function sr(e,t=[]){return n=>{n.providersResolver=(r,i)=>aI(r,i?i(e):e,t)}}var dI=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Rg(!1,n.type),i=r.length>0?Xa([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(O(et))})}}return e})();function We(e){sn("NgStandalone"),e.getStandaloneInjector=t=>t.get(dI).getOrCreateStandaloneInjector(e)}function fI(e,t){let n=e[t];return n===on?void 0:n}function hI(e,t,n,r,i,o,s){let a=t+n;return jv(e,a,i,o)?wx(e,a+2,s?r.call(s,i,o):r(i,o)):fI(e,a+2)}function Zv(e,t){let n=qe(),r,i=e+Oe;n.firstCreatePass?(r=pI(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Wn(r.type,!0)),s,a=ze(A);try{let c=pa(!1),l=o();return pa(c),iI(n,oe(),i,l),l}finally{ze(a)}}function pI(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Yv(e,t,n,r){let i=e+Oe,o=oe(),s=Zg(o,i);return gI(o,i)?hI(o,iC(),t,s.transform,n,r,s):s.transform(n,r)}function gI(e,t){return e[B].data[t].pure}function Kv(e,t){return Sv(e,t)}var ec=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Jv=new T("");function ar(e){return!!e&&typeof e.then=="function"}function Qv(e){return!!e&&typeof e.subscribe=="function"}var tc=new T(""),Xv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=w(tc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ar(o))n.push(o);else if(Qv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cr=new T("");function mI(){Jh(()=>{throw new M(600,!1)})}function vI(e){return e.isBoundToModule}var yI=10;function _I(e,t,n){try{let r=n();return ar(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Bt=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(LC),this.afterRenderManager=w($v),this.zonelessEnabled=w(Ja),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Me,this.afterTick=new Me,this.componentTypes=[],this.components=[],this.isStable=w(ir).hasPendingTasks.pipe(z(n=>!n)),this._injector=w(et)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ea;if(!this._injector.get(Xv).done){let h=!i&&Ag(n),f=!1;throw new M(405,f)}let s;i?s=n:s=this._injector.get(ti).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=vI(s)?void 0:this._injector.get(In),c=r||s.selector,l=s.create(lt.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Jv,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ea(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);let n=J(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,J(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ni,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<yI;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)wI(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ea(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(cr,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ea(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ea(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ys;function nc(e){Ys??=new WeakMap;let t=Ys.get(e);if(t)return t;let n=e.isStable.pipe(wt(r=>r)).toPromise().then(()=>{});return Ys.set(e,n),e.onDestroy(()=>Ys?.delete(e)),n}function wI(e,t,n,r){if(!n&&!Fa(e))return;Dv(e,t,n&&!r?0:1)}var td=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},rc=(()=>{class e{compileModuleSync(n){return new Zu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Og(n),o=Gm(i.declarations).reduce((s,a)=>{let c=En(a);return c&&s.push(new ri(c)),s},[]);return new td(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var bI=(()=>{class e{constructor(){this.zone=w(ge),this.changeDetectionScheduler=w(ei),this.applicationRef=w(Bt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),CI=new T("",{factory:()=>!1});function ey({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ge(Y(C({},ny()),{scheduleInRootZone:n})),[{provide:ge,useFactory:e},{provide:Zn,multi:!0,useFactory:()=>{let r=w(bI,{optional:!0});return()=>r.initialize()}},{provide:Zn,multi:!0,useFactory:()=>{let r=w(DI);return()=>{r.initialize()}}},t===!0?{provide:Ov,useValue:!0}:[],{provide:Pv,useValue:n??Dm}]}function ty(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=ey({ngZoneFactory:()=>{let i=ny(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&sn("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return nr([{provide:CI,useValue:!0},{provide:Ja,useValue:!1},r])}function ny(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var DI=(()=>{class e{constructor(){this.subscription=new _e,this.initialized=!1,this.zone=w(ge),this.pendingTasks=w(ir)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var EI=(()=>{class e{constructor(){this.appRef=w(Bt),this.taskService=w(ir),this.ngZone=w(ge),this.zonelessEnabled=w(Ja),this.disableScheduling=w(Ov,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new _e,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(va):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(w(Pv,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Bp:Em;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(va+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Bp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xI(){return typeof $localize<"u"&&$localize.locale||Ma}var ic=new T("",{providedIn:"root",factory:()=>w(ic,$.Optional|$.SkipSelf)||xI()});var nd=new T("");function Ks(e){return!e.moduleRef}function II(e){let t=Ks(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ge);return n.run(()=>{Ks(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(en,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ks(e)){let o=()=>t.destroy(),s=e.platformInjector.get(nd);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(nd);s.add(o),e.moduleRef.onDestroy(()=>{ea(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return _I(r,n,()=>{let o=t.get(Xv);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(ic,Ma);if(tI(s||Ma),Ks(e)){let a=t.get(Bt);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return SI(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function SI(e,t){let n=e.injector.get(Bt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new M(-403,!1);t.push(e)}var ta=null;function MI(e=[],t){return lt.create({name:t,providers:[{provide:Ra,useValue:"platform"},{provide:nd,useValue:new Set([()=>ta=null])},...e]})}function TI(e=[]){if(ta)return ta;let t=MI(e);return ta=t,mI(),AI(t),t}function AI(e){e.get(xd,null)?.forEach(n=>n())}var lr=(()=>{class e{static{this.__NG_ELEMENT_ID__=OI}}return e})();function OI(e){return PI(Ve(),oe(),(e&16)===16)}function PI(e,t,n){if(ro(e)&&!n){let r=An(e.index,t);return new Xn(r,r)}else if(e.type&175){let r=t[ct];return new Xn(r,t)}return null}var rd=class{constructor(){}supports(t){return Lv(t)}create(t){return new id(t)}},NI=(e,t)=>t,id=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||NI}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<cg(r,i,o)?n:r,a=cg(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,v=f+h;u<=v&&v<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Lv(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,yx(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new od(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ta),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},od=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sd=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ta=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new sd,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cg(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function lg(){return new zd([new rd])}var zd=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:lg})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||lg()),deps:[[e,new cd,new Na]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new M(901,!1)}}return e})();function ry(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=TI(r),o=[ey({}),{provide:ei,useExisting:EI},...n||[]],s=new Ia({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return II({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}var ug=!1;function RI(){ug||(ug=!0,tD(),Wx(),sI(),Kx(),Ex(),lx(),HE(),BD())}function kI(e,t){return nc(e)}function iy(){return nr([{provide:Gs,useFactory:()=>{let e=!0;return Gi()&&(e=!!w(si,{optional:!0})?.get(Lm,null)),e&&sn("NgHydration"),e}},{provide:Zn,useValue:()=>{FE(!1),Gi()&&w(Gs)&&(FI(),RI())},multi:!0},{provide:$m,useFactory:()=>Gi()&&w(Gs)},{provide:cr,useFactory:()=>{if(Gi()&&w(Gs)){let e=w(Bt),t=w(lt);return()=>{kI(e,t).then(()=>{UE(e)})}}return()=>{}},multi:!0}])}function FI(){let e=Ua(),t;for(let n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===XC){t=n;break}if(!t)throw new M(-507,!1)}function ur(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function oc(e,t){sn("NgSignals");let n=Zh(e);return t?.equal&&(n[Kt].equal=t.equal),n}function Nn(e){let t=J(null);try{return e()}finally{J(t)}}function oy(e){let t=En(e);if(!t)return null;let n=new ri(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var dy=null;function dn(){return dy}function fy(e){dy??=e}var pc=class{};var $e=new T(""),Xd=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>w(LI),providedIn:"platform"})}}return e})(),hy=new T(""),LI=(()=>{class e extends Xd{constructor(){super(),this._doc=w($e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dn().getBaseHref(this._doc)}onPopState(n){let r=dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function ef(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function sy(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function ln(e){return e&&e[0]!=="?"?"?"+e:e}var fn=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>w(tf),providedIn:"root"})}}return e})(),py=new T(""),tf=(()=>{class e extends fn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??w($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ef(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(O(Xd),O(py,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gy=(()=>{class e extends fn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ef(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(O(Xd),O(py,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),ui=(()=>{class e{constructor(n){this._subject=new Ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=UI(sy(ay(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ln(r))}normalize(n){return e.stripTrailingSlash(VI(this._basePath,ay(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ln(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ln}static{this.joinWithSlash=ef}static{this.stripTrailingSlash=sy}static{this.\u0275fac=function(r){return new(r||e)(O(fn))}}static{this.\u0275prov=I({token:e,factory:()=>jI(),providedIn:"root"})}}return e})();function jI(){return new ui(O(fn))}function VI(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function ay(e){return e.replace(/\/index.html$/,"")}function UI(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Ue=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ue||{}),ae=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ae||{}),rt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(rt||{}),Rn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $I(e){return dt(e)[me.LocaleId]}function BI(e,t,n){let r=dt(e),i=[r[me.DayPeriodsFormat],r[me.DayPeriodsStandalone]],o=ft(i,t);return ft(o,n)}function HI(e,t,n){let r=dt(e),i=[r[me.DaysFormat],r[me.DaysStandalone]],o=ft(i,t);return ft(o,n)}function zI(e,t,n){let r=dt(e),i=[r[me.MonthsFormat],r[me.MonthsStandalone]],o=ft(i,t);return ft(o,n)}function GI(e,t){let r=dt(e)[me.Eras];return ft(r,t)}function sc(e,t){let n=dt(e);return ft(n[me.DateFormat],t)}function ac(e,t){let n=dt(e);return ft(n[me.TimeFormat],t)}function cc(e,t){let r=dt(e)[me.DateTimeFormat];return ft(r,t)}function vc(e,t){let n=dt(e),r=n[me.NumberSymbols][t];if(typeof r>"u"){if(t===Rn.CurrencyDecimal)return n[me.NumberSymbols][Rn.Decimal];if(t===Rn.CurrencyGroup)return n[me.NumberSymbols][Rn.Group]}return r}function my(e){if(!e[me.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[me.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qI(e){let t=dt(e);return my(t),(t[me.ExtraData][2]||[]).map(r=>typeof r=="string"?Gd(r):[Gd(r[0]),Gd(r[1])])}function WI(e,t,n){let r=dt(e);my(r);let i=[r[me.ExtraData][0],r[me.ExtraData][1]],o=ft(i,t)||[];return ft(o,n)||[]}function ft(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function Gd(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var ZI=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lc={},YI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,un=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(un||{}),ne=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ne||{}),te=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(te||{});function KI(e,t,n,r){let i=oS(e);t=cn(n,t)||t;let s=[],a;for(;t;)if(a=YI.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let c=i.getTimezoneOffset();r&&(c=yy(r,c),i=iS(i,r,!0));let l="";return s.forEach(u=>{let d=nS(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gc(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function cn(e,t){let n=$I(e);if(lc[n]??={},lc[n][t])return lc[n][t];let r="";switch(t){case"shortDate":r=sc(e,rt.Short);break;case"mediumDate":r=sc(e,rt.Medium);break;case"longDate":r=sc(e,rt.Long);break;case"fullDate":r=sc(e,rt.Full);break;case"shortTime":r=ac(e,rt.Short);break;case"mediumTime":r=ac(e,rt.Medium);break;case"longTime":r=ac(e,rt.Long);break;case"fullTime":r=ac(e,rt.Full);break;case"short":let i=cn(e,"shortTime"),o=cn(e,"shortDate");r=uc(cc(e,rt.Short),[i,o]);break;case"medium":let s=cn(e,"mediumTime"),a=cn(e,"mediumDate");r=uc(cc(e,rt.Medium),[s,a]);break;case"long":let c=cn(e,"longTime"),l=cn(e,"longDate");r=uc(cc(e,rt.Long),[c,l]);break;case"full":let u=cn(e,"fullTime"),d=cn(e,"fullDate");r=uc(cc(e,rt.Full),[u,d]);break}return r&&(lc[n][t]=r),r}function uc(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Ot(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function JI(e,t){return Ot(e,3).substring(0,t)}function De(e,t,n=0,r=!1,i=!1){return function(o,s){let a=QI(e,o);if((n>0||a>-n)&&(a+=n),e===ne.Hours)a===0&&n===-12&&(a=12);else if(e===ne.FractionalSeconds)return JI(a,t);let c=vc(s,Rn.MinusSign);return Ot(a,t,c,r,i)}}function QI(e,t){switch(e){case ne.FullYear:return t.getFullYear();case ne.Month:return t.getMonth();case ne.Date:return t.getDate();case ne.Hours:return t.getHours();case ne.Minutes:return t.getMinutes();case ne.Seconds:return t.getSeconds();case ne.FractionalSeconds:return t.getMilliseconds();case ne.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ce(e,t,n=Ue.Format,r=!1){return function(i,o){return XI(i,o,e,t,n,r)}}function XI(e,t,n,r,i,o){switch(n){case te.Months:return zI(t,i,r)[e.getMonth()];case te.Days:return HI(t,i,r)[e.getDay()];case te.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let l=qI(t),u=WI(t,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){let[f,v]=h,b=s>=f.hours&&a>=f.minutes,D=s<v.hours||s===v.hours&&a<v.minutes;if(f.hours<v.hours){if(b&&D)return!0}else if(b||D)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return BI(t,i,r)[s<12?0:1];case te.Eras:return GI(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function dc(e){return function(t,n,r){let i=-1*r,o=vc(n,Rn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case un.Short:return(i>=0?"+":"")+Ot(s,2,o)+Ot(Math.abs(i%60),2,o);case un.ShortGMT:return"GMT"+(i>=0?"+":"")+Ot(s,1,o);case un.Long:return"GMT"+(i>=0?"+":"")+Ot(s,2,o)+":"+Ot(Math.abs(i%60),2,o);case un.Extended:return r===0?"Z":(i>=0?"+":"")+Ot(s,2,o)+":"+Ot(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var eS=0,hc=4;function tS(e){let t=gc(e,eS,1).getDay();return gc(e,0,1+(t<=hc?hc:hc+7)-t)}function vy(e){let t=e.getDay(),n=t===0?-3:hc-t;return gc(e.getFullYear(),e.getMonth(),e.getDate()+n)}function qd(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=vy(n),s=tS(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ot(i,e,vc(r,Rn.MinusSign))}}function fc(e,t=!1){return function(n,r){let o=vy(n).getFullYear();return Ot(o,e,vc(r,Rn.MinusSign),t)}}var Wd={};function nS(e){if(Wd[e])return Wd[e];let t;switch(e){case"G":case"GG":case"GGG":t=ce(te.Eras,ae.Abbreviated);break;case"GGGG":t=ce(te.Eras,ae.Wide);break;case"GGGGG":t=ce(te.Eras,ae.Narrow);break;case"y":t=De(ne.FullYear,1,0,!1,!0);break;case"yy":t=De(ne.FullYear,2,0,!0,!0);break;case"yyy":t=De(ne.FullYear,3,0,!1,!0);break;case"yyyy":t=De(ne.FullYear,4,0,!1,!0);break;case"Y":t=fc(1);break;case"YY":t=fc(2,!0);break;case"YYY":t=fc(3);break;case"YYYY":t=fc(4);break;case"M":case"L":t=De(ne.Month,1,1);break;case"MM":case"LL":t=De(ne.Month,2,1);break;case"MMM":t=ce(te.Months,ae.Abbreviated);break;case"MMMM":t=ce(te.Months,ae.Wide);break;case"MMMMM":t=ce(te.Months,ae.Narrow);break;case"LLL":t=ce(te.Months,ae.Abbreviated,Ue.Standalone);break;case"LLLL":t=ce(te.Months,ae.Wide,Ue.Standalone);break;case"LLLLL":t=ce(te.Months,ae.Narrow,Ue.Standalone);break;case"w":t=qd(1);break;case"ww":t=qd(2);break;case"W":t=qd(1,!0);break;case"d":t=De(ne.Date,1);break;case"dd":t=De(ne.Date,2);break;case"c":case"cc":t=De(ne.Day,1);break;case"ccc":t=ce(te.Days,ae.Abbreviated,Ue.Standalone);break;case"cccc":t=ce(te.Days,ae.Wide,Ue.Standalone);break;case"ccccc":t=ce(te.Days,ae.Narrow,Ue.Standalone);break;case"cccccc":t=ce(te.Days,ae.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":t=ce(te.Days,ae.Abbreviated);break;case"EEEE":t=ce(te.Days,ae.Wide);break;case"EEEEE":t=ce(te.Days,ae.Narrow);break;case"EEEEEE":t=ce(te.Days,ae.Short);break;case"a":case"aa":case"aaa":t=ce(te.DayPeriods,ae.Abbreviated);break;case"aaaa":t=ce(te.DayPeriods,ae.Wide);break;case"aaaaa":t=ce(te.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":t=ce(te.DayPeriods,ae.Abbreviated,Ue.Standalone,!0);break;case"bbbb":t=ce(te.DayPeriods,ae.Wide,Ue.Standalone,!0);break;case"bbbbb":t=ce(te.DayPeriods,ae.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":t=ce(te.DayPeriods,ae.Abbreviated,Ue.Format,!0);break;case"BBBB":t=ce(te.DayPeriods,ae.Wide,Ue.Format,!0);break;case"BBBBB":t=ce(te.DayPeriods,ae.Narrow,Ue.Format,!0);break;case"h":t=De(ne.Hours,1,-12);break;case"hh":t=De(ne.Hours,2,-12);break;case"H":t=De(ne.Hours,1);break;case"HH":t=De(ne.Hours,2);break;case"m":t=De(ne.Minutes,1);break;case"mm":t=De(ne.Minutes,2);break;case"s":t=De(ne.Seconds,1);break;case"ss":t=De(ne.Seconds,2);break;case"S":t=De(ne.FractionalSeconds,1);break;case"SS":t=De(ne.FractionalSeconds,2);break;case"SSS":t=De(ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=dc(un.Short);break;case"ZZZZZ":t=dc(un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=dc(un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=dc(un.Long);break;default:return null}return Wd[e]=t,t}function yy(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function rS(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function iS(e,t,n){let r=n?-1:1,i=e.getTimezoneOffset(),o=yy(t,i);return rS(e,r*(o-i))}function oS(e){if(cy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return gc(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(ZI))return sS(r)}let t=new Date(e);if(!cy(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function sS(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,c,l),t}function cy(e){return e instanceof Date&&!isNaN(e.valueOf())}function nf(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Zd=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ht=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Zd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ly(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ly(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(A(ai),A(Za),A(zd))}}static{this.\u0275dir=Pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function ly(e,t){e.context.$implicit=t.item}var kn=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new Yd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uy("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uy("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(A(ai),A(Za))}}static{this.\u0275dir=Pe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Yd=class{constructor(){this.$implicit=null,this.ngIf=null}};function uy(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${je(t)}'.`)}function aS(e,t){return new M(2100,!1)}var cS="mediumDate",lS=new T(""),uS=new T(""),_y=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??cS,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return KI(n,s,o||this.locale,a)}catch(s){throw aS(e,s.message)}}static{this.\u0275fac=function(r){return new(r||e)(A(ic,16),A(lS,24),A(uS,24))}}static{this.\u0275pipe=Sg({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var it=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Mn({type:e})}static{this.\u0275inj=Sn({})}}return e})(),rf="browser",dS="server";function fS(e){return e===rf}function lo(e){return e===dS}var wy=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>fS(w(Mt))?new Kd(w($e),window):new Jd})}}return e})(),Kd=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=hS(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function hS(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Jd=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},mc=class{};var _c=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var My=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(My||{}),of=class{constructor(t,n=200,r="OK"){this.headers=t.headers||new _c,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var wc=class e extends of{constructor(t={}){super(t),this.type=My.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var pS=new T("");var gS=new T(""),by="b",Cy="h",Dy="s",Ey="st",xy="u",Iy="rt",yc=new T(""),mS=["GET","HEAD"];function vS(e,t){let f=w(yc),{isCacheActive:n}=f,r=Fh(f,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!mS.includes(o)||!r.includeRequestsWithAuthHeaders&&yS(e)||r.filter?.(e)===!1)return t(e);let s=w(si),a=w(gS,{optional:!0}),c=lo(w(Mt));if(a&&!c)throw new M(2803,!1);let l=c&&a?CS(e.url,a):e.url,u=wS(e,l),d=s.get(u,null),h=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(h=i.includeHeaders),d){let{[by]:v,[Iy]:b,[Cy]:D,[Dy]:x,[Ey]:F,[xy]:Q}=d,E=v;switch(b){case"arraybuffer":E=new TextEncoder().encode(v).buffer;break;case"blob":E=new Blob([v]);break}let Z=new _c(D);return P(new wc({body:E,headers:Z,status:x,statusText:F,url:Q}))}return t(e).pipe(xe(v=>{v instanceof wc&&c&&s.set(u,{[by]:v.body,[Cy]:_S(v.headers,h),[Dy]:v.status,[Ey]:v.statusText,[xy]:l,[Iy]:e.responseType})}))}function yS(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function _S(e,t){if(!t)return{};let n={};for(let r of t){let i=e.getAll(r);i!==null&&(n[r]=i)}return n}function Sy(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function wS(e,t){let{params:n,method:r,responseType:i}=e,o=Sy(n),s=e.serializeBody();s instanceof URLSearchParams?s=Sy(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=bS(a);return c}function bS(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function Ty(e){return[{provide:yc,useFactory:()=>(sn("NgHttpTransferCache"),C({isCacheActive:!0},e))},{provide:pS,useValue:vS,multi:!0,deps:[si,yc]},{provide:cr,multi:!0,useFactory:()=>{let t=w(Bt),n=w(yc);return()=>{nc(t).then(()=>{n.isCacheActive=!1})}}}]}function CS(e,t){let n=new URL(e,"resolve://").origin,r=t[n];return r?e.replace(n,r):e}var cf=class extends pc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},lf=class e extends cf{static makeCurrent(){fy(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=DS();return n==null?null:ES(n)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return nf(document.cookie,t)}},uo=null;function DS(){return uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null}function ES(e){return new URL(e,document.baseURI).pathname}var xS=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),uf=new T(""),Ny=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(O(uf),O(ge))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),bc=class{constructor(t){this._doc=t}},sf="ng-app-id",Ry=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lo(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${sf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(sf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(sf,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(O($e),O($a),O(Id,8),O(Mt))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),af={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hf=/%COMP%/g,ky="%COMP%",IS=`_nghost-${ky}`,SS=`_ngcontent-${ky}`,MS=!0,TS=new T("",{providedIn:"root",factory:()=>MS});function AS(e){return SS.replace(hf,e)}function OS(e){return IS.replace(hf,e)}function Fy(e,t){return t.map(n=>n.replace(hf,e))}var Ay=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=lo(a),this.defaultRenderer=new fo(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kt.ShadowDom&&(r=Y(C({},r),{encapsulation:kt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Cc?i.applyToHost(n):i instanceof ho&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case kt.Emulated:o=new Cc(c,l,r,this.appId,u,s,a,d);break;case kt.ShadowDom:return new df(c,l,n,r,s,a,this.nonce,d);default:o=new ho(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(O(Ny),O(Ry),O($a),O(TS),O($e),O(Mt),O(ge),O(Id))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),fo=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(af[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Oy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Oy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=af[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=af[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(tn.DashCase|tn.Important)?t.style.setProperty(n,r,i&tn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&tn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=dn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Oy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var df=class extends fo{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Fy(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ho=class extends fo{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Fy(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Cc=class extends ho{constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=AS(l),this.hostAttr=OS(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},PS=(()=>{class e extends bc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(O($e))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Py=["alt","control","meta","shift"],NS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},kS=(()=>{class e extends bc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Py.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=NS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Py.forEach(s=>{if(s!==i){let a=RS[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(O($e))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function Ly(e,t){return ry(C({rootComponent:e},FS(t)))}function FS(e){return{appProviders:[...$S,...e?.providers??[]],platformProviders:US}}function LS(){lf.makeCurrent()}function jS(){return new en}function VS(){return Pm(document),document}var US=[{provide:Mt,useValue:rf},{provide:xd,useValue:LS,multi:!0},{provide:$e,useFactory:VS,deps:[]}];var $S=[{provide:Ra,useValue:"root"},{provide:en,useFactory:jS,deps:[]},{provide:uf,useClass:PS,multi:!0,deps:[$e,ge,Mt]},{provide:uf,useClass:kS,multi:!0,deps:[$e]},Ay,Ry,Ny,{provide:ni,useExisting:Ay},{provide:mc,useClass:xS,deps:[]},[]];var jy=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(O($e))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ff=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e}(ff||{});function Vy(...e){let t=[],n=new Set,r=n.has(ff.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);return nr([[],iy(),n.has(ff.NoHttpTransferCache)||r?[]:Ty({}),t])}var V="primary",Mo=Symbol("RouteTitle"),yf=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vi(e){return new yf(e)}function HS(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function zS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!zt(e[n],t[n]))return!1;return!0}function zt(e,t){let n=e?_f(e):void 0,r=t?_f(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ky(e[i],t[i]))return!1;return!0}function _f(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Ky(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Jy(e){return e.length>0?e[e.length-1]:null}function Ln(e){return Wl(e)?e:ar(e)?fe(Promise.resolve(e)):P(e)}var GS={exact:Xy,subset:e0},Qy={exact:qS,subset:WS,ignored:()=>!0};function Uy(e,t,n){return GS[n.paths](e.root,t.root,n.matrixParams)&&Qy[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function qS(e,t){return zt(e,t)}function Xy(e,t,n){if(!fr(e.segments,t.segments)||!xc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Xy(e.children[r],t.children[r],n))return!1;return!0}function WS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ky(e[n],t[n]))}function e0(e,t,n){return t0(e,t,t.segments,n)}function t0(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!fr(i,n)||t.hasChildren()||!xc(i,n,r))}else if(e.segments.length===n.length){if(!fr(e.segments,n)||!xc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!e0(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!fr(e.segments,i)||!xc(e.segments,i,r)||!e.children[V]?!1:t0(e.children[V],t,o,r)}}function xc(e,t,n){return t.every((r,i)=>Qy[n](e[i].parameters,r.parameters))}var pn=class{constructor(t=new ie([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){return KS.serialize(this)}},ie=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ic(this)}},dr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=vi(this.parameters),this._parameterMap}toString(){return r0(this)}};function ZS(e,t){return fr(e,t)&&e.every((n,r)=>zt(n.parameters,t[r].parameters))}function fr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function YS(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===V&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==V&&(n=n.concat(t(i,r)))}),n}var To=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>new yi,providedIn:"root"})}}return e})(),yi=class{parse(t){let n=new bf(t);return new pn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${po(t.root,!0)}`,r=XS(t.queryParams),i=typeof t.fragment=="string"?`#${JS(t.fragment)}`:"";return`${n}${r}${i}`}},KS=new yi;function Ic(e){return e.segments.map(t=>r0(t)).join("/")}function po(e,t){if(!e.hasChildren())return Ic(e);if(t){let n=e.children[V]?po(e.children[V],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${po(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=YS(e,(r,i)=>i===V?[po(e.children[V],!1)]:[`${i}:${po(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Ic(e)}/${n[0]}`:`${Ic(e)}/(${n.join("//")})`}}function n0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dc(e){return n0(e).replace(/%3B/gi,";")}function JS(e){return encodeURI(e)}function wf(e){return n0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sc(e){return decodeURIComponent(e)}function $y(e){return Sc(e.replace(/\+/g,"%20"))}function r0(e){return`${wf(e.path)}${QS(e.parameters)}`}function QS(e){return Object.entries(e).map(([t,n])=>`;${wf(t)}=${wf(n)}`).join("")}function XS(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Dc(n)}=${Dc(i)}`).join("&"):`${Dc(n)}=${Dc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var eM=/^[^\/()?;#]+/;function pf(e){let t=e.match(eM);return t?t[0]:""}var tM=/^[^\/()?;=#]+/;function nM(e){let t=e.match(tM);return t?t[0]:""}var rM=/^[^=?&#]+/;function iM(e){let t=e.match(rM);return t?t[0]:""}var oM=/^[^&#]+/;function sM(e){let t=e.match(oM);return t?t[0]:""}var bf=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[V]=new ie(t,n)),r}parseSegment(){let t=pf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new dr(Sc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=nM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=pf(this.remaining);i&&(r=i,this.capture(r))}t[Sc(n)]=Sc(r)}parseQueryParam(t){let n=iM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=sM(this.remaining);s&&(r=s,this.capture(r))}let i=$y(n),o=$y(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}};function i0(e){return e.segments.length>0?new ie([],{[V]:e}):e}function o0(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=o0(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ie(e.segments,t);return aM(n)}function aM(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new ie(e.segments.concat(t.segments),t.children)}return e}function hr(e){return e instanceof pn}function cM(e,t,n=null,r=null){let i=s0(e);return a0(i,t,n,r)}function s0(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ie(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=i0(r);return t??i}function a0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return gf(i,i,i,n,r);let o=lM(t);if(o.toRoot())return gf(i,i,new ie([],{}),n,r);let s=uM(o,i,e),a=s.processChildren?vo(s.segmentGroup,s.index,o.commands):l0(s.segmentGroup,s.index,o.commands);return gf(i,s.segmentGroup,a,n,r)}function Mc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function wo(e){return typeof e=="object"&&e!=null&&e.outlets}function gf(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=c0(e,t,n);let a=i0(o0(s));return new pn(a,o,i)}function c0(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=c0(o,t,n)}),new ie(e.segments,r)}var Tc=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Mc(r[0]))throw new M(4003,!1);let i=r.find(wo);if(i&&i!==Jy(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Tc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Tc(n,t,r)}var pi=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function uM(e,t,n){if(e.isAbsolute)return new pi(t,!0,0);if(!n)return new pi(t,!1,NaN);if(n.parent===null)return new pi(n,!0,0);let r=Mc(e.commands[0])?0:1,i=n.segments.length-1+r;return dM(n,i,e.numberOfDoubleDots)}function dM(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new pi(r,!1,i-o)}function fM(e){return wo(e[0])?e[0].outlets:{[V]:e}}function l0(e,t,n){if(e??=new ie([],{}),e.segments.length===0&&e.hasChildren())return vo(e,t,n);let r=hM(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ie(e.segments.slice(0,r.pathIndex),{});return o.children[V]=new ie(e.segments.slice(r.pathIndex),e.children),vo(o,0,i)}else return r.match&&i.length===0?new ie(e.segments,{}):r.match&&!e.hasChildren()?Cf(e,t,n):r.match?vo(e,0,i):Cf(e,t,n)}function vo(e,t,n){if(n.length===0)return new ie(e.segments,{});{let r=fM(n),i={};if(Object.keys(r).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=vo(e.children[V],t,n);return new ie(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=l0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(e.segments,i)}}function hM(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(wo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Hy(c,l,s))return o;r+=2}else{if(!Hy(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cf(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(wo(o)){let c=pM(o.outlets);return new ie(r,c)}if(i===0&&Mc(n[0])){let c=e.segments[t];r.push(new dr(c.path,By(n[0]))),i++;continue}let s=wo(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Mc(a)?(r.push(new dr(s,By(a))),i+=2):(r.push(new dr(s,{})),i++)}return new ie(r,{})}function pM(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Cf(new ie([],{}),0,r))}),t}function By(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Hy(e,t,n){return e==n.path&&zt(t,n.parameters)}var yo="imperative",Te=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Te||{}),ht=class{constructor(t,n){this.id=t,this.url=n}},_i=class extends ht{constructor(t,n,r="imperative",i=null){super(t,n),this.type=Te.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gt=class extends ht{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=Te.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(st||{}),Ac=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ac||{}),hn=class extends ht{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Te.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fn=class extends ht{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Te.NavigationSkipped}},bo=class extends ht{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=Te.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Oc=class extends ht{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Te.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Df=class extends ht{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Te.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class extends ht{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Te.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xf=class extends ht{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Te.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends ht{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Te.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sf=class{constructor(t){this.route=t,this.type=Te.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mf=class{constructor(t){this.route=t,this.type=Te.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tf=class{constructor(t){this.snapshot=t,this.type=Te.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{constructor(t){this.snapshot=t,this.type=Te.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Of=class{constructor(t){this.snapshot=t,this.type=Te.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pf=class{constructor(t){this.snapshot=t,this.type=Te.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=Te.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Co=class{},wi=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function gM(e,t){return e.providers&&!e._injector&&(e._injector=Xa(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Pt(e){return e.outlet||V}function mM(e,t){let n=e.filter(r=>Pt(r)===t);return n.push(...e.filter(r=>Pt(r)!==t)),n}function Ao(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Nf=class{get injector(){return Ao(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Oo(this.rootInjector),this.attachRef=null}},Oo=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Nf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(O(et))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Nc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Rf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Rf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=kf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return kf(t,this._root).map(n=>n.value)}};function Rf(e,t){if(e===t.value)return t;for(let n of t.children){let r=Rf(e,n);if(r)return r}return null}function kf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=kf(e,n);if(r.length)return r.unshift(t),r}return[]}var ot=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function hi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Rc=class extends Nc{constructor(t,n){super(t),this.snapshot=n,zf(this,t)}toString(){return this.snapshot.toString()}};function u0(e){let t=vM(e),n=new Ae([new dr("",{})]),r=new Ae({}),i=new Ae({}),o=new Ae({}),s=new Ae(""),a=new qt(n,r,o,s,i,V,e,t.root);return a.snapshot=t.root,new Rc(new ot(a,[]),t)}function vM(e){let t={},n={},r={},i="",o=new gi([],t,r,i,n,V,e,null,{});return new Fc("",new ot(o,[]))}var qt=class{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(z(l=>l[Mo]))??P(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(t=>vi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(t=>vi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:C(C({},t.params),e.params),data:C(C({},t.data),e.data),resolve:C(C(C(C({},e.data),t.data),i?.data),e._resolvedData)}:r={params:C({},e.params),data:C({},e.data),resolve:C(C({},e.data),e._resolvedData??{})},i&&f0(i)&&(r.resolve[Mo]=i.title),r}var gi=class{get title(){return this.data?.[Mo]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Fc=class extends Nc{constructor(t,n){super(n),this.url=t,zf(this,n)}toString(){return d0(this._root)}};function zf(e,t){t.value._routerState=e,t.children.forEach(n=>zf(e,n))}function d0(e){let t=e.children.length>0?` { ${e.children.map(d0).join(", ")} } `:"";return`${e.value}${t}`}function mf(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),zt(t.params,n.params)||e.paramsSubject.next(n.params),zS(t.url,n.url)||e.urlSubject.next(n.url),zt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ff(e,t){let n=zt(e.params,t.params)&&ZS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Ff(e.parent,t.parent))}function f0(e){return typeof e.title=="string"||e.title===null}var Gf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=w(Oo),this.location=w(ai),this.changeDetector=w(lr),this.inputBinder=w(Uc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Lf(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tn]})}}return e})(),Lf=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===qt?this.route:t===Oo?this.childContexts:this.parent.get(t,n)}},Uc=new T(""),zy=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=zi([r.queryParams,r.params,r.data]).pipe(Je(([o,s,a],c)=>(a=C(C(C({},o),s),a),c===0?P(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=oy(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function yM(e,t,n){let r=Do(e,t._root,n?n._root:void 0);return new Rc(r,t)}function Do(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=_M(e,t,n);return new ot(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Do(e,a)),s}}let r=wM(t.value),i=t.children.map(o=>Do(e,o));return new ot(r,i)}}function _M(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Do(e,r,i);return Do(e,r)})}function wM(e){return new qt(new Ae(e.url),new Ae(e.params),new Ae(e.queryParams),new Ae(e.fragment),new Ae(e.data),e.outlet,e.component,e)}var Eo=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},h0="ngNavigationCancelingError";function Lc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=hr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=p0(!1,st.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function p0(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[h0]=!0,n.cancellationCode=t,n}function bM(e){return g0(e)&&hr(e.url)}function g0(e){return!!e&&e[h0]}var CM=(e,t,n,r)=>z(i=>(new jf(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),jf=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),mf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=hi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=hi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=hi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=hi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Pf(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Af(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(mf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mf(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},jc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},mi=class{constructor(t,n){this.component=t,this.route=n}};function DM(e,t,n){let r=e._root,i=t?t._root:null;return go(r,i,n,[r.value])}function EM(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ci(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!pg(e)?e:t.get(e):r}function go(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=hi(t);return e.children.forEach(s=>{xM(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_o(a,n.getContext(s),i)),i}function xM(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=IM(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new jc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?go(e,t,a?a.children:null,r,i):go(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mi(a.outlet.component,s))}else s&&_o(t,a,i),i.canActivateChecks.push(new jc(r)),o.component?go(e,null,a?a.children:null,r,i):go(e,null,n,r,i);return i}function IM(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!fr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fr(e.url,t.url)||!zt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ff(e,t)||!zt(e.queryParams,t.queryParams);case"paramsChange":default:return!Ff(e,t)}}function _o(e,t,n){let r=hi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?_o(s,t.children.getContext(o),n):_o(s,null,n):_o(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new mi(t.outlet.component,i)):n.canDeactivateChecks.push(new mi(null,i)):n.canDeactivateChecks.push(new mi(null,i))}function Po(e){return typeof e=="function"}function SM(e){return typeof e=="boolean"}function MM(e){return e&&Po(e.canLoad)}function TM(e){return e&&Po(e.canActivate)}function AM(e){return e&&Po(e.canActivateChild)}function OM(e){return e&&Po(e.canDeactivate)}function PM(e){return e&&Po(e.canMatch)}function m0(e){return e instanceof Jt||e?.name==="EmptyError"}var Ec=Symbol("INITIAL_VALUE");function bi(){return Je(e=>zi(e.map(t=>t.pipe(Qt(1),Ql(Ec)))).pipe(z(t=>{for(let n of t)if(n!==!0){if(n===Ec)return Ec;if(n===!1||NM(n))return n}return!0}),Ke(t=>t!==Ec),Qt(1)))}function NM(e){return hr(e)||e instanceof Eo}function RM(e,t){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?P(Y(C({},n),{guardsResult:!0})):kM(s,r,i,e).pipe(be(a=>a&&SM(a)?FM(r,o,e,t):P(a)),z(a=>Y(C({},n),{guardsResult:a})))})}function kM(e,t,n,r){return fe(e).pipe(be(i=>$M(i.component,i.route,n,t,r)),wt(i=>i!==!0,!0))}function FM(e,t,n,r){return fe(t).pipe(_n(i=>jr(jM(i.route.parent,r),LM(i.route,r),UM(e,i.path,n),VM(e,i.route,n))),wt(i=>i!==!0,!0))}function LM(e,t){return e!==null&&t&&t(new Of(e)),P(!0)}function jM(e,t){return e!==null&&t&&t(new Tf(e)),P(!0)}function VM(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(o=>Bs(()=>{let s=Ao(t)??n,a=Ci(o,s),c=TM(a)?a.canActivate(t,e):It(s,()=>a(t,e));return Ln(c).pipe(wt())}));return P(i).pipe(bi())}function UM(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>EM(s)).filter(s=>s!==null).map(s=>Bs(()=>{let a=s.guards.map(c=>{let l=Ao(s.node)??n,u=Ci(c,l),d=AM(u)?u.canActivateChild(r,e):It(l,()=>u(r,e));return Ln(d).pipe(wt())});return P(a).pipe(bi())}));return P(o).pipe(bi())}function $M(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return P(!0);let s=o.map(a=>{let c=Ao(t)??i,l=Ci(a,c),u=OM(l)?l.canDeactivate(e,t,n,r):It(c,()=>l(e,t,n,r));return Ln(u).pipe(wt())});return P(s).pipe(bi())}function BM(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return P(!0);let o=i.map(s=>{let a=Ci(s,e),c=MM(a)?a.canLoad(t,n):It(e,()=>a(t,n));return Ln(c)});return P(o).pipe(bi(),v0(r))}function v0(e){return Hl(xe(t=>{if(typeof t!="boolean")throw Lc(e,t)}),z(t=>t===!0))}function HM(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return P(!0);let o=i.map(s=>{let a=Ci(s,e),c=PM(a)?a.canMatch(t,n):It(e,()=>a(t,n));return Ln(c)});return P(o).pipe(bi(),v0(r))}var xo=class{constructor(t){this.segmentGroup=t||null}},Io=class extends Error{constructor(t){super(),this.urlTree=t}};function fi(e){return Fr(new xo(e))}function zM(e){return Fr(new M(4e3,!1))}function GM(e){return Fr(p0(!1,st.GuardRejected))}var Vf=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[V])return zM(`${t.redirectTo}`);i=i.children[V]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:v,title:b}=i,D=It(o,()=>a({params:f,data:v,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:b}));if(D instanceof pn)throw new Io(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Io(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new pn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ie(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Uf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qM(e,t,n,r,i){let o=y0(e,t,n);return o.matched?(r=gM(t,r),HM(r,t,n,i).pipe(z(s=>s===!0?o:C({},Uf)))):P(o)}function y0(e,t,n){if(t.path==="**")return WM(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?C({},Uf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||HS)(n,e,t);if(!i)return C({},Uf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WM(e){return{matched:!0,parameters:e.length>0?Jy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Gy(e,t,n,r){return n.length>0&&KM(e,n,r)?{segmentGroup:new ie(t,YM(r,new ie(n,e.children))),slicedSegments:[]}:n.length===0&&JM(e,n,r)?{segmentGroup:new ie(e.segments,ZM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ie(e.segments,e.children),slicedSegments:n}}function ZM(e,t,n,r){let i={};for(let o of n)if($c(e,t,o)&&!r[Pt(o)]){let s=new ie([],{});i[Pt(o)]=s}return C(C({},r),i)}function YM(e,t){let n={};n[V]=t;for(let r of e)if(r.path===""&&Pt(r)!==V){let i=new ie([],{});n[Pt(r)]=i}return n}function KM(e,t,n){return n.some(r=>$c(e,t,r)&&Pt(r)!==V)}function JM(e,t,n){return n.some(r=>$c(e,t,r))}function $c(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QM(e,t,n){return t.length===0&&!e.children[n]}var $f=class{};function XM(e,t,n,r,i,o,s="emptyOnly"){return new Bf(e,t,n,r,i,s,o).recognize()}var eT=31,Bf=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Vf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new M(4002,`'${t.segmentGroup}'`)}recognize(){let t=Gy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(z(({children:n,rootSnapshot:r})=>{let i=new ot(r,n),o=new Fc("",i),s=cM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new gi([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,V,n).pipe(z(r=>({children:r,rootSnapshot:n})),yn(r=>{if(r instanceof Io)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xo?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(z(s=>s instanceof ot?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return fe(o).pipe(_n(s=>{let a=r.children[s],c=mM(n,s);return this.processSegmentGroup(t,c,a,s,i)}),Jl((s,a)=>(s.push(...a),s)),wn(null),Kl(),be(s=>{if(s===null)return fi(r);let a=_0(s);return tT(a),P(a)}))}processSegment(t,n,r,i,o,s,a){return fe(n).pipe(_n(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(yn(l=>{if(l instanceof xo)return P(null);throw l}))),wt(c=>!!c),yn(c=>{if(m0(c))return QM(r,i,o)?P(new $f):fi(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Pt(r)!==s&&(s===V||!$c(i,o,r))?fi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):fi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=y0(n,i,o);if(!c)return fi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eT&&(this.allowRedirects=!1));let f=new gi(o,l,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,qy(i),Pt(i),i.component??i._loadedComponent??null,i,Wy(i)),v=kc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(v.params),f.data=Object.freeze(v.data);let b=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(i,b).pipe(be(D=>this.processSegment(t,r,n,D.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=qM(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Je(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Je(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,v=new gi(h,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,qy(r),Pt(r),r.component??r._loadedComponent??null,r,Wy(r)),b=kc(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:D,slicedSegments:x}=Gy(n,h,f,l);if(x.length===0&&D.hasChildren())return this.processChildren(u,l,D,v).pipe(z(Q=>new ot(v,Q)));if(l.length===0&&x.length===0)return P(new ot(v,[]));let F=Pt(r)===o;return this.processSegment(u,l,D,x,F?V:o,!0,v).pipe(z(Q=>new ot(v,Q instanceof ot?[Q]:[])))}))):fi(n)))}getChildConfig(t,n,r){return n.children?P({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):BM(t,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(t,n).pipe(xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):GM(n))):P({routes:[],injector:t})}};function tT(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function nT(e){let t=e.value.routeConfig;return t&&t.path===""}function _0(e){let t=[],n=new Set;for(let r of e){if(!nT(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=_0(r.children);t.push(new ot(r.value,i))}return t.filter(r=>!n.has(r))}function qy(e){return e.data||{}}function Wy(e){return e.resolve||{}}function rT(e,t,n,r,i,o){return be(s=>XM(e,t,n,r,s.extractedUrl,i,o).pipe(z(({state:a,tree:c})=>Y(C({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function iT(e,t){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of w0(c))s.add(l);let a=0;return fe(s).pipe(_n(c=>o.has(c)?oT(c,r,e,t):(c.data=kc(c,c.parent,e).resolve,P(void 0))),xe(()=>a++),Ur(1),be(c=>a===s.size?P(n):Ye))})}function w0(e){let t=e.children.map(n=>w0(n)).flat();return[e,...t]}function oT(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!f0(i)&&(o[Mo]=i.title),sT(o,e,t,r).pipe(z(s=>(e._resolvedData=s,e.data=kc(e,e.parent,n).resolve,null)))}function sT(e,t,n,r){let i=_f(e);if(i.length===0)return P({});let o={};return fe(i).pipe(be(s=>aT(e[s],t,n,r).pipe(wt(),xe(a=>{if(a instanceof Eo)throw Lc(new yi,a);o[s]=a}))),Ur(1),Yl(o),yn(s=>m0(s)?Ye:Fr(s)))}function aT(e,t,n,r){let i=Ao(t)??r,o=Ci(e,i),s=o.resolve?o.resolve(t,n):It(i,()=>o(t,n));return Ln(s)}function vf(e){return Je(t=>{let n=e(t);return n?fe(n).pipe(z(()=>t)):P(t)})}var b0=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[Mo]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>w(cT),providedIn:"root"})}}return e})(),cT=(()=>{class e extends b0{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(O(jy))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),No=new T("",{providedIn:"root",factory:()=>({})}),lT=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[We],decls:1,vars:0,template:function(r,i){r&1&&Ut(0,"router-outlet")},dependencies:[Gf],encapsulation:2})}}return e})();function qf(e){let t=e.children&&e.children.map(qf),n=t?Y(C({},e),{children:t}):C({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=lT),n}var So=new T(""),Wf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(rc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return P(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ln(n.loadComponent()).pipe(z(C0),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Vr(()=>{this.componentLoaders.delete(n)})),i=new kr(r,()=>new Me).pipe(Rr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return P({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=uT(r,this.compiler,n,this.onLoadEndListener).pipe(Vr(()=>{this.childrenLoaders.delete(r)})),s=new kr(o,()=>new Me).pipe(Rr());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function uT(e,t,n,r){return Ln(e.loadChildren()).pipe(z(C0),be(i=>i instanceof Xi||Array.isArray(i)?P(i):fe(t.compileModuleAsync(i))),z(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(So,[],{optional:!0,self:!0}).flat()),{routes:s.map(qf),injector:o}}))}function dT(e){return e&&typeof e=="object"&&"default"in e}function C0(e){return dT(e)?e.default:e}var Zf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>w(fT),providedIn:"root"})}}return e})(),fT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),D0=new T(""),E0=new T("");function hT(e,t,n){let r=e.get(E0),i=e.get($e);return e.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),pT(e))),{onViewTransitionCreated:c}=r;return c&&It(e,()=>c({transition:a,from:t,to:n})),s})}function pT(e){return new Promise(t=>{Hd({read:()=>setTimeout(t)},{injector:e})})}var gT=new T(""),Yf=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.transitionAbortSubject=new Me,this.configLoader=w(Wf),this.environmentInjector=w(et),this.urlSerializer=w(To),this.rootContexts=w(Oo),this.location=w(ui),this.inputBindingEnabled=w(Uc,{optional:!0})!==null,this.titleStrategy=w(b0),this.options=w(No,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(Zf),this.createViewTransition=w(D0,{optional:!0}),this.navigationErrorHandler=w(gT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Sf(i)),r=i=>this.events.next(new Mf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Y(C(C({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ae({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:yo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ke(o=>o.id!==0),z(o=>Y(C({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Je(o=>{let s=!1,a=!1;return P(o).pipe(Je(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),Ye;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Y(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Fn(c.id,this.urlSerializer.serialize(c.rawUrl),d,Ac.IgnoredSameUrlNavigation)),c.resolve(!1),Ye}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return P(c).pipe(Je(d=>{let h=this.transitions?.getValue();return this.events.next(new _i(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Ye:Promise.resolve(d)}),rT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Y(C({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Oc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:v,extras:b}=c,D=new _i(d,this.urlSerializer.serialize(h),f,v);this.events.next(D);let x=u0(this.rootComponentType).snapshot;return this.currentTransition=o=Y(C({},c),{targetSnapshot:x,urlAfterRedirects:h,extras:Y(C({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,P(o)}else{let d="";return this.events.next(new Fn(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Ac.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ye}}),xe(c=>{let l=new Df(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),z(c=>(this.currentTransition=o=Y(C({},c),{guards:DM(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),RM(this.environmentInjector,c=>this.events.next(c)),xe(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Lc(this.urlSerializer,c.guardsResult);let l=new Ef(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ke(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",st.GuardRejected),!1)),vf(c=>{if(c.guards.canActivateChecks.length)return P(c).pipe(xe(l=>{let u=new xf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Je(l=>{let u=!1;return P(l).pipe(iT(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",st.NoDataFromResolver)}}))}),xe(l=>{let u=new If(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),vf(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(xe(h=>{u.component=h}),z(()=>{})));for(let h of u.children)d.push(...l(h));return d};return zi(l(c.targetSnapshot.root)).pipe(wn(null),Qt(1))}),vf(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?fe(u).pipe(z(()=>o)):P(o)}),z(c=>{let l=yM(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Y(C({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),xe(()=>{this.events.next(new Co)}),CM(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qt(1),xe({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Xl(this.transitionAbortSubject.pipe(xe(c=>{throw c}))),Vr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),yn(c=>{if(a=!0,g0(c))this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),bM(c)?this.events.next(new wi(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new bo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=It(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Eo){let{message:d,cancellationCode:h}=Lc(this.urlSerializer,u);this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new wi(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ye}))}))}cancelNavigationTransition(n,r,i){let o=new hn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mT(e){return e!==yo}var vT=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>w(yT),providedIn:"root"})}}return e})(),Hf=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},yT=(()=>{class e extends Hf{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rn(e)))(i||e)}})()}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),x0=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>w(_T),providedIn:"root"})}}return e})(),_T=(()=>{class e extends x0{constructor(){super(...arguments),this.location=w(ui),this.urlSerializer=w(To),this.options=w(No,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(Zf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=u0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof _i)this.stateMemento=this.createStateMemento();else if(n instanceof Fn)this.rawUrlTree=r.initialUrl;else if(n instanceof Oc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Co?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof hn&&(n.code===st.GuardRejected||n.code===st.NoDataFromResolver)?this.restoreHistory(r):n instanceof bo?this.restoreHistory(r,!0):n instanceof Gt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof pn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=C(C({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=C(C({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rn(e)))(i||e)}})()}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(mo||{});function I0(e,t){e.events.pipe(Ke(n=>n instanceof Gt||n instanceof hn||n instanceof bo||n instanceof Fn),z(n=>n instanceof Gt||n instanceof Fn?mo.COMPLETE:(n instanceof hn?n.code===st.Redirect||n.code===st.SupersededByNewNavigation:!1)?mo.REDIRECTING:mo.FAILED),Ke(n=>n!==mo.REDIRECTING),Qt(1)).subscribe(()=>{t()})}function wT(e){throw e}var bT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ne=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=w(ec),this.stateManager=w(x0),this.options=w(No,{optional:!0})||{},this.pendingTasks=w(ir),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(Yf),this.urlSerializer=w(To),this.location=w(ui),this.urlHandlingStrategy=w(Zf),this._events=new Me,this.errorHandler=this.options.errorHandler||wT,this.navigated=!1,this.routeReuseStrategy=w(vT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(So,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Uc,{optional:!0}),this.eventsSubscription=new _e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hn&&r.code!==st.Redirect&&r.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gt)this.navigated=!0;else if(r instanceof wi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=C({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mT(i.source)},s);this.scheduleNavigation(a,yo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ET(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=C({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(qf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=s0(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return a0(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=hr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yo,null,r)}navigate(n,r={skipLocationChange:!1}){return DT(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=C({},bT):r===!1?i=C({},CT):i=r,hr(n))return Uy(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Uy(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return I0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function DT(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new M(4008,!1)}function ET(e){return!(e instanceof Co)&&!(e instanceof wi)}var Bc=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Hm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:hr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(A(Ne),A(qt),bd("tabindex"),A(or),A(Pn),A(fn))}}static{this.\u0275dir=Pe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&j("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&an("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ur],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ur],replaceUrl:[2,"replaceUrl","replaceUrl",ur],routerLink:"routerLink"},standalone:!0,features:[Bd,Tn]})}}return e})();var Vc=class{};var xT=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ke(n=>n instanceof Gt),_n(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xa(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return fe(i).pipe(Lr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=P(null);let o=i.pipe(be(s=>s===null?P(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return fe([o,s]).pipe(Lr())}else return o})}static{this.\u0275fac=function(r){return new(r||e)(O(Ne),O(rc),O(et),O(Vc),O(Wf))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),S0=new T(""),IT=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Gt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Fn&&n.code===Ac.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Pc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){iv()}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function M0(e,...t){return nr([{provide:So,multi:!0,useValue:e},[],{provide:qt,useFactory:T0,deps:[Ne]},{provide:cr,multi:!0,useFactory:A0},t.map(n=>n.\u0275providers)])}function T0(e){return e.routerState.root}function Ro(e,t){return{\u0275kind:e,\u0275providers:t}}function A0(){let e=w(lt);return t=>{let n=e.get(Bt);if(t!==n.components[0])return;let r=e.get(Ne),i=e.get(O0);e.get(Kf)===1&&r.initialNavigation(),e.get(P0,null,$.Optional)?.setUpPreloading(),e.get(S0,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var O0=new T("",{factory:()=>new Me}),Kf=new T("",{providedIn:"root",factory:()=>1});function ST(){return Ro(2,[{provide:Kf,useValue:0},{provide:tc,multi:!0,deps:[lt],useFactory:t=>{let n=t.get(hy,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(Ne),o=t.get(O0);I0(i,()=>{r(!0)}),t.get(Yf).afterPreactivation=()=>(r(!0),o.closed?P(void 0):o),i.initialNavigation()}))}}])}function MT(){return Ro(3,[{provide:tc,multi:!0,useFactory:()=>{let t=w(Ne);return()=>{t.setUpLocationChangeListener()}}},{provide:Kf,useValue:2}])}var P0=new T("");function TT(e){return Ro(0,[{provide:P0,useExisting:xT},{provide:Vc,useExisting:e}])}function AT(){return Ro(8,[zy,{provide:Uc,useExisting:zy}])}function OT(e){let t=[{provide:D0,useValue:hT},{provide:E0,useValue:C({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ro(9,t)}var Zy=new T("ROUTER_FORROOT_GUARD"),PT=[ui,{provide:To,useClass:yi},Ne,Oo,{provide:qt,useFactory:T0,deps:[Ne]},Wf,[]],Hc=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[PT,[],{provide:So,multi:!0,useValue:n},{provide:Zy,useFactory:FT,deps:[[Ne,new Na,new cd]]},{provide:No,useValue:r||{}},r?.useHash?RT():kT(),NT(),r?.preloadingStrategy?TT(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?LT(r):[],r?.bindToComponentInputs?AT().\u0275providers:[],r?.enableViewTransitions?OT().\u0275providers:[],jT()]}}static forChild(n){return{ngModule:e,providers:[{provide:So,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(O(Zy,8))}}static{this.\u0275mod=Mn({type:e})}static{this.\u0275inj=Sn({})}}return e})();function NT(){return{provide:S0,useFactory:()=>{let e=w(wy),t=w(ge),n=w(No),r=w(Yf),i=w(To);return n.scrollOffset&&e.setOffset(n.scrollOffset),new IT(i,r,e,t,n)}}}function RT(){return{provide:fn,useClass:gy}}function kT(){return{provide:fn,useClass:tf}}function FT(e){return"guarded"}function LT(e){return[e.initialNavigation==="disabled"?MT().\u0275providers:[],e.initialNavigation==="enabledBlocking"?ST().\u0275providers:[]]}var Yy=new T("");function jT(){return[{provide:Yy,useFactory:A0},{provide:cr,multi:!0,useExisting:Yy}]}var Di=class e{games=[{id:"clavito",name:"clavito",displayName:"Clavito",description:"Juego de cartas tradicional espa\xF1ol"},{id:"escoba",name:"escoba",displayName:"La Escoba",description:"Juego de cartas donde debes capturar cartas sumando 15"},{id:"chinchon",name:"chinchon",displayName:"El Chinch\xF3n",description:"Juego de cartas de escaleras y tr\xEDos"}];getAvailableGames(){return this.games}getGameById(t){return this.games.find(n=>n.id===t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};function VT(e,t){if(e&1){let n=Ce();m(0,"div",15),j("click",function(){let i=G(n).$implicit,o=S();return q(o.selectGame(i.id))}),m(1,"h3"),y(2),g(),m(3,"p"),y(4),g(),m(5,"div",7)(6,"span",16),y(7,"Disponible"),g(),m(8,"span",9),y(9,"\u2192"),g()()()}if(e&2){let n=t.$implicit,r=t.index;ci("animation-delay",r*.1+"s"),_(2),pe(n.displayName),_(2),pe(n.description)}}var zc=class e{constructor(t,n){this.gameService=t;this.router=n;this.games=this.gameService.getAvailableGames()}games=[];selectGame(t){this.router.navigate(["/game",t,"setup"])}static \u0275fac=function(n){return new(n||e)(A(Di),A(Ne))};static \u0275cmp=Ge({type:e,selectors:[["app-home"]],standalone:!0,features:[We],decls:28,vars:1,consts:[[1,"home-container"],[1,"home-header"],["routerLink","/leaderboard",1,"leaderboard-btn"],[1,"game-selection"],[1,"games-grid"],["class","game-card",3,"animation-delay","click",4,"ngFor","ngForOf"],[1,"game-card",2,"opacity","0.6","cursor","not-allowed"],[1,"card-footer"],[1,"card-badge",2,"background","var(--text-muted)"],[1,"card-arrow"],[1,"quick-stats"],["routerLink","/leaderboard",1,"stats-link"],[1,"stat-item"],[1,"stat-icon"],[1,"stat-text"],[1,"game-card",3,"click"],[1,"card-badge"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"h1"),y(3,"\u{1F3AE} Ap\xFAntalo"),g(),m(4,"a",2),y(5," \u{1F3C6} Clasificaci\xF3n "),g()(),m(6,"div",3)(7,"h2"),y(8,"Selecciona un juego"),g(),m(9,"div",4),ee(10,VT,10,4,"div",5),m(11,"div",6)(12,"h3"),y(13,"\u{1F0CF} M\xE1s juegos"),g(),m(14,"p"),y(15,"Pr\xF3ximamente a\xF1adiremos m\xE1s juegos de cartas populares como Mus, Tute, Escoba..."),g(),m(16,"div",7)(17,"span",8),y(18,"Pr\xF3ximamente"),g(),m(19,"span",9),y(20,"\u23F3"),g()()()()(),m(21,"div",10)(22,"a",11)(23,"div",12)(24,"span",13),y(25,"\u{1F4CA}"),g(),m(26,"span",14),y(27,"Ver estad\xEDsticas completas"),g()()()()()),n&2&&(_(10),N("ngForOf",r.games))},dependencies:[it,Ht,Hc,Bc],styles:['.home-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem}.game-selection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:var(--text-primary);margin-bottom:3rem;font-size:2rem;font-weight:600;position:relative}.game-selection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:60px;height:3px;background:linear-gradient(90deg,var(--accent-color),var(--success-color));border-radius:2px}.games-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:2rem}.game-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:24px;padding:2.5rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 8px 32px var(--shadow-dark);position:relative;overflow:hidden}.game-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent-color),var(--success-color));transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 60px var(--shadow-dark),0 0 0 1px #6366f133;border-color:#6366f14d}.game-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.game-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--text-primary);font-size:1.5rem;font-weight:600;display:flex;align-items:center;gap:.5rem}.game-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f3b4";font-size:1.8rem}.game-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);line-height:1.6;font-size:1rem}.game-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center}.card-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color),var(--accent-hover));color:#fff;padding:.3rem .8rem;border-radius:20px;font-size:.8rem;font-weight:500}.card-arrow[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1.2rem;transition:transform .2s ease}.game-card[_ngcontent-%COMP%]:hover   .card-arrow[_ngcontent-%COMP%]{transform:translate(4px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.game-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease forwards}.game-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.game-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]{padding:1rem}.games-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.game-card[_ngcontent-%COMP%]{padding:2rem}.game-selection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:2rem}}@media (max-width: 480px){.game-card[_ngcontent-%COMP%]{padding:1.5rem}.game-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}}.home-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:clamp(2rem,5vw,3rem);padding:clamp(1rem,3vw,1.5rem);background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:clamp(16px,3vw,24px);box-shadow:0 8px 32px var(--shadow-dark)}.leaderboard-btn[_ngcontent-%COMP%]{background:var(--accent-color);color:#fff;text-decoration:none;padding:clamp(.75rem,2vw,1rem) clamp(1.25rem,3vw,1.5rem);border-radius:16px;font-size:clamp(.9rem,2.5vw,1.1rem);font-weight:600;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem;min-height:44px;box-shadow:0 4px 16px #0003}.leaderboard-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translateY(-3px);box-shadow:0 8px 25px #0000004d}.quick-stats[_ngcontent-%COMP%]{margin-top:clamp(2rem,5vw,3rem);text-align:center}.stats-link[_ngcontent-%COMP%]{display:inline-block;text-decoration:none;background:var(--tertiary-dark);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:clamp(1rem,3vw,1.5rem);transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.stats-link[_ngcontent-%COMP%]:hover{background:var(--glass-bg);transform:translateY(-2px);box-shadow:0 8px 25px #0003}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:clamp(.5rem,2vw,1rem)}.stat-icon[_ngcontent-%COMP%]{font-size:clamp(1.2rem,3vw,1.5rem)}.stat-text[_ngcontent-%COMP%]{color:var(--text-primary);font-size:clamp(.9rem,2.5vw,1.1rem);font-weight:500}.stats-link[_ngcontent-%COMP%]:hover   .stat-text[_ngcontent-%COMP%]{color:var(--accent-color)}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.5rem,6vw,2rem)}.leaderboard-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]{padding:clamp(.75rem,4vw,1rem);margin-bottom:clamp(1.5rem,4vw,2rem)}}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.home-header[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromTop .6s ease-out}.quick-stats[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromTop .8s ease-out}']})};var B0=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(A(or),A(Pn))}}static{this.\u0275dir=Pe({type:e})}}return e})(),th=(()=>{class e extends B0{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rn(e)))(i||e)}})()}static{this.\u0275dir=Pe({type:e,features:[Vt]})}}return e})(),Kc=new T(""),UT={provide:Kc,useExisting:nn(()=>nh),multi:!0},nh=(()=>{class e extends th{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rn(e)))(i||e)}})()}static{this.\u0275dir=Pe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&j("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[sr([UT]),Vt]})}}return e})(),$T={provide:Kc,useExisting:nn(()=>jn),multi:!0};function BT(){let e=dn()?dn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var HT=new T(""),jn=(()=>{class e extends B0{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BT())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(A(or),A(Pn),A(HT,8))}}static{this.\u0275dir=Pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&j("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[sr([$T]),Vt]})}}return e})();function qc(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var rh=new T(""),zT=new T("");function GT(e){return t=>{if(qc(t.value)||qc(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function qT(e){return t=>{if(qc(t.value)||qc(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function R0(e){return null}function H0(e){return e!=null}function z0(e){return ar(e)?fe(e):e}function G0(e){let t={};return e.forEach(n=>{t=n!=null?C(C({},t),n):t}),Object.keys(t).length===0?null:t}function q0(e,t){return t.map(n=>n(e))}function WT(e){return!e.validate}function W0(e){return e.map(t=>WT(t)?t:n=>t.validate(n))}function ZT(e){if(!e)return null;let t=e.filter(H0);return t.length==0?null:function(n){return G0(q0(n,t))}}function Z0(e){return e!=null?ZT(W0(e)):null}function YT(e){if(!e)return null;let t=e.filter(H0);return t.length==0?null:function(n){let r=q0(n,t).map(z0);return Zl(r).pipe(z(G0))}}function Y0(e){return e!=null?YT(W0(e)):null}function k0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function KT(e){return e._rawValidators}function JT(e){return e._rawAsyncValidators}function Jf(e){return e?Array.isArray(e)?e:[e]:[]}function Wc(e,t){return Array.isArray(e)?e.includes(t):e===t}function F0(e,t){let n=Jf(t);return Jf(e).forEach(i=>{Wc(n,i)||n.push(i)}),n}function L0(e,t){return Jf(t).filter(n=>!Wc(e,n))}var Zc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Z0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Y0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Qf=class extends Zc{get formDirective(){return null}get path(){return null}},$o=class extends Zc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xf=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},QT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Oj=Y(C({},QT),{"[class.ng-submitted]":"isSubmitted"}),Si=(()=>{class e extends Xf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(A($o,2))}}static{this.\u0275dir=Pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ut("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Vt]})}}return e})();var Lo="VALID",Gc="INVALID",Ei="PENDING",jo="DISABLED",Ii=class{},Yc=class extends Ii{constructor(t,n){super(),this.value=t,this.source=n}},Vo=class extends Ii{constructor(t,n){super(),this.pristine=t,this.source=n}},Uo=class extends Ii{constructor(t,n){super(),this.touched=t,this.source=n}},xi=class extends Ii{constructor(t,n){super(),this.status=t,this.source=n}};function XT(e){return(Jc(e)?e.validators:e)||null}function eA(e){return Array.isArray(e)?Z0(e):e||null}function tA(e,t){return(Jc(t)?t.asyncValidators:e)||null}function nA(e){return Array.isArray(e)?Y0(e):e||null}function Jc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var eh=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=oc(()=>this.statusReactive()),this.statusReactive=Qa(void 0),this._pristine=oc(()=>this.pristineReactive()),this.pristineReactive=Qa(!0),this._touched=oc(()=>this.touchedReactive()),this.touchedReactive=Qa(!1),this._events=new Me,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(t){Nn(()=>this.statusReactive.set(t))}get valid(){return this.status===Lo}get invalid(){return this.status===Gc}get pending(){return this.status==Ei}get disabled(){return this.status===jo}get enabled(){return this.status!==jo}get pristine(){return Nn(this.pristineReactive)}set pristine(t){Nn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(t){Nn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(F0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(F0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(L0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(L0(t,this._rawAsyncValidators))}hasValidator(t){return Wc(this._rawValidators,t)}hasAsyncValidator(t){return Wc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Y(C({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Uo(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Uo(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Y(C({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Vo(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Vo(!0,r))}markAsPending(t={}){this.status=Ei;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new xi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Y(C({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=jo,this.errors=null,this._forEachChild(i=>{i.disable(Y(C({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yc(this.value,r)),this._events.next(new xi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Lo,this._forEachChild(r=>{r.enable(Y(C({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Y(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lo||this.status===Ei)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yc(this.value,n)),this._events.next(new xi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Y(C({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jo:Lo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Ei,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=z0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new xi(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?jo:this.errors?Gc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ei)?Ei:this._anyControlsHaveStatus(Gc)?Gc:Lo}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Vo(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Uo(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=eA(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=nA(this._rawAsyncValidators)}};var K0=new T("CallSetDisabledState",{providedIn:"root",factory:()=>ih}),ih="always";function rA(e,t){return[...t.path,e]}function iA(e,t,n=ih){sA(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),aA(e,t),lA(e,t),cA(e,t),oA(e,t)}function j0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function oA(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function sA(e,t){let n=KT(e);t.validator!==null?e.setValidators(k0(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=JT(e);t.asyncValidator!==null?e.setAsyncValidators(k0(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();j0(t._rawValidators,i),j0(t._rawAsyncValidators,i)}function aA(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&J0(e,t)})}function cA(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&J0(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function J0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lA(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function uA(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function dA(e){return Object.getPrototypeOf(e.constructor)===th}function fA(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===jn?n=o:dA(o)?r=o:i=o}),i||r||n||null}function V0(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function U0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var hA=class extends eh{constructor(t=null,n,r){super(XT(n),tA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(U0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){V0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){V0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){U0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var pA={provide:$o,useExisting:nn(()=>pr)},$0=Promise.resolve(),pr=(()=>{class e extends $o{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new hA,this._registered=!1,this.name="",this.update=new Ie,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fA(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uA(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){iA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){$0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ur(r);$0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?rA(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(A(Qf,9),A(rh,10),A(zT,10),A(Kc,10),A(lr,8),A(K0,8))}}static{this.\u0275dir=Pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sr([pA]),Vt,Tn]})}}return e})();var gA={provide:Kc,useExisting:nn(()=>oh),multi:!0},oh=(()=>{class e extends th{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rn(e)))(i||e)}})()}static{this.\u0275dir=Pe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&j("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[sr([gA]),Vt]})}}return e})();function Q0(e){return typeof e=="number"?e:parseFloat(e)}var X0=(()=>{class e{constructor(){this._validator=R0}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):R0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Pe({type:e,features:[Tn]})}}return e})(),mA={provide:rh,useExisting:nn(()=>sh),multi:!0},sh=(()=>{class e extends X0{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Q0(n),this.createValidator=n=>qT(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rn(e)))(i||e)}})()}static{this.\u0275dir=Pe({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&an("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[sr([mA]),Vt]})}}return e})(),vA={provide:rh,useExisting:nn(()=>ah),multi:!0},ah=(()=>{class e extends X0{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Q0(n),this.createValidator=n=>GT(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rn(e)))(i||e)}})()}static{this.\u0275dir=Pe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&an("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[sr([vA]),Vt]})}}return e})();var yA=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Mn({type:e})}static{this.\u0275inj=Sn({})}}return e})();var Mi=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:K0,useValue:n.callSetDisabledState??ih}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Mn({type:e})}static{this.\u0275inj=Sn({imports:[yA]})}}return e})();var e_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-5SUDMNYJ.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var Bo=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Qc=class extends Bo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ho=class extends Bo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},zo=class extends Bo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},lh=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(lh||{});var _A=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Go=class{constructor(t,{headers:n={},customFetch:r,region:i=lh.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=e_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return _A(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=n,a={},{region:c}=n;c||(c=this.region);let l=new URL(`${this.url}/${t}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let d=yield this.fetch(l.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(b=>{throw new Qc(b)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Ho(d);if(!d.ok)throw new zo(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof zo||i instanceof Ho?i.context:void 0}}})}};var d_=pw(u_(),1),{PostgrestClient:f_,PostgrestQueryBuilder:Yj,PostgrestFilterBuilder:Kj,PostgrestTransformBuilder:Jj,PostgrestBuilder:Qj,PostgrestError:TA}=d_.default;var bh=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){let n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Ch=bh;var h_="2.15.1";var p_=`realtime-js/${h_}`,g_="1.0.0";var Qo=1e4,m_=1e3,v_=100,Xo=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Xo||{}),Se=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Se||{}),pt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(pt||{}),Dh=function(e){return e.websocket="websocket",e}(Dh||{}),gr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(gr||{});var el=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let c=r.decode(t.slice(s,s+o));s=s+o;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var Ai=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ue=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ue||{}),xh=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=AA(s,e,t,i),o),{})},AA=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?y_(o,s):Eh(s)},y_=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return RA(t,n)}switch(e){case ue.bool:return OA(t);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return PA(t);case ue.json:case ue.jsonb:return NA(t);case ue.timestamp:return kA(t);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Eh(t);default:return Eh(t)}},Eh=e=>e,OA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},PA=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RA=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>y_(t,a))}return e},kA=e=>typeof e=="string"?e.replace(" ","T"):e,tl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};var Oi=class{constructor(t,n,r={},i=Qo){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var es=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(D=>D.presence_ref),f=d.map(D=>D.presence_ref),v=u.filter(D=>f.indexOf(D.presence_ref)<0),b=d.filter(D=>h.indexOf(D.presence_ref)<0);v.length>0&&(a[l]=v),b.length>0&&(c[l]=b)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ts=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(ts||{}),gn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(gn||{});var ns=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Oi(this,pt.join,this.params,this.timeout),this.rejoinTimer=new Ai(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Se.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new es(this),this.broadcastEndpointURL=tl(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Se.closed){let{config:{broadcast:o,presence:s,private:a}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],l=!!this.bindings[ts.PRESENCE]&&this.bindings[ts.PRESENCE].length>0,u={},d={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(gn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",f=>p(this,[f],function*({postgres_changes:h}){var v;if(this.socket.setAuth(),h===void 0){t?.(gn.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,D=(v=b?.length)!==null&&v!==void 0?v:0,x=[];for(let F=0;F<D;F++){let Q=b[F],{filter:{event:E,schema:Z,table:ye,filter:re}}=Q,de=h&&h[F];if(de&&de.event===E&&de.schema===Z&&de.table===ye&&de.filter===re)x.push(Object.assign(Object.assign({},Q),{id:de.id}));else{this.unsubscribe(),this.state=Se.errored,t?.(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(gn.SUBSCRIBED);return}})).receive("error",h=>{this.state=Se.errored,t?.(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===Se.joined&&t===ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}send(r){return p(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Se.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Oi(this,pt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Se.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return p(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Oi(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>v_){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=pt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,b,D;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((D=(b=f.filter)===null||b===void 0?void 0:b.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var v,b,D,x,F,Q;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,Z=(v=f.filter)===null||v===void 0?void 0:v.event;return E&&((b=n.ids)===null||b===void 0?void 0:b.includes(E))&&(Z==="*"||Z?.toLocaleLowerCase()===((D=n.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{let E=(F=(x=f?.filter)===null||x===void 0?void 0:x.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return E==="*"||E===((Q=n?.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let v=h.data,{schema:b,table:D,commit_timestamp:x,type:F,errors:Q}=v;h=Object.assign(Object.assign({},{schema:b,table:D,commit_timestamp:x,eventType:F,new:{},old:{},errors:Q}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===Se.closed}_isJoined(){return this.state===Se.joined}_isJoining(){return this.state===Se.joining}_isLeaving(){return this.state===Se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xh(t.columns,t.old_record)),n}};var __=()=>{},nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LA=[1e3,2e3,5e3,1e4],jA=1e4,VA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,rs=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qo,this.transport=null,this.heartbeatIntervalMs=nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=__,this.ref=0,this.reconnectTimer=null,this.logger=__,this.conn=null,this.sendBuffer=[],this.serializer=new el,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>import("./chunk-5SUDMNYJ.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Dh.websocket}`,this.httpEndpoint=tl(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ch.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:g_}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return p(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xo.connecting:return gr.Connecting;case Xo.open:return gr.Open;case Xo.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new ns(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return p(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([VA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return p(this,null,function*(){let n;t?n=t:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let i={access_token:n,version:p_};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(pt.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ai(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),nl.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,c,l;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Qo,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:nl.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t?.reconnectAfterMs)!==null&&a!==void 0?a:u=>LA[u-1]||jA,this.encode=(c=t?.encode)!==null&&c!==void 0?c:(u,d)=>d(JSON.stringify(u)),this.decode=(l=t?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Pi=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var rl=class extends Pi{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mr=class extends Pi{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var UA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},ol=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-5SUDMNYJ.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},w_=()=>UA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-5SUDMNYJ.js")).Response:Response}),il=e=>{if(Array.isArray(e))return e.map(n=>il(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=il(r)}),t},b_=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var vr=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Ih=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$A=(e,t,n)=>vr(void 0,void 0,void 0,function*(){let r=yield w_();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{let o=e.status||500,s=i?.statusCode||o+"";t(new rl(Ih(i),o,s))}).catch(i=>{t(new mr(Ih(i),i))}):t(new mr(Ih(e),e))}),BA=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(b_(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function is(e,t,n,r,i,o){return vr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,BA(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>$A(c,a,r))})})}function Ni(e,t,n,r){return vr(this,void 0,void 0,function*(){return is(e,"GET",t,n,r)})}function gt(e,t,n,r,i){return vr(this,void 0,void 0,function*(){return is(e,"POST",t,r,i,n)})}function os(e,t,n,r,i){return vr(this,void 0,void 0,function*(){return is(e,"PUT",t,r,i,n)})}function C_(e,t,n,r){return vr(this,void 0,void 0,function*(){return is(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sl(e,t,n,r,i){return vr(this,void 0,void 0,function*(){return is(e,"DELETE",t,r,i,n)})}var Be=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},HA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},al=class{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ol(i)}uploadOrUpdate(t,n,r,i){return Be(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},D_),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield(t=="PUT"?os:gt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(ve(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Be(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:D_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield os(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Pi("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}update(t,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Be(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Be(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield gt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Be(this,void 0,void 0,function*(){try{let i=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}download(t,n){return Be(this,void 0,void 0,function*(){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield Ni(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}info(t){return Be(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Ni(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:il(r),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}exists(t){return Be(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield C_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ve(r)&&r instanceof mr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return Be(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}list(t,n,r){return Be(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},HA),n),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}listV2(t,n){return Be(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var E_="2.11.0";var x_={"X-Client-Info":`storage-js/${E_}`};var Ri=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},cl=class{constructor(t,n={},r,i){let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},x_),n),this.fetch=ol(r)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}getBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}};var ss=class extends cl{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new al(this.url,this.headers,t,this.fetch)}};var I_="2.56.0";var as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";var zA={"X-Client-Info":`supabase-js-${as}/${I_}`},S_={headers:zA},M_={schema:"public"},T_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A_={};Vh();var GA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},qA=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lh:t=fetch,(...n)=>t(...n)},WA=()=>typeof Headers>"u"?jh:Headers,O_=(e,t,n)=>{let r=qA(n),i=WA();return(o,s)=>GA(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};var ZA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};function P_(e){return e.endsWith("/")?e:e+"/"}function N_(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ZA(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}var ll="2.71.1";var yr=30*1e3,ul=3,dl=ul*yr,R_="http://localhost:9999",k_="supabase.auth.token";var F_={"X-Client-Info":`gotrue-js/${ll}`};var cs="X-Supabase-Api-Version",Sh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j_=10*60*1e3;var ls=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function k(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var fl=class extends ls{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function V_(e){return k(e)&&e.name==="AuthApiError"}var ki=class extends ls{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Wt=class extends ls{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},mt=class extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function U_(e){return k(e)&&e.name==="AuthSessionMissingError"}var _r=class extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},wr=class extends Wt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},br=class extends Wt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function $_(e){return k(e)&&e.name==="AuthImplicitGrantRedirectError"}var us=class extends Wt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Fi=class extends Wt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function hl(e){return k(e)&&e.name==="AuthRetryableFetchError"}var ds=class extends Wt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Cr=class extends Wt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B_=` 	
\r=`.split(""),YA=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<B_.length;t+=1)e[B_[t].charCodeAt(0)]=-2;for(let t=0;t<pl.length;t+=1)e[pl[t].charCodeAt(0)]=t;return e})();function H_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(pl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(pl[r]),t.queuedBits-=6}}function z_(e,t,n){let r=YA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mh(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{QA(s,r,n)};for(let s=0;s<e.length;s+=1)z_(e.charCodeAt(s),i,o);return t.join("")}function KA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}KA(r,t)}}function QA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function G_(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)z_(e.charCodeAt(i),n,r);return new Uint8Array(t)}function q_(e){let t=[];return JA(e,n=>t.push(n)),new Uint8Array(t)}function W_(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>H_(i,n,r)),H_(null,n,r),t.join("")}function Z_(e){return Math.round(Date.now()/1e3)+e}function Y_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var vt=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},gl=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function K_(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var ml=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-5SUDMNYJ.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},J_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Er=(e,t,n)=>p(void 0,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Vn=(e,t)=>p(void 0,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),mn=(e,t)=>p(void 0,null,function*(){yield e.removeItem(t)}),fs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};fs.promiseConstructor=Promise;function vl(e){let t=e.split(".");if(t.length!==3)throw new Cr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!L_.test(t[r]))throw new Cr("JWT not in base64url format");return{header:JSON.parse(Mh(t[0])),payload:JSON.parse(Mh(t[1])),signature:G_(t[2]),raw:{header:t[0],payload:t[1]}}}function Q_(e){return p(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function X_(e,t){return new Promise((r,i)=>{p(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function XA(e){return("0"+e.toString(16)).substr(-2)}function eO(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,XA).join("")}function tO(e){return p(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function nO(e){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield tO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function xr(e,t,n=!1){return p(this,null,function*(){let r=eO(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Er(e,`${t}-code-verifier`,i);let o=yield nO(r);return[o,r===o?"plain":"s256"]})}var rO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ew(e){let t=e.headers.get(cs);if(!t||!t.match(rO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tw(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var iO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(e){if(!iO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yl(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Th(e){return JSON.parse(JSON.stringify(e))}var oO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sO=[502,503,504];function rw(e){return p(this,null,function*(){var t;if(!J_(e))throw new Fi(Sr(e),0);if(sO.includes(e.status))throw new Fi(Sr(e),e.status);let n;try{n=yield e.json()}catch(o){throw new ki(Sr(o),o)}let r,i=ew(e);if(i&&i.getTime()>=Sh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ds(Sr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new ds(Sr(n),e.status,n.weak_password.reasons);throw new fl(Sr(n),e.status||500,r)})}var aO=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function H(e,t,n,r){return p(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[cs]||(o[cs]=Sh["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield cO(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function cO(e,t,n,r,i,o){return p(this,null,function*(){let s=aO(t,r,i,o),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new Fi(Sr(c),0)}if(a.ok||(yield rw(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield rw(c)}})}function Zt(e){var t;let n=null;lO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Z_(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ah(e){let t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iw(e){return{data:e,error:null}}function ow(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=oO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function sw(e){return e}function lO(e){return e.access_token&&e.refresh_token&&e.expires_in}var _l=["global","local","others"];var uO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Li=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ml(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return p(this,arguments,function*(t,n=_l[0]){if(_l.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_l.join(", ")}`);try{return yield H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(k(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return p(this,arguments,function*(t,n={}){try{return yield H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yt})}catch(i){if(k(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return p(this,null,function*(){try{let{options:n}=t,r=uO(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ow,redirectTo:n?.redirectTo})}catch(n){if(k(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return p(this,null,function*(){try{return yield H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return p(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:sw});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{let b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(v.split(";")[1].split("=")[1]);l[`${D}Page`]=b}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(k(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return p(this,null,function*(){Ir(t);try{return yield H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return p(this,null,function*(){Ir(t);try{return yield H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Yt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return p(this,null,function*(){Ir(t);try{return yield H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return p(this,null,function*(){Ir(t.userId);try{let{data:n,error:r}=yield H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(k(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return p(this,null,function*(){Ir(t.userId),Ir(t.id);try{return{data:yield H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(k(n))return{data:null,error:n};throw n}})}};function Oh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Mr={debug:!!(globalThis&&gl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},hs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},wl=class extends hs{};function Ph(e,t,n){return p(this,null,function*(){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>p(this,null,function*(){if(i){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wl(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}aw();var dO={url:R_,storageKey:k_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function cw(e,t,n){return p(this,null,function*(){return yield n()})}var ji={},Nh=(()=>{class e{constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},dO),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Li({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ml(o.fetch),this.lock=o.lock||cw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:vt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ph:this.lock=cw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:gl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oh(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Oh(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var n,r;return(r=(n=ji[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ji[this.storageKey]=Object.assign(Object.assign({},ji[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ji[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ji[this.storageKey]=Object.assign(Object.assign({},ji[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ll}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var n;try{let r=K_(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),vt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$_(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?{error:r}:{error:new ki("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return p(this,null,function*(){var r,i,o;try{let s=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Zt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return p(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,v=null,b=null;this.flowType==="pkce"&&([v,b]=yield xr(this.storage,this.storageKey)),s=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:v,code_challenge_method:b},xform:Zt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zt})}else throw new wr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ah})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ah})}else throw new wr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new _r}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return p(this,null,function*(){let{chain:r}=n;if(r==="solana")return yield this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(n){return p(this,null,function*(){var r,i,o,s,a,c,l,u,d,h,f,v;let b,D;if("message"in n)b=n.message,D=n.signature;else{let{chain:x,wallet:F,statement:Q,options:E}=n,Z;if(vt())if(typeof F=="object")Z=F;else{let re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))Z=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=F}let ye=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){let re=yield Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:ye.host,uri:ye.href}),Q?{statement:Q}:null)),de;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")de=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)de=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in de&&"signature"in de&&(typeof de.signedMessage=="string"||de.signedMessage instanceof Uint8Array)&&de.signature instanceof Uint8Array)b=typeof de.signedMessage=="string"?de.signedMessage:new TextDecoder().decode(de.signedMessage),D=de.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${ye.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${ye.href}`,`Issued At: ${(o=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(de=>`- ${de}`)]:[]].join(`
`);let re=yield Z.signMessage(new TextEncoder().encode(b),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=re}}try{let{data:x,error:F}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:W_(D)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Zt});if(F)throw F;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new _r}:(x.session&&(yield this._saveSession(x.session),yield this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:F})}catch(x){if(k(x))return{data:{user:null,session:null},error:x};throw x}})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield Vn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Zt});if(yield mn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _r}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(k(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return p(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=yield H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _r}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield xr(this.storage,this.storageKey));let{error:h}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new wr("You must provide either an email or phone number.")}catch(c){if(k(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Zt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(k(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(n){return p(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield xr(this.storage,this.storageKey)),yield H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:iw})}catch(s){if(k(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new mt;let{error:o}=yield H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(n){if(k(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield H(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=yield H(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new wr("You must provide either an email or phone number and a type")}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=p(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<dl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield Vn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=yl()}if(this.storage.isServer&&n.user){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Yt}):yield this._useSession(r=>p(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Yt})}))}catch(r){if(k(r))return U_(r)&&(yield this._removeSession(),yield mn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>p(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new mt;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield xr(this.storage,this.storageKey));let{data:d,error:h}=yield H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Yt});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(k(o))return{data:{user:null},error:o};throw o}})}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new mt;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=vl(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(k(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new mt;let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return p(this,null,function*(){try{if(!vt())throw new br("No browser detected.");if(n.error||n.error_description||n.error_code)throw new br(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new us("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new br("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new us("No code detected.");let{data:Q,error:E}=yield this._exchangeCodeForSession(n.code);if(E)throw E;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:Q.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new br("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let v=f-d;v*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);let b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);let{data:D,error:x}=yield this._getUser(s);if(x)throw x;let F={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:n.type},error:null}}catch(i){if(k(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return p(this,null,function*(){let r=yield Vn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(V_(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield mn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Y_(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return p(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield xr(this.storage,this.storageKey,!0));try{return yield H(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(k(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let v=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield H(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return vt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(k(i))return{data:{provider:n.provider,url:null},error:i};throw i}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield H(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield X_(o=>p(this,null,function*(){return o>0&&(yield Q_(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Zt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&hl(s)&&Date.now()+a-i<yr})}catch(i){if(this._debug(r,"error",i),k(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),vt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Vn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Er(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:yl()}else if(o&&!o.user&&!o.user){let a=yield Vn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield mn(this.storage,this.storageKey+"-user"),yield Er(this.storage,this.storageKey,o)):o.user=yl()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dl;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${dl}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),hl(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,i;if(!n)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fs;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new mt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),k(s)){let a={session:null,error:s};return hl(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return p(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Er(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Th(o);yield Er(this.storage,this.storageKey,s)}else{let o=Th(r);yield Er(this.storage,this.storageKey,o)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield mn(this.storage,this.storageKey),yield mn(this.storage,this.storageKey+"-code-verifier"),yield mn(this.storage,this.storageKey+"-user"),this.userStorage&&(yield mn(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yr}ms, refresh threshold is ${ul} ticks`),o<=ul&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof hs)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return p(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield xr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield H(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:u}=yield H(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield H(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(k(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield H(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(k(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,i;let{data:{session:o},error:s}=n;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=vl(o.access_token),c=null;a.aal&&(c=a.aal);let l=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return p(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(l=>l.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===n),o&&this.jwks_cached_at+j_>s)return o;let{data:a,error:c}=yield H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===n),!o)?null:o})}getClaims(i){return p(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:b,error:D}=yield this.getSession();if(D||!b.session)return{data:null,error:D};o=b.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=vl(o);r?.allowExpired||tw(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:b}=yield this.getUser(o);if(b)throw b;return{data:{claims:a,header:s,signature:c},error:null}}let h=nw(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,q_(`${l}.${u}`))))throw new Cr("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(k(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var fO=Nh,Rh=fO;var bl=class extends Rh{constructor(t){super(t)}};var hO=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Cl=class{constructor(t,n,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let a=P_(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:M_,realtime:A_,auth:Object.assign(Object.assign({},T_),{storageKey:l}),global:S_},d=N_(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=O_(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new f_(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ss(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Go(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return hO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bl({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rs(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var lw=(e,t,n)=>new Cl(e,t,n);function pO(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var kh={production:!1,supabase:{url:"https://srytbqhpupdwxokidwna.supabase.co",key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNyeXRicWhwdXBkd3hva2lkd25hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NzM0MDMsImV4cCI6MjA3MjA0OTQwM30.Dbpz8v5aWHJxw6uj92UEBbQ44eJp_qM7NFwLsW3yKS4"}};var Dl=class e{supabase;constructor(){this.supabase=lw(kh.supabase.url,kh.supabase.key)}getPlayerStats(){return p(this,null,function*(){try{let{data:t,error:n}=yield this.supabase.from("player_stats").select("*").order("win_percentage",{ascending:!1});if(n)throw n;return t?.map(this.mapPlayerStatsFromDB)||[]}catch(t){return console.error("Error fetching player stats:",t),[]}})}searchPlayers(t){return p(this,null,function*(){try{let{data:n,error:r}=yield this.supabase.from("player_stats").select("*").ilike("name",`%${t}%`).order("total_games",{ascending:!1}).limit(10);if(r)throw r;return n?.map(this.mapPlayerStatsFromDB)||[]}catch(n){return console.error("Error searching players:",n),[]}})}saveGameResult(t){return p(this,null,function*(){try{console.log("Saving game result:",t);let n=this.mapGameResultToDB(t);delete n.id;let{data:r,error:i}=yield this.supabase.from("game_results").insert([n]).select();if(i)throw console.error("Error inserting game result:",i),i;console.log("Game result saved successfully:",r),yield this.updatePlayerStats(t)}catch(n){throw console.error("Error saving game result:",n),n}})}updatePlayerStats(t){return p(this,null,function*(){for(let n of t.players){let r=n===t.winner;yield this.upsertPlayerStats(n,t.gameType,r)}})}upsertPlayerStats(t,n,r){return p(this,null,function*(){try{console.log(`Updating stats for ${t}: winner=${r}, game=${n}`);let{data:i,error:o}=yield this.supabase.from("player_stats").select("*").eq("name",t).maybeSingle();if(o)throw console.error("Error fetching existing player stats:",o),o;if(i){console.log("Updating existing player:",i);let s=i.games_by_type||{},a=s[n]||{played:0,wins:0};s[n]={played:a.played+1,wins:a.wins+(r?1:0)};let c=i.total_games+1,l=i.total_wins+(r?1:0),u=c>0?l/c*100:0,{error:d}=yield this.supabase.from("player_stats").update({total_games:c,total_wins:l,win_percentage:u,games_by_type:s,last_played:new Date().toISOString()}).eq("id",i.id);if(d)throw console.error("Error updating player stats:",d),d;console.log(`Updated stats for ${t}`)}else{console.log("Creating new player:",t);let s={[n]:{played:1,wins:r?1:0}},{error:a}=yield this.supabase.from("player_stats").insert([{name:t,total_games:1,total_wins:r?1:0,win_percentage:r?100:0,games_by_type:s,last_played:new Date().toISOString(),created_at:new Date().toISOString()}]);if(a)throw console.error("Error inserting player stats:",a),a;console.log(`Created stats for ${t}`)}}catch(i){throw console.error(`Error updating stats for ${t}:`,i),i}})}mapPlayerStatsFromDB(t){return{id:t.id,name:t.name,totalGames:t.total_games||0,totalWins:t.total_wins||0,winPercentage:t.win_percentage||0,gamesByType:t.games_by_type||{},lastPlayed:new Date(t.last_played),createdAt:new Date(t.created_at)}}mapGameResultToDB(t){return{id:t.id,game_type:t.gameType,players:t.players,winner:t.winner,played_at:t.playedAt.toISOString(),duration:t.duration}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var yt=class e{constructor(t){this.supabaseService=t}PLAYERS_KEY="card_game_players";getPlayers(){try{let t=localStorage.getItem(this.PLAYERS_KEY);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading players from localStorage:",t),[]}}savePlayer(t){try{let n=this.getPlayers(),r=n.find(o=>o.name.toLowerCase()===t.toLowerCase());if(r)return r.gamesPlayed++,this.savePlayers(n),r;let i={id:this.generateUUID(),name:t,createdAt:new Date,gamesPlayed:1};return n.push(i),this.savePlayers(n),i}catch(n){return console.error("Error saving player:",n),{id:this.generateUUID(),name:t,createdAt:new Date,gamesPlayed:1}}}getPlayerStatsFromCloud(){return p(this,null,function*(){return yield this.supabaseService.getPlayerStats()})}getPlayerSuggestionsFromCloud(t){return p(this,null,function*(){return t.length<2?[]:yield this.supabaseService.searchPlayers(t)})}saveGameResultToCloud(t,n,r){return p(this,null,function*(){let i={id:this.generateUUID(),gameType:t,players:n,winner:r,playedAt:new Date};yield this.supabaseService.saveGameResult(i)})}savePlayers(t){try{localStorage.setItem(this.PLAYERS_KEY,JSON.stringify(t))}catch(n){console.error("Error saving players to localStorage:",n)}}generateUUID(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}generateId(){return this.generateUUID()}getPlayerSuggestions(t){return this.getPlayers().filter(r=>r.name.toLowerCase().includes(t.toLowerCase())).sort((r,i)=>i.gamesPlayed-r.gamesPlayed).slice(0,5)}saveGame(t,n){let r=`${t}_current_game`;localStorage.setItem(r,JSON.stringify(n))}loadGame(t){let n=`${t}_current_game`,r=localStorage.getItem(n);return r?JSON.parse(r):null}removeGame(t){let n=`${t}_current_game`;localStorage.removeItem(n)}static \u0275fac=function(n){return new(n||e)(O(Dl))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};function mO(e,t){if(e&1){let n=Ce();m(0,"div",14),j("click",function(){let i=G(n).$implicit,o=S(2);return q(o.selectSuggestion(i))}),y(1),m(2,"span",15),y(3),g()()}if(e&2){let n=t.$implicit;_(),le(" ",n.name," "),_(2),le("(",n.gamesPlayed," juegos)")}}function vO(e,t){if(e&1&&(m(0,"div",12),ee(1,mO,4,2,"div",13),g()),e&2){let n=S();_(),N("ngForOf",n.playerSuggestions)}}function yO(e,t){if(e&1){let n=Ce();m(0,"div",19)(1,"span"),y(2),g(),m(3,"button",20),j("click",function(){let i=G(n).$implicit,o=S(2);return q(o.removePlayer(i.id))}),y(4,"\xD7"),g()()}if(e&2){let n=t.$implicit;_(2),pe(n.name)}}function _O(e,t){if(e&1&&(m(0,"div",16)(1,"h3"),y(2),g(),m(3,"div",17),ee(4,yO,5,1,"div",18),g()()),e&2){let n=S();_(2),le("Jugadores seleccionados (",n.selectedPlayers.length,")"),_(2),N("ngForOf",n.selectedPlayers)}}var El=class e{constructor(t,n,r,i){this.route=t;this.router=n;this.storageService=r;this.gameService=i}game;selectedPlayers=[];newPlayerName="";playerSuggestions=[];showSuggestions=!1;ngOnInit(){let t=this.route.snapshot.paramMap.get("gameId");t&&(this.game=this.gameService.getGameById(t),this.game||this.router.navigate(["/"]))}onPlayerNameInput(){let t=this.newPlayerName.trim();t.length>0?(this.playerSuggestions=this.storageService.getPlayerSuggestions(t).filter(n=>!this.selectedPlayers.some(r=>r.id===n.id)),this.showSuggestions=this.playerSuggestions.length>0):this.showSuggestions=!1}selectSuggestion(t){this.addPlayerToGame(t),this.clearInput()}addNewPlayer(){let t=this.newPlayerName.trim();if(t&&!this.selectedPlayers.some(n=>n.name.toLowerCase()===t.toLowerCase())){let n=this.storageService.savePlayer(t);this.addPlayerToGame(n),this.clearInput()}}addPlayerToGame(t){this.selectedPlayers.find(n=>n.id===t.id)||this.selectedPlayers.push(t)}clearInput(){this.newPlayerName="",this.showSuggestions=!1,this.playerSuggestions=[]}removePlayer(t){this.selectedPlayers=this.selectedPlayers.filter(n=>n.id!==t)}canStartGame(){return this.selectedPlayers.length>=2}startGame(){this.canStartGame()&&this.game&&this.router.navigate(["/game",this.game.id],{state:{players:this.selectedPlayers}})}goBack(){this.router.navigate(["/"])}onClickOutside(){this.showSuggestions=!1}trackByPlayerId(t,n){return n.id}static \u0275fac=function(n){return new(n||e)(A(qt),A(Ne),A(yt),A(Di))};static \u0275cmp=Ge({type:e,selectors:[["app-game-setup"]],standalone:!0,features:[We],decls:19,vars:6,consts:[[1,"setup-container"],[1,"setup-card"],[1,"header"],[1,"back-btn",3,"click"],[1,"player-input-section"],[1,"input-container"],["type","text","placeholder","Nombre del jugador",1,"player-input",3,"ngModelChange","input","keyup.enter","ngModel"],[1,"add-btn",3,"click","disabled"],["class","suggestions",4,"ngIf"],["class","players-list",4,"ngIf"],[1,"start-section"],[1,"start-btn",3,"click","disabled"],[1,"suggestions"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-item",3,"click"],[1,"games-count"],[1,"players-list"],[1,"player-chips"],["class","player-chip",4,"ngFor","ngForOf"],[1,"player-chip"],[1,"remove-btn",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),j("click",function(){return r.goBack()}),y(4,"\u2190 Volver"),g(),m(5,"h2"),y(6),g()(),m(7,"div",4)(8,"h3"),y(9,"A\xF1adir jugadores"),g(),m(10,"div",5)(11,"input",6),At("ngModelChange",function(o){return $t(r.newPlayerName,o)||(r.newPlayerName=o),o}),j("input",function(){return r.onPlayerNameInput()})("keyup.enter",function(){return r.addNewPlayer()}),g(),m(12,"button",7),j("click",function(){return r.addNewPlayer()}),y(13," A\xF1adir "),g()(),ee(14,vO,2,1,"div",8),g(),ee(15,_O,5,2,"div",9),m(16,"div",10)(17,"button",11),j("click",function(){return r.startGame()}),y(18," Empezar juego (m\xEDn. 2 jugadores) "),g()()()()),n&2&&(_(6),pe(r.game==null?null:r.game.displayName),_(5),Tt("ngModel",r.newPlayerName),_(),N("disabled",!r.newPlayerName.trim()),_(2),N("ngIf",r.showSuggestions),_(),N("ngIf",r.selectedPlayers.length>0),_(2),N("disabled",r.selectedPlayers.length<2))},dependencies:[it,Ht,kn,Mi,jn,Si,pr],styles:['.setup-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:1rem;min-height:calc(100vh - 200px)}.setup-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:24px;padding:2.5rem;box-shadow:0 8px 32px var(--shadow-dark);position:relative}.setup-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent-color),var(--success-color));border-radius:24px 24px 0 0}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2.5rem;gap:1rem}.back-btn[_ngcontent-%COMP%]{background:var(--tertiary-dark);color:var(--text-secondary);border:none;font-size:1rem;cursor:pointer;padding:.8rem 1.2rem;border-radius:12px;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.back-btn[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:#fff;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.8rem;font-weight:600}.player-input-section[_ngcontent-%COMP%]{margin-bottom:2.5rem;position:relative}.player-input-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.3rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.player-input-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f465";font-size:1.2rem}.input-container[_ngcontent-%COMP%]{display:flex;gap:.8rem}.player-input[_ngcontent-%COMP%]{flex:1;padding:1.2rem 1.5rem;background:var(--tertiary-dark);border:2px solid transparent;border-radius:16px;font-size:1rem;color:var(--text-primary);transition:all .2s ease}.player-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.player-input[_ngcontent-%COMP%]:focus{background:var(--secondary-dark);border-color:var(--accent-color);box-shadow:0 0 0 3px #6366f11a}.add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color),var(--accent-hover));color:#fff;border:none;padding:1.2rem 2rem;border-radius:16px;cursor:pointer;font-size:1rem;font-weight:500;white-space:nowrap;box-shadow:0 4px 12px #6366f14d}.add-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #6366f166;transform:translateY(-2px)}.add-btn[_ngcontent-%COMP%]:disabled{background:var(--text-muted);cursor:not-allowed;transform:none;box-shadow:none}.suggestions[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);left:0;right:140px;background:var(--card-bg);border:1px solid rgba(255,255,255,.1);border-radius:16px;box-shadow:0 8px 32px var(--shadow-dark);z-index:1000;max-height:250px;overflow-y:auto;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.suggestion-item[_ngcontent-%COMP%]{padding:1rem 1.5rem;cursor:pointer;border-bottom:1px solid rgba(255,255,255,.05);display:flex;justify-content:space-between;align-items:center;transition:all .2s ease}.suggestion-item[_ngcontent-%COMP%]:hover{background:#6366f11a}.suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.suggestion-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary)}.games-count[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem;background:var(--tertiary-dark);padding:.2rem .6rem;border-radius:12px}.players-list[_ngcontent-%COMP%]{margin-bottom:2.5rem}.players-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.3rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.players-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f3af";font-size:1.2rem}.player-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.8rem}.player-chip[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color),var(--accent-hover));color:#fff;padding:.8rem 1.2rem;border-radius:20px;display:flex;align-items:center;gap:.8rem;box-shadow:0 4px 12px #6366f14d;transition:all .2s ease;animation:_ngcontent-%COMP%_fadeIn .3s ease}.player-chip[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #6366f166}.player-name[_ngcontent-%COMP%]{font-weight:500}.remove-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.remove-btn[_ngcontent-%COMP%]:hover{background:var(--danger-color);transform:scale(1.1)}.game-info[_ngcontent-%COMP%]{margin-bottom:2.5rem;padding:1.5rem;background:#10b9811a;border-radius:16px;border:1px solid rgba(16,185,129,.2);border-left:4px solid var(--success-color)}.game-description[_ngcontent-%COMP%]{margin:0 0 .8rem;color:var(--text-secondary);font-style:italic;line-height:1.6}.min-players[_ngcontent-%COMP%]{margin:0;color:var(--success-color);font-size:.9rem;font-weight:500}.start-section[_ngcontent-%COMP%]{text-align:center}.start-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--success-color),#059669);color:#fff;border:none;padding:1.2rem 3rem;border-radius:16px;cursor:pointer;font-size:1.1rem;font-weight:600;min-width:280px;box-shadow:0 4px 12px #10b9814d;transition:all .2s ease}.start-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #10b98166}.start-btn[_ngcontent-%COMP%]:disabled{background:var(--text-muted);cursor:not-allowed;transform:none;box-shadow:none}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.setup-container[_ngcontent-%COMP%]{padding:.5rem}.setup-card[_ngcontent-%COMP%]{padding:2rem}.header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.input-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.suggestions[_ngcontent-%COMP%]{right:0}.start-btn[_ngcontent-%COMP%]{min-width:100%}.player-chips[_ngcontent-%COMP%]{gap:.6rem}}']})};var xl=class e{createGame(t){let n=t.map(r=>({id:r.id,name:r.name,currentScore:0,hasPellejo:!1,isEliminated:!1,createdAt:r.createdAt,gamesPlayed:r.gamesPlayed}));return{id:this.generateUUID(),players:n,gamePhase:"playing",pellejoUsed:!1,createdAt:new Date}}addPlayerToGame(t,n){if(t.players.find(c=>c.id===n.id))return t;let i=Math.max(...t.players.map(c=>c.currentScore)),o=t.players.find(c=>c.currentScore===i),s=i;o?.hasPellejo&&i>=3&&(s=2);let a={id:n.id,name:n.name,currentScore:s,hasPellejo:!1,isEliminated:!1,createdAt:n.createdAt,gamesPlayed:n.gamesPlayed};return t.players.push(a),this.updatePlayerStatus(t),t}addPointToPlayer(t,n){let r=t.players.find(i=>i.id===n);return!r||r.isEliminated||(r.currentScore++,this.updatePlayerStatus(t)),t}removePointFromPlayer(t,n){let r=t.players.find(i=>i.id===n);return!r||r.currentScore<=0||(r.currentScore--,this.updatePlayerStatus(t)),t}removePlayerFromGame(t,n){let r=t.players.findIndex(i=>i.id===n);return r===-1||(t.players.splice(r,1),this.updatePlayerStatus(t)),t}updatePlayerStatus(t){if(t.players.forEach(n=>{n.isEliminated=!1}),!t.pellejoUsed){let n=t.players.find(r=>r.currentScore===3);n&&!n.hasPellejo&&(n.hasPellejo=!0,t.pellejoUsed=!0)}t.players.forEach(n=>{n.hasPellejo?n.currentScore>=4&&(n.isEliminated=!0):n.currentScore>=3&&(n.isEliminated=!0)}),this.checkWinner(t)}checkWinner(t){let n=t.players.filter(r=>!r.isEliminated);if(n.length===1)t.gamePhase="finished",t.winner=n[0];else if(n.length===0){let r=t.players.reduce((i,o)=>o.currentScore<i.currentScore?i:o);t.gamePhase="finished",t.winner=r}else t.gamePhase="playing",t.winner=void 0}resetGame(t){return t.players.forEach(n=>{n.currentScore=0,n.hasPellejo=!1,n.isEliminated=!1}),t.gamePhase="playing",t.winner=void 0,t.pellejoUsed=!1,t}getActivePlayers(t){return t.players.filter(n=>!n.isEliminated)}generateUUID(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}generateGameId(){return this.generateUUID()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var Vi=class e{constructor(t){this.storageService=t}getAllPlayers(){return this.storageService.getPlayers()}addPlayer(t){return this.storageService.savePlayer(t)}getPlayerSuggestions(t){return this.storageService.getPlayerSuggestions(t)}generateUUID(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}static \u0275fac=function(n){return new(n||e)(O(yt))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};function bO(e,t){if(e&1){let n=Ce();m(0,"button",27),j("click",function(){let i=G(n).$implicit,o=S(4);return q(o.addExistingPlayer(i))}),y(1),g()}if(e&2){let n=t.$implicit;_(),le(" ",n.name," ")}}function CO(e,t){if(e&1&&(m(0,"div",24)(1,"h5"),y(2,"Jugadores disponibles:"),g(),m(3,"div",25),ee(4,bO,2,1,"button",26),g()()),e&2){let n=S(3);_(4),N("ngForOf",n.availablePlayers)}}function DO(e,t){if(e&1){let n=Ce();m(0,"div",14)(1,"button",15),j("click",function(){G(n);let i=S(2);return q(i.toggleAddPlayer())}),y(2),g(),m(3,"div",16)(4,"div",17)(5,"h4"),y(6,"A\xF1adir nuevo jugador"),g(),m(7,"p",18),y(8," El nuevo jugador entrar\xE1 con: "),m(9,"strong"),y(10),g()(),ee(11,CO,5,1,"div",19),m(12,"div",20)(13,"h5"),y(14,"O crear nuevo jugador:"),g(),m(15,"div",21)(16,"input",22),At("ngModelChange",function(i){G(n);let o=S(2);return $t(o.newPlayerName,i)||(o.newPlayerName=i),q(i)}),j("keyup.enter",function(){G(n);let i=S(2);return q(i.addNewPlayer())}),g(),m(17,"button",23),j("click",function(){G(n);let i=S(2);return q(i.addNewPlayer())}),y(18," A\xF1adir "),g()()()()()()}if(e&2){let n=S(2);_(2),le(" ",n.showAddPlayer?"\u2716\uFE0F Cancelar":"\u2795 A\xF1adir Jugador"," "),_(),ut("expanded",n.showAddPlayer),_(7),pe(n.getPlayerInitialScore()),_(),N("ngIf",n.availablePlayers.length>0),_(5),Tt("ngModel",n.newPlayerName),_(),N("disabled",!n.newPlayerName.trim())}}function EO(e,t){e&1&&(m(0,"span",41),y(1,"\u{1F6E1}\uFE0F"),g())}function xO(e,t){e&1&&(m(0,"span",42),y(1,"\u{1F480}"),g())}function IO(e,t){e&1&&(m(0,"span",43),y(1,"\u2713"),g())}function SO(e,t){if(e&1){let n=Ce();m(0,"button",44),j("click",function(){G(n);let i=S().$implicit,o=S(3);return q(o.removePlayer(i.id))}),y(1," \u{1F5D1}\uFE0F "),g()}}function MO(e,t){if(e&1&&(m(0,"div",31)(1,"div",32),y(2),g(),m(3,"div",33)(4,"span",34),y(5),g(),Ut(6,"div",35),g(),m(7,"div",36),ee(8,EO,2,0,"span",37)(9,xO,2,0,"span",38)(10,IO,2,0,"span",39),g(),ee(11,SO,2,0,"button",40),g()),e&2){let n=t.$implicit,r=S(3);ut("eliminated",n.isEliminated)("pellejo",n.hasPellejo)("danger",n.currentScore>=(n.hasPellejo?3:2)),_(2),pe(n.name),_(),ut("pulsing",r.shouldPulse(n)),_(),an("data-score",n.currentScore),_(),le(" ",r.getRomanNumeral(n.currentScore)," "),_(),an("data-level",r.getScoreLevel(n)),_(2),N("ngIf",n.hasPellejo),_(),N("ngIf",n.isEliminated),_(),N("ngIf",!n.isEliminated&&!n.hasPellejo),_(),N("ngIf",r.game.players.length>2)}}function TO(e,t){if(e&1&&(m(0,"div",28)(1,"h3"),y(2,"\u{1F4CA} Resumen de Puntuaci\xF3n"),g(),m(3,"div",29),ee(4,MO,12,16,"div",30),g()()),e&2){let n=S(2);_(4),N("ngForOf",n.game.players)("ngForTrackBy",n.trackByPlayerId)}}function AO(e,t){e&1&&(m(0,"span",58),y(1,"\u{1F6E1}\uFE0F Pellejo"),g())}function OO(e,t){if(e&1&&(m(0,"div",59),y(1),g()),e&2){let n=t.index,r=S().$implicit;ut("filled",r.currentScore>n),_(),le(" ",n+1," ")}}function PO(e,t){e&1&&(m(0,"span",60),y(1,"(con pellejo)"),g())}function NO(e,t){if(e&1){let n=Ce();m(0,"div",48),j("click",function(){let i=G(n).$implicit,o=S(3);return q(o.addPoint(i.id))}),m(1,"div",49)(2,"h4"),y(3),g(),ee(4,AO,2,0,"span",50),g(),m(5,"div",51)(6,"div",52),ee(7,OO,2,3,"div",53),g(),m(8,"p",54),y(9),ee(10,PO,2,0,"span",55),g()(),m(11,"div",56),j("click",function(i){return G(n),q(i.stopPropagation())}),m(12,"button",57),j("click",function(){let i=G(n).$implicit,o=S(3);return q(o.removePoint(i.id))}),y(13," -1 "),g()()()}if(e&2){let n=t.$implicit,r=S(3);_(3),pe(n.name),_(),N("ngIf",n.hasPellejo),_(3),N("ngForOf",r.getScoreArray(n)),_(2),li(" ",n.currentScore," / ",n.hasPellejo?4:3," puntos "),_(),N("ngIf",n.hasPellejo),_(2),N("disabled",n.currentScore===0)}}function RO(e,t){if(e&1&&(m(0,"div",45)(1,"h3"),y(2),g(),m(3,"div",46),ee(4,NO,14,7,"div",47),g()()),e&2){let n=S(2);_(2),le("\u{1F3AF} Jugadores Activos (",n.getActivePlayers().length,")"),_(2),N("ngForOf",n.getActivePlayers())("ngForTrackBy",n.trackByPlayerId)}}function kO(e,t){if(e&1){let n=Ce();m(0,"div",63)(1,"div",49)(2,"h4"),y(3),g(),m(4,"span",64),y(5),g()(),m(6,"div",51)(7,"p",54),y(8),g()(),m(9,"div",65)(10,"button",66),j("click",function(){let i=G(n).$implicit,o=S(3);return q(o.removePoint(i.id))}),y(11," -1 "),g()()()}if(e&2){let n=t.$implicit;_(3),pe(n.name),_(2),le(" Eliminado (",n.currentScore," pts) "),_(3),li(" ",n.currentScore," puntos - ",n.hasPellejo?"Ten\xEDa pellejo":"Sin pellejo"," "),_(2),N("disabled",n.currentScore===0)}}function FO(e,t){if(e&1&&(m(0,"div",45)(1,"h3"),y(2),g(),m(3,"div",61),ee(4,kO,12,5,"div",62),g()()),e&2){let n=S(2);_(2),le("\u274C Jugadores Eliminados (",n.getEliminatedPlayers().length,")"),_(2),N("ngForOf",n.getEliminatedPlayers())("ngForTrackBy",n.trackByPlayerId)}}function LO(e,t){if(e&1){let n=Ce();m(0,"div",67)(1,"div",68)(2,"h3"),y(3,"\u{1F3C6} \xA1Juego Terminado!"),g(),m(4,"div",69)(5,"h2"),y(6),g(),m(7,"p"),y(8,"\xA1Felicidades por ser el \xFAltimo en pie!"),g()(),m(9,"div",70)(10,"button",71),j("click",function(){G(n);let i=S(2);return q(i.resetGame())}),y(11,"\u{1F504} Jugar de nuevo"),g(),m(12,"button",72),j("click",function(){G(n);let i=S(2);return q(i.goBack())}),y(13,"\u{1F3E0} Volver al inicio"),g()()()()}if(e&2){let n=S(2);_(6),le("",n.game.winner==null?null:n.game.winner.name," ha ganado")}}function jO(e,t){if(e&1){let n=Ce();m(0,"div",73)(1,"button",74),j("click",function(){G(n);let i=S(2);return q(i.resetGame())}),y(2,"\u{1F504} Reiniciar Juego"),g()()}}function VO(e,t){if(e&1){let n=Ce();m(0,"div",1)(1,"div",2)(2,"button",3),j("click",function(){G(n);let i=S();return q(i.goBack())}),y(3,"\u2190 Volver"),g(),m(4,"h2"),y(5,"\u{1F3B4} Clavito"),g()(),m(6,"div",4)(7,"button",5),j("click",function(){G(n);let i=S();return q(i.toggleInstructions())}),m(8,"span",6),y(9),g(),m(10,"span"),y(11,"\u{1F4CB} Instrucciones del juego"),g()(),m(12,"div",7)(13,"div",8)(14,"p")(15,"strong"),y(16,"\u{1F3AF} Objetivo:"),g(),y(17," Ser el \xFAltimo jugador en pie"),g(),m(18,"p")(19,"strong"),y(20,"\u{1F446} C\xF3mo jugar:"),g(),y(21," Toca el nombre de un jugador para sumarle un punto cuando se equivoque"),g(),m(22,"p")(23,"strong"),y(24,"\u{1F6E1}\uFE0F Pellejo:"),g(),y(25," El primer jugador en llegar a 3 puntos recibe una vida extra"),g(),m(26,"p")(27,"strong"),y(28,"\u274C Eliminaci\xF3n:"),g()(),m(29,"ul")(30,"li"),y(31,"Con pellejo: eliminado a los 4 puntos"),g(),m(32,"li"),y(33,"Sin pellejo: eliminado a los 3 puntos"),g()(),m(34,"p")(35,"strong"),y(36,"\u2795 A\xF1adir jugadores:"),g(),y(37," Los nuevos jugadores entran con los mismos puntos que el l\xEDder (o 2 puntos si el l\xEDder tiene pellejo)"),g()()()(),ee(38,DO,19,7,"div",9)(39,TO,5,2,"div",10)(40,RO,5,3,"div",11)(41,FO,5,3,"div",11)(42,LO,14,1,"div",12)(43,jO,3,0,"div",13),g()}if(e&2){let n=S();_(7),ut("expanded",n.showInstructions),_(2),pe(n.showInstructions?"\u25BC":"\u25B6"),_(3),ut("expanded",n.showInstructions),_(26),N("ngIf",n.game.gamePhase==="playing"),_(),N("ngIf",n.game.gamePhase==="playing"),_(),N("ngIf",n.getActivePlayers().length>0),_(),N("ngIf",n.getEliminatedPlayers().length>0),_(),N("ngIf",n.game.gamePhase==="finished"),_(),N("ngIf",n.game.gamePhase==="playing")}}var Il=class e{constructor(t,n,r,i){this.router=t;this.clavitoService=n;this.playerService=r;this.storageService=i;let o=this.router.getCurrentNavigation();o?.extras?.state&&(this.players=o.extras.state.players||[])}game;players=[];showInstructions=!1;showAddPlayer=!1;newPlayerName="";availablePlayers=[];ngOnInit(){if(this.players.length===0){this.router.navigate(["/"]);return}this.initializeGame(),this.loadAvailablePlayers()}onPlayerNameInput(){return p(this,null,function*(){let t=this.newPlayerName.trim();if(t.length>1)try{let n=yield this.storageService.getPlayerSuggestionsFromCloud(t);n.length>0?this.availablePlayers=n.map(r=>({id:r.id,name:r.name,createdAt:r.createdAt,gamesPlayed:r.totalGames})).filter(r=>!this.game?.players.some(i=>i.id===r.id)):this.loadAvailablePlayers()}catch(n){console.error("Error getting cloud suggestions:",n),this.loadAvailablePlayers()}else this.loadAvailablePlayers()})}saveGameResult(){return p(this,null,function*(){if(this.game?.winner)try{let t=this.game.players.map(n=>n.name);yield this.storageService.saveGameResultToCloud("clavito",t,this.game.winner.name)}catch(t){console.error("Error saving game result to cloud:",t)}})}initializeGame(){this.game=this.clavitoService.createGame(this.players)}loadAvailablePlayers(){let t=this.playerService.getAllPlayers();this.availablePlayers=t.filter(n=>!this.game?.players.some(r=>r.id===n.id))}toggleInstructions(){this.showInstructions=!this.showInstructions}toggleAddPlayer(){this.showAddPlayer=!this.showAddPlayer,this.showAddPlayer&&(this.loadAvailablePlayers(),this.newPlayerName="")}addExistingPlayer(t){this.game&&(this.game=this.clavitoService.addPlayerToGame(this.game,t),this.loadAvailablePlayers(),this.showAddPlayer=!1)}addNewPlayer(){if(!this.game||!this.newPlayerName.trim())return;let t=this.playerService.addPlayer(this.newPlayerName.trim());this.game=this.clavitoService.addPlayerToGame(this.game,t),this.loadAvailablePlayers(),this.newPlayerName="",this.showAddPlayer=!1}removePlayer(t){if(!this.game)return;let n=this.game.players.find(i=>i.id===t);if(!n)return;confirm(`\xBFEst\xE1s seguro de que quieres eliminar a ${n.name} del juego?`)&&(this.game=this.clavitoService.removePlayerFromGame(this.game,t),this.loadAvailablePlayers())}addPoint(t){if(!this.game)return;let n=this.game.gamePhase;this.game=this.clavitoService.addPointToPlayer(this.game,t),n==="playing"&&this.game.gamePhase==="finished"&&this.saveGameResult()}removePoint(t){this.game&&(this.game=this.clavitoService.removePointFromPlayer(this.game,t))}getActivePlayers(){return this.game?this.clavitoService.getActivePlayers(this.game):[]}getEliminatedPlayers(){return this.game?this.game.players.filter(t=>t.isEliminated):[]}getScoreArray(t){let n=t.hasPellejo?4:3;return Array.from({length:n},(r,i)=>i+1)}getRomanNumeral(t){return{0:"\u25CB",1:"I",2:"II",3:"III",4:"IV",5:"V"}[t]||t.toString()}getScoreLevel(t){let n=t.currentScore,r=t.hasPellejo?4:3;return t.isEliminated?"eliminated":n===0?"safe":n===1?"warning":n===2?"danger":n===3?t.hasPellejo?"danger":"critical":n>=r?"eliminated":"safe"}shouldPulse(t){return t.hasPellejo||t.currentScore>=3}getPlayerInitialScore(){if(!this.game)return"0";let t=Math.max(...this.game.players.map(r=>r.currentScore));return this.game.players.find(r=>r.currentScore===t)?.hasPellejo&&t>=3?`2 (el l\xEDder tiene pellejo con ${t} puntos)`:`${t} (igualado con el l\xEDder)`}resetGame(){this.game&&confirm("\xBFEst\xE1s seguro de que quieres reiniciar el juego? Se perder\xE1n todos los puntos.")&&(this.game=this.clavitoService.resetGame(this.game))}goBack(){this.game?.gamePhase==="playing"&&!confirm("\xBFEst\xE1s seguro de que quieres salir? Se perder\xE1 la partida actual.")||this.router.navigate(["/"])}trackByPlayerId(t,n){return n.id}static \u0275fac=function(n){return new(n||e)(A(Ne),A(xl),A(Vi),A(yt))};static \u0275cmp=Ge({type:e,selectors:[["app-clavito"]],standalone:!0,features:[We],decls:1,vars:1,consts:[["class","clavito-container",4,"ngIf"],[1,"clavito-container"],[1,"clavito-header"],[1,"back-btn",3,"click"],[1,"game-info-collapsible"],[1,"info-toggle",3,"click"],[1,"toggle-icon"],[1,"game-info"],[1,"info-content"],["class","add-player-section",4,"ngIf"],["class","score-summary",4,"ngIf"],["class","players-section",4,"ngIf"],["class","winner-section",4,"ngIf"],["class","game-controls",4,"ngIf"],[1,"add-player-section"],[1,"add-player-btn",3,"click"],[1,"add-player-form"],[1,"form-content"],[1,"entry-info"],["class","existing-players",4,"ngIf"],[1,"new-player-form"],[1,"input-group"],["type","text","placeholder","Nombre del nuevo jugador",1,"player-name-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"add-btn",3,"click","disabled"],[1,"existing-players"],[1,"available-players-grid"],["class","available-player-btn",3,"click",4,"ngFor","ngForOf"],[1,"available-player-btn",3,"click"],[1,"score-summary"],[1,"summary-grid"],["class","summary-item",3,"eliminated","pellejo","danger",4,"ngFor","ngForOf","ngForTrackBy"],[1,"summary-item"],[1,"player-name"],[1,"roman-score"],[1,"roman-numerals"],[1,"score-indicator"],[1,"player-status"],["class","status-badge pellejo-badge",4,"ngIf"],["class","status-badge eliminated-badge",4,"ngIf"],["class","status-badge active-badge",4,"ngIf"],["class","remove-player-btn","title","Eliminar jugador del juego",3,"click",4,"ngIf"],[1,"status-badge","pellejo-badge"],[1,"status-badge","eliminated-badge"],[1,"status-badge","active-badge"],["title","Eliminar jugador del juego",1,"remove-player-btn",3,"click"],[1,"players-section"],[1,"players-grid"],["class","player-card active-player",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"player-card","active-player",3,"click"],[1,"player-header"],["class","pellejo-badge",4,"ngIf"],[1,"score-display"],[1,"score-circles"],["class","score-circle",3,"filled",4,"ngFor","ngForOf"],[1,"score-text"],["class","pellejo-text",4,"ngIf"],[1,"player-actions",3,"click"],["title","Quitar punto",1,"remove-point-btn",3,"click","disabled"],[1,"pellejo-badge"],[1,"score-circle"],[1,"pellejo-text"],[1,"eliminated-list"],["class","player-card eliminated-player",4,"ngFor","ngForOf","ngForTrackBy"],[1,"player-card","eliminated-player"],[1,"eliminated-badge"],[1,"player-actions"],["title","Quitar punto (puede reactivar al jugador)",1,"remove-point-btn",3,"click","disabled"],[1,"winner-section"],[1,"winner-card"],[1,"winner-info"],[1,"winner-actions"],[1,"restart-btn",3,"click"],[1,"back-btn-alt",3,"click"],[1,"game-controls"],[1,"reset-btn",3,"click"]],template:function(n,r){n&1&&ee(0,VO,44,11,"div",0),n&2&&N("ngIf",r.game)},dependencies:[it,Ht,kn,Mi,jn,Si,pr],styles:['.clavito-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:clamp(.5rem,2vw,1rem);min-height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}.clavito-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:clamp(1rem,3vw,2rem);gap:clamp(.5rem,2vw,1rem);flex-wrap:wrap}.back-btn[_ngcontent-%COMP%]{background:var(--tertiary-dark);color:var(--text-secondary);border:none;font-size:clamp(.9rem,2.5vw,1rem);cursor:pointer;padding:clamp(.6rem,2vw,.8rem) clamp(1rem,3vw,1.2rem);border-radius:12px;transition:all .2s ease;min-height:44px;white-space:nowrap}@media (min-width: 769px){.back-btn[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:#fff;transform:translateY(-2px)}}.clavito-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:clamp(1.4rem,4vw,2rem);font-weight:600;background:linear-gradient(135deg,var(--accent-color),var(--success-color));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;flex:1}.game-info-collapsible[_ngcontent-%COMP%]{margin-bottom:clamp(1rem,3vw,2rem)}.info-toggle[_ngcontent-%COMP%]{width:100%;background:var(--tertiary-dark);color:var(--text-primary);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:clamp(.75rem,2vw,1rem) clamp(1rem,3vw,1.5rem);cursor:pointer;font-size:clamp(.9rem,2.5vw,1rem);font-weight:600;transition:all .2s ease;display:flex;align-items:center;gap:clamp(.5rem,2vw,.75rem);min-height:44px}.info-toggle.expanded[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;background:var(--accent-color);color:#fff}@media (min-width: 769px){.info-toggle[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:#fff;transform:translateY(-1px)}}.toggle-icon[_ngcontent-%COMP%]{font-size:clamp(.8rem,2vw,.9rem);transition:transform .2s ease;flex-shrink:0}.info-toggle.expanded[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{transform:rotate(0)}.game-info[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-top:none;border-radius:0 0 12px 12px;max-height:0;overflow:hidden;transition:all .3s ease;opacity:0}.game-info.expanded[_ngcontent-%COMP%]{max-height:300px;opacity:1;border-left:4px solid var(--accent-color)}.info-content[_ngcontent-%COMP%]{padding:clamp(1rem,3vw,1.5rem)}.info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 clamp(.5rem,2vw,.75rem) 0;color:var(--text-secondary);font-size:clamp(.85rem,2.5vw,.95rem);line-height:1.5}.info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:clamp(.5rem,2vw,.75rem) 0 0 clamp(1rem,3vw,1.5rem);padding:0}.info-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:clamp(.25rem,1vw,.5rem);color:var(--text-secondary);font-size:clamp(.8rem,2vw,.9rem)}.score-summary[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:clamp(12px,2vw,16px);padding:clamp(.75rem,2vw,1.5rem);margin-bottom:clamp(1rem,3vw,2rem);box-shadow:0 4px 16px var(--shadow-dark);border-left:3px solid var(--success-color)}.score-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 clamp(.75rem,2vw,1rem) 0;color:var(--text-primary);font-size:clamp(1rem,2.5vw,1.2rem);font-weight:600;text-align:center}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,140px),1fr));gap:clamp(.5rem,1.5vw,.75rem)}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:clamp(.5rem,1.5vw,.75rem);background:var(--secondary-dark);border-radius:8px;border:1.5px solid transparent;transition:all .2s ease;position:relative;min-height:clamp(80px,15vw,100px)}.summary-item.pellejo[_ngcontent-%COMP%]{border-color:var(--warning-color);background:#f59e0b14}.summary-item.eliminated[_ngcontent-%COMP%]{border-color:var(--danger-color);background:#ef444414;opacity:.6}.summary-item.danger[_ngcontent-%COMP%]{border-color:var(--danger-color);background:#ef44440a}.player-name[_ngcontent-%COMP%]{font-size:clamp(.75rem,2vw,.9rem);font-weight:600;color:var(--text-primary);margin-bottom:clamp(.25rem,1vw,.5rem);text-align:center;word-break:break-word;line-height:1.2;max-width:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.roman-score[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center;justify-content:center}.roman-numerals[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2.2rem);font-weight:700;font-family:Times New Roman,serif;display:block;text-align:center;transition:all .2s ease;line-height:1}.roman-numerals[data-score="0"][_ngcontent-%COMP%]{color:var(--text-muted);opacity:.7}.roman-numerals[data-score="1"][_ngcontent-%COMP%]{color:var(--success-color)}.roman-numerals[data-score="2"][_ngcontent-%COMP%]{color:var(--warning-color)}.roman-numerals[data-score="3"][_ngcontent-%COMP%]{color:var(--danger-color)}.roman-numerals[data-score="4"][_ngcontent-%COMP%], .roman-numerals[data-score="5"][_ngcontent-%COMP%]{color:#8b0000}.pulsing[_ngcontent-%COMP%]   .roman-numerals[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-subtle 1.8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-subtle{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.9}}.score-indicator[_ngcontent-%COMP%], .player-status[_ngcontent-%COMP%]{display:none}.players-section[_ngcontent-%COMP%]{margin-bottom:clamp(1rem,3vw,2rem)}.players-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);font-size:clamp(1.2rem,3.5vw,1.4rem);font-weight:600;margin-bottom:clamp(1rem,3vw,1.5rem);text-align:center}.players-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,280px),1fr));gap:clamp(1rem,2.5vw,1.5rem)}.eliminated-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:clamp(.75rem,2vw,1rem);max-width:600px;margin:0 auto}.player-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:clamp(16px,3vw,20px);padding:clamp(1.25rem,3vw,2rem);transition:all .2s ease;box-shadow:0 8px 32px var(--shadow-dark);position:relative}.active-player[_ngcontent-%COMP%]{cursor:pointer;border-left:4px solid var(--success-color)}@media (min-width: 769px){.active-player[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px var(--shadow-dark),0 0 0 2px #10b98133;border-left-color:var(--accent-color)}}@media (max-width: 768px){.active-player[_ngcontent-%COMP%]:active{transform:scale(.98);transition:transform .1s ease}}.eliminated-player[_ngcontent-%COMP%]{border-left:4px solid var(--danger-color);opacity:.7}.player-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:clamp(1rem,2.5vw,1.5rem);gap:.5rem;flex-wrap:wrap}.player-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:clamp(1.1rem,3vw,1.4rem);font-weight:600;word-break:break-word}.pellejo-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--warning-color),#f97316);color:#fff;padding:clamp(.3rem,1vw,.4rem) clamp(.6rem,2vw,.8rem);border-radius:20px;font-size:clamp(.75rem,2vw,.85rem);font-weight:500;box-shadow:0 2px 8px #f59e0b4d;white-space:nowrap}.eliminated-badge[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff;padding:clamp(.3rem,1vw,.4rem) clamp(.6rem,2vw,.8rem);border-radius:20px;font-size:clamp(.75rem,2vw,.85rem);font-weight:500;white-space:nowrap}.score-display[_ngcontent-%COMP%]{text-align:center;margin-bottom:clamp(1rem,2.5vw,1.5rem)}.score-circles[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:clamp(.5rem,2vw,.8rem);margin-bottom:clamp(.75rem,2vw,1rem);flex-wrap:wrap}.score-circle[_ngcontent-%COMP%]{width:clamp(40px,8vw,45px);height:clamp(40px,8vw,45px);border-radius:50%;background:var(--tertiary-dark);color:var(--text-muted);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:clamp(.9rem,2.5vw,1rem);transition:all .3s ease;border:2px solid transparent}.score-circle.filled[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--danger-color),#dc2626);color:#fff;border-color:var(--danger-color);box-shadow:0 4px 12px #ef44444d;transform:scale(1.1)}.score-text[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500;font-size:clamp(.9rem,2.5vw,1rem);margin:0}.pellejo-text[_ngcontent-%COMP%]{color:var(--warning-color);font-size:clamp(.8rem,2vw,.85rem);font-weight:500}.player-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.remove-point-btn[_ngcontent-%COMP%]{background:var(--tertiary-dark);color:var(--text-secondary);border:none;padding:clamp(.5rem,2vw,.6rem) clamp(.8rem,2.5vw,1rem);border-radius:12px;cursor:pointer;font-size:clamp(.9rem,2.5vw,1rem);font-weight:600;transition:all .2s ease;min-width:clamp(40px,8vw,50px);min-height:44px}@media (min-width: 769px){.remove-point-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--warning-color);color:#fff;transform:translateY(-1px)}}.remove-point-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.winner-section[_ngcontent-%COMP%]{text-align:center;margin:clamp(1rem,3vw,2rem) 0}.winner-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--success-color),#059669);border-radius:clamp(20px,4vw,24px);padding:clamp(2rem,5vw,3rem);color:#fff;box-shadow:0 12px 40px #10b98166}.winner-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:clamp(1.5rem,4vw,2rem);font-weight:700}.winner-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:clamp(1.8rem,5vw,2.5rem);font-weight:700;word-break:break-word}.winner-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 2rem;font-size:clamp(1rem,3vw,1.2rem);opacity:.9}.winner-actions[_ngcontent-%COMP%]{display:flex;gap:clamp(.75rem,2vw,1rem);justify-content:center;flex-wrap:wrap}.restart-btn[_ngcontent-%COMP%], .back-btn-alt[_ngcontent-%COMP%]{padding:clamp(.8rem,2vw,1rem) clamp(1.5rem,3vw,2rem);border-radius:16px;cursor:pointer;font-size:clamp(.9rem,2.5vw,1rem);font-weight:600;transition:all .2s ease;min-height:44px;white-space:nowrap}.restart-btn[_ngcontent-%COMP%]{background:#fff;color:var(--success-color);border:none}.back-btn-alt[_ngcontent-%COMP%]{background:transparent;color:#fff;border:2px solid white}@media (min-width: 769px){.restart-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffffff4d}.back-btn-alt[_ngcontent-%COMP%]:hover{background:#fff;color:var(--success-color);transform:translateY(-2px)}}.game-controls[_ngcontent-%COMP%]{text-align:center;margin-top:clamp(1rem,3vw,2rem);padding-bottom:env(safe-area-inset-bottom)}.reset-btn[_ngcontent-%COMP%]{background:var(--tertiary-dark);color:var(--text-secondary);border:none;padding:clamp(.8rem,2vw,1rem) clamp(1.5rem,3vw,2rem);border-radius:16px;cursor:pointer;font-size:clamp(.9rem,2.5vw,1rem);font-weight:500;transition:all .2s ease;min-height:44px}@media (min-width: 769px){.reset-btn[_ngcontent-%COMP%]:hover{background:var(--warning-color);color:#fff;transform:translateY(-2px)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.player-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .4s ease forwards}.player-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.player-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.player-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.player-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:.3}}@media (min-width: 769px){.summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:1rem}.summary-item[_ngcontent-%COMP%]{padding:1rem;min-height:120px}.player-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.75rem}.roman-numerals[_ngcontent-%COMP%]{font-size:2.5rem}.score-indicator[_ngcontent-%COMP%]{display:block;position:absolute;bottom:-6px;left:50%;transform:translate(-50%);width:20px;height:2px;border-radius:1px;transition:all .3s ease}.score-indicator[data-level=safe][_ngcontent-%COMP%]{background:var(--success-color)}.score-indicator[data-level=warning][_ngcontent-%COMP%]{background:var(--warning-color)}.score-indicator[data-level=danger][_ngcontent-%COMP%]{background:var(--danger-color)}.score-indicator[data-level=critical][_ngcontent-%COMP%]{background:var(--danger-color);animation:_ngcontent-%COMP%_blink 1s ease-in-out infinite}.score-indicator[data-level=eliminated][_ngcontent-%COMP%]{background:#8b0000}.player-status[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin-top:.5rem}.status-badge[_ngcontent-%COMP%]{padding:.2rem .4rem;border-radius:8px;font-size:.7rem;font-weight:600;white-space:nowrap}.active-badge[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}}@media (max-width: 768px) and (min-width: 481px){.summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.6rem}.summary-item[_ngcontent-%COMP%]{padding:.6rem .4rem;min-height:90px}.roman-numerals[_ngcontent-%COMP%]{font-size:2rem}.player-name[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.4rem}}@media (max-width: 480px){.clavito-container[_ngcontent-%COMP%]{padding:.5rem}.clavito-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.players-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.winner-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.winner-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:280px}.score-summary[_ngcontent-%COMP%]{padding:.75rem;border-radius:12px}.score-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.75rem}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.4rem}.summary-item[_ngcontent-%COMP%]{padding:.5rem .3rem;min-height:75px;border-radius:6px}.player-name[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.25rem;line-height:1.1;max-height:2.2em;overflow:hidden}.roman-numerals[_ngcontent-%COMP%]{font-size:1.8rem}}@media (max-width: 360px){.summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:.3rem}.summary-item[_ngcontent-%COMP%]{padding:.4rem .2rem;min-height:70px}.player-name[_ngcontent-%COMP%]{font-size:.7rem;margin-bottom:.2rem}.roman-numerals[_ngcontent-%COMP%]{font-size:1.6rem}.player-card[_ngcontent-%COMP%]{padding:1rem}.winner-card[_ngcontent-%COMP%]{padding:1.5rem;margin:0 .25rem}.game-info[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 768px) and (orientation: landscape){.clavito-container[_ngcontent-%COMP%]{padding:.5rem}.clavito-header[_ngcontent-%COMP%]{margin-bottom:1rem}.game-info[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem}.players-section[_ngcontent-%COMP%]{margin-bottom:1rem}.players-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.player-card[_ngcontent-%COMP%]{padding:1rem}.score-circles[_ngcontent-%COMP%]{gap:.4rem}.score-circle[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.8rem}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:.4rem}.summary-item[_ngcontent-%COMP%]{padding:.4rem .3rem;min-height:65px}.roman-numerals[_ngcontent-%COMP%]{font-size:1.5rem}.player-name[_ngcontent-%COMP%]{font-size:.7rem;margin-bottom:.2rem}}.add-player-section[_ngcontent-%COMP%]{margin-bottom:clamp(1rem,3vw,2rem)}.add-player-btn[_ngcontent-%COMP%]{width:100%;background:var(--accent-color);color:#fff;border:none;border-radius:12px;padding:clamp(.75rem,2vw,1rem) clamp(1rem,3vw,1.5rem);font-size:clamp(.9rem,2.5vw,1rem);font-weight:600;cursor:pointer;transition:all .2s ease;min-height:44px}@media (min-width: 769px){.add-player-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translateY(-2px)}}.add-player-form[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-top:none;border-radius:0 0 12px 12px;max-height:0;overflow:hidden;transition:all .3s ease;opacity:0}.add-player-form.expanded[_ngcontent-%COMP%]{max-height:400px;opacity:1;border-left:4px solid var(--accent-color)}.form-content[_ngcontent-%COMP%]{padding:clamp(1rem,3vw,1.5rem)}.form-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 clamp(.5rem,2vw,.75rem) 0;color:var(--text-primary);font-size:clamp(1rem,2.5vw,1.2rem)}.form-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:clamp(1rem,2vw,1.5rem) 0 clamp(.5rem,1.5vw,.75rem) 0;color:var(--text-secondary);font-size:clamp(.9rem,2vw,1rem);font-weight:600}.entry-info[_ngcontent-%COMP%]{background:var(--tertiary-dark);color:var(--text-secondary);padding:clamp(.75rem,2vw,1rem);border-radius:8px;margin-bottom:clamp(1rem,2vw,1.5rem);font-size:clamp(.85rem,2vw,.95rem);border-left:3px solid var(--accent-color)}.available-players-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:clamp(.5rem,1.5vw,.75rem);margin-bottom:clamp(1rem,2vw,1.5rem)}.available-player-btn[_ngcontent-%COMP%]{background:var(--secondary-dark);color:var(--text-primary);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:clamp(.5rem,2vw,.75rem);cursor:pointer;font-size:clamp(.8rem,2vw,.9rem);font-weight:500;transition:all .2s ease;word-break:break-word;min-height:44px}@media (min-width: 769px){.available-player-btn[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:#fff;transform:translateY(-1px)}}.input-group[_ngcontent-%COMP%]{display:flex;gap:clamp(.5rem,2vw,.75rem);align-items:stretch}.player-name-input[_ngcontent-%COMP%]{flex:1;padding:clamp(.75rem,2vw,1rem);border:1px solid rgba(255,255,255,.1);border-radius:8px;background:var(--secondary-dark);color:var(--text-primary);font-size:clamp(.9rem,2vw,1rem);min-height:44px}.player-name-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.player-name-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 2px #3b82f61a}.add-btn[_ngcontent-%COMP%]{background:var(--success-color);color:#fff;border:none;border-radius:8px;padding:clamp(.75rem,2vw,1rem) clamp(1rem,2.5vw,1.5rem);cursor:pointer;font-size:clamp(.9rem,2vw,1rem);font-weight:600;transition:all .2s ease;white-space:nowrap;min-height:44px}.add-btn[_ngcontent-%COMP%]:disabled{background:var(--tertiary-dark);color:var(--text-muted);cursor:not-allowed}@media (min-width: 769px){.add-btn[_ngcontent-%COMP%]:not(:disabled):hover{background:#059669;transform:translateY(-1px)}}.summary-item[_ngcontent-%COMP%]{position:relative}.remove-player-btn[_ngcontent-%COMP%]{position:absolute;top:clamp(.25rem,1vw,.5rem);right:clamp(.25rem,1vw,.5rem);background:var(--danger-color);color:#fff;border:none;border-radius:50%;width:clamp(24px,5vw,28px);height:clamp(24px,5vw,28px);cursor:pointer;font-size:clamp(.7rem,1.8vw,.8rem);display:flex;align-items:center;justify-content:center;opacity:.7;transition:all .2s ease}@media (min-width: 769px){.remove-player-btn[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1);background:#dc2626}}@media (max-width: 768px){.input-group[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.available-players-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.5rem}.available-player-btn[_ngcontent-%COMP%]{padding:.6rem;font-size:.8rem}.remove-player-btn[_ngcontent-%COMP%]{width:22px;height:22px;font-size:.7rem}}']})};var Sl=class e{constructor(t){this.storageService=t}currentGame=null;startNewGame(t,n=3){return this.currentGame={id:this.generateGameId(),players:t,currentRound:1,maxRounds:n,scores:[],gameState:"setup",createdAt:new Date,updatedAt:new Date},this.saveGame(),this.currentGame}addScore(t){this.currentGame&&(this.currentGame.scores.push(t),this.currentGame.updatedAt=new Date,this.saveGame())}getCurrentGame(){return this.currentGame}generateGameId(){return"escoba_"+Date.now().toString()}saveGame(){this.currentGame&&this.storageService.saveGame("escoba",this.currentGame)}static \u0275fac=function(n){return new(n||e)(O(yt))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};function $O(e,t){if(e&1){let n=Ce();m(0,"div",15)(1,"h3"),y(2),g(),m(3,"div",16)(4,"div",17)(5,"label"),y(6,"Cartas capturadas:"),g(),m(7,"input",18),At("ngModelChange",function(i){let o=G(n).$implicit,s=S(2);return $t(s.currentRoundScores[o.id].cards,i)||(s.currentRoundScores[o.id].cards=i),q(i)}),j("ngModelChange",function(){let i=G(n).$implicit,o=S(2);return q(o.calculateScore(i.id))}),g()(),m(8,"div",17)(9,"label"),y(10,"Oros:"),g(),m(11,"input",19),At("ngModelChange",function(i){let o=G(n).$implicit,s=S(2);return $t(s.currentRoundScores[o.id].coins,i)||(s.currentRoundScores[o.id].coins=i),q(i)}),j("ngModelChange",function(){let i=G(n).$implicit,o=S(2);return q(o.calculateScore(i.id))}),g()(),m(12,"div",17)(13,"label"),y(14,"Sietes:"),g(),m(15,"input",20),At("ngModelChange",function(i){let o=G(n).$implicit,s=S(2);return $t(s.currentRoundScores[o.id].sevens,i)||(s.currentRoundScores[o.id].sevens=i),q(i)}),j("ngModelChange",function(){let i=G(n).$implicit,o=S(2);return q(o.calculateScore(i.id))}),g()(),m(16,"div",21)(17,"label")(18,"input",22),At("ngModelChange",function(i){let o=G(n).$implicit,s=S(2);return $t(s.currentRoundScores[o.id].sevenOfCoins,i)||(s.currentRoundScores[o.id].sevenOfCoins=i),q(i)}),j("ngModelChange",function(){let i=G(n).$implicit,o=S(2);return q(o.calculateScore(i.id))}),g(),y(19," Siete de Oros "),g()(),m(20,"div",17)(21,"label"),y(22,"Escobas:"),g(),m(23,"input",23),At("ngModelChange",function(i){let o=G(n).$implicit,s=S(2);return $t(s.currentRoundScores[o.id].escobas,i)||(s.currentRoundScores[o.id].escobas=i),q(i)}),j("ngModelChange",function(){let i=G(n).$implicit,o=S(2);return q(o.calculateScore(i.id))}),g()(),m(24,"div",24),y(25),g()()()}if(e&2){let n=t.$implicit,r=S(2);_(2),pe(n.name),_(5),Tt("ngModel",r.currentRoundScores[n.id].cards),_(4),Tt("ngModel",r.currentRoundScores[n.id].coins),_(4),Tt("ngModel",r.currentRoundScores[n.id].sevens),_(3),Tt("ngModel",r.currentRoundScores[n.id].sevenOfCoins),_(5),Tt("ngModel",r.currentRoundScores[n.id].escobas),_(2),le(" Total ronda: ",r.currentRoundScores[n.id].total||0," ")}}function BO(e,t){if(e&1&&(m(0,"div",25)(1,"span"),y(2),g(),m(3,"span",26),y(4),g()()),e&2){let n=t.$implicit,r=S(2);_(2),le("",n.name,":"),_(2),pe(r.getPlayerTotalScore(n.id))}}function HO(e,t){if(e&1){let n=Ce();m(0,"div",5)(1,"div",6)(2,"h2"),y(3),g()(),m(4,"div",7)(5,"div",8),ee(6,$O,26,7,"div",9),g(),m(7,"div",10)(8,"button",11),j("click",function(){G(n);let i=S();return q(i.saveRound())}),y(9),g()()(),m(10,"div",12)(11,"h3"),y(12,"Puntuaciones Totales"),g(),m(13,"div",13),ee(14,BO,5,2,"div",14),g()()()}if(e&2){let n=S();_(3),li("Ronda ",n.game.currentRound," de ",n.game.maxRounds,""),_(3),N("ngForOf",n.players),_(3),le(" ",n.game.currentRound>=n.game.maxRounds?"Finalizar Juego":"Siguiente Ronda"," "),_(5),N("ngForOf",n.players)}}function zO(e,t){if(e&1&&(m(0,"div",34)(1,"h3"),y(2),g()()),e&2){let n=t.ngIf;_(2),le("\u{1F3C6} Ganador: ",n.name," \u{1F3C6}")}}function GO(e,t){if(e&1&&(m(0,"div",35)(1,"span"),y(2),g(),m(3,"span",36),y(4),g()()),e&2){let n=t.$implicit,r=S(2);_(2),le("",n.name,":"),_(2),le("",r.getPlayerTotalScore(n.id)," puntos")}}function qO(e,t){if(e&1){let n=Ce();m(0,"div",27)(1,"div",28)(2,"h2"),y(3,"\xA1Juego Terminado!"),g(),ee(4,zO,3,1,"div",29),g(),m(5,"div",30)(6,"h3"),y(7,"Puntuaciones Finales"),g(),m(8,"div",31),ee(9,GO,5,2,"div",32),g()(),m(10,"div",33)(11,"button",11),j("click",function(){G(n);let i=S();return q(i.newGame())}),y(12,"Nueva Partida"),g(),m(13,"button",2),j("click",function(){G(n);let i=S();return q(i.goHome())}),y(14,"Volver al Inicio"),g()()()}if(e&2){let n=S();_(4),N("ngIf",n.getWinner()),_(5),N("ngForOf",n.players)}}var Ml=class e{constructor(t,n,r){this.escobaService=t;this.playerService=n;this.router=r}game=null;players=[];currentRoundScores={};gameFinished=!1;ngOnInit(){if(this.game=this.escobaService.getCurrentGame(),this.game)this.players=this.game.players;else{if(this.players=this.playerService.getAllPlayers(),this.players.length===0){this.router.navigate(["/"]);return}this.startNewGame()}this.initializeCurrentRoundScores()}startNewGame(){this.players.length>0&&(this.game=this.escobaService.startNewGame(this.players,3))}initializeCurrentRoundScores(){this.game&&(this.currentRoundScores={},this.game.players.forEach(t=>{this.currentRoundScores[t.id]={playerId:t.id,round:this.game.currentRound,cards:0,coins:0,sevens:0,sevenOfCoins:!1,escobas:0,total:0}}))}calculateScore(t){let n=this.currentRoundScores[t];if(n){let r=0;r+=n.cards||0,r+=n.coins||0,r+=n.sevens||0,n.sevenOfCoins&&(r+=1),r+=n.escobas||0,n.total=r}}saveRound(){if(!this.game)return;let t=0,n=[];Object.values(this.currentRoundScores).forEach(r=>{r.cards>t?(t=r.cards,n=[r.playerId]):r.cards===t&&n.push(r.playerId)}),n.length===1&&(this.currentRoundScores[n[0]].total+=1),Object.values(this.currentRoundScores).forEach(r=>{this.escobaService.addScore(r)}),this.game.currentRound>=this.game.maxRounds?(this.gameFinished=!0,this.game.gameState="finished"):(this.game.currentRound++,this.initializeCurrentRoundScores())}getPlayerTotalScore(t){return this.game?this.game.scores.filter(n=>n.playerId===t).reduce((n,r)=>n+r.total,0):0}getWinner(){if(!this.gameFinished||!this.game)return null;let t=-1,n=null;return this.game.players.forEach(r=>{let i=this.getPlayerTotalScore(r.id);i>t&&(t=i,n=r)}),n}newGame(){this.gameFinished=!1,this.startNewGame(),this.initializeCurrentRoundScores()}goHome(){this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||e)(A(Sl),A(Vi),A(Ne))};static \u0275cmp=Ge({type:e,selectors:[["app-escoba"]],standalone:!0,features:[We],decls:8,vars:2,consts:[[1,"escoba-container"],[1,"header"],[1,"btn","btn-secondary",3,"click"],["class","game-active",4,"ngIf"],["class","game-finished",4,"ngIf"],[1,"game-active"],[1,"round-info"],[1,"scoring-section"],[1,"player-scores"],["class","player-score-card",4,"ngFor","ngForOf"],[1,"round-actions"],[1,"btn","btn-primary",3,"click"],[1,"current-totals"],[1,"totals-grid"],["class","total-item",4,"ngFor","ngForOf"],[1,"player-score-card"],[1,"score-inputs"],[1,"input-group"],["type","number","min","0","max","40",3,"ngModelChange","ngModel"],["type","number","min","0","max","10",3,"ngModelChange","ngModel"],["type","number","min","0","max","4",3,"ngModelChange","ngModel"],[1,"checkbox-group"],["type","checkbox",3,"ngModelChange","ngModel"],["type","number","min","0",3,"ngModelChange","ngModel"],[1,"total-score"],[1,"total-item"],[1,"total-points"],[1,"game-finished"],[1,"winner-section"],["class","winner",4,"ngIf"],[1,"final-scores"],[1,"final-scores-list"],["class","final-score-item",4,"ngFor","ngForOf"],[1,"game-actions"],[1,"winner"],[1,"final-score-item"],[1,"score"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"h1"),y(3,"La Escoba"),g(),m(4,"button",2),j("click",function(){return r.goHome()}),y(5,"Volver al inicio"),g()(),ee(6,HO,15,5,"div",3)(7,qO,15,2,"div",4),g()),n&2&&(_(6),N("ngIf",!r.gameFinished&&r.game),_(),N("ngIf",r.gameFinished))},dependencies:[it,Ht,kn,Mi,jn,oh,nh,Si,ah,sh,pr],styles:[".escoba-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid #e0e0e0}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin:0}.round-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.round-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#34495e;background:#ecf0f1;padding:15px;border-radius:8px;margin:0}.player-scores[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:30px}.player-score-card[_ngcontent-%COMP%]{border:2px solid #bdc3c7;border-radius:12px;padding:20px;background:#fff;box-shadow:0 2px 10px #0000001a}.player-score-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#2c3e50;text-align:center;font-size:1.3em}.input-group[_ngcontent-%COMP%]{margin-bottom:15px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:600;color:#34495e}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #bdc3c7;border-radius:6px;font-size:16px}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:15px}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-weight:600;color:#34495e}.checkbox-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin-right:10px;transform:scale(1.2)}.total-score[_ngcontent-%COMP%]{background:#3498db;color:#fff;padding:12px;border-radius:8px;text-align:center;font-weight:700;font-size:1.1em;margin-top:15px}.round-actions[_ngcontent-%COMP%]{text-align:center;margin:30px 0}.current-totals[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:20px;margin-top:30px}.current-totals[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:20px}.totals-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.total-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;background:#fff;border-radius:8px;border-left:4px solid #3498db}.total-points[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;font-size:1.1em}.game-finished[_ngcontent-%COMP%]{text-align:center}.winner-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f39c12,#e67e22);color:#fff;padding:30px;border-radius:15px;margin-bottom:30px}.winner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2em;margin:20px 0}.final-scores[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:25px;margin-bottom:30px}.final-scores-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;margin-top:20px}.final-score-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:#fff;border-radius:8px;border-left:4px solid #27ae60;font-size:1.1em}.final-score-item[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-weight:700;color:#27ae60}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;margin:0 10px}.btn-primary[_ngcontent-%COMP%]{background:#3498db;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2980b9;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]{background:#95a5a6;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#7f8c8d;transform:translateY(-2px)}.game-actions[_ngcontent-%COMP%]{margin-top:20px}@media (max-width: 768px){.player-scores[_ngcontent-%COMP%], .totals-grid[_ngcontent-%COMP%], .final-scores-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function WO(e,t){e&1&&(m(0,"div",8),Ut(1,"div",9),m(2,"p"),y(3,"Cargando clasificaci\xF3n..."),g()())}function ZO(e,t){if(e&1){let n=Ce();m(0,"div",10)(1,"p"),y(2),g(),m(3,"button",11),j("click",function(){G(n);let i=S();return q(i.loadLeaderboard())}),y(4," \u{1F504} Reintentar "),g()()}if(e&2){let n=S();_(2),pe(n.error)}}function YO(e,t){if(e&1&&(m(0,"div",26)(1,"div",20)(2,"span",27),y(3),g()(),m(4,"div",21)(5,"div",28)(6,"span",29),y(7),g(),m(8,"span",30),y(9),Zv(10,"date"),g()()(),m(11,"div",22)(12,"span",31),y(13),g()(),m(14,"div",23)(15,"span",32),y(16),g()(),m(17,"div",24)(18,"div",33),Ut(19,"div",34),m(20,"span",35),y(21),g()()()()),e&2){let n=t.$implicit,r=t.index,i=S(3);ut("top-3",r<3),_(3),pe(i.getPositionEmoji(r)),_(4),pe(n.name),_(2),le(" \xDAltimo juego: ",Yv(10,10,n.lastPlayed,"shortDate")," "),_(4),pe(n.totalGames),_(3),pe(n.totalWins),_(3),ci("width",n.winPercentage,"%"),_(2),le(" ",i.getWinPercentageDisplay(n.winPercentage)," ")}}function KO(e,t){if(e&1&&(m(0,"div",18)(1,"div",19)(2,"div",20),y(3,"Pos."),g(),m(4,"div",21),y(5,"Jugador"),g(),m(6,"div",22),y(7,"Partidas"),g(),m(8,"div",23),y(9,"Victorias"),g(),m(10,"div",24),y(11,"% Victoria"),g()(),ee(12,YO,22,13,"div",25),g()),e&2){let n=S(2);_(12),N("ngForOf",n.playerStats)("ngForTrackBy",n.trackByPlayerId)}}function JO(e,t){e&1&&(m(0,"div",36)(1,"h3"),y(2,"\u{1F4CA} No hay datos a\xFAn"),g(),m(3,"p"),y(4,"\xA1Juega algunas partidas para ver la clasificaci\xF3n!"),g(),m(5,"a",37),y(6," \u{1F3AE} Empezar a jugar "),g()())}function QO(e,t){if(e&1&&(m(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),y(4),g(),m(5,"span",16),y(6,"Jugadores"),g()(),m(7,"div",14)(8,"span",15),y(9),g(),m(10,"span",16),y(11,"Partidas"),g()()(),ee(12,KO,13,2,"div",17)(13,JO,7,0,"ng-template",null,0,Kv),g()),e&2){let n=Gv(14),r=S();_(4),pe(r.getTotalPlayers()),_(5),pe(r.getTotalGames()),_(3),N("ngIf",r.playerStats.length>0)("ngIfElse",n)}}var Tl=class e{constructor(t){this.storageService=t}playerStats=[];loading=!0;error=null;ngOnInit(){return p(this,null,function*(){yield this.loadLeaderboard()})}loadLeaderboard(){return p(this,null,function*(){try{this.loading=!0,this.error=null,this.playerStats=yield this.storageService.getPlayerStatsFromCloud()}catch(t){console.error("Error loading leaderboard:",t),this.error="Error al cargar la clasificaci\xF3n"}finally{this.loading=!1}})}getTotalPlayers(){return this.playerStats.length}getTotalGames(){return this.playerStats.reduce((t,n)=>t+n.totalGames,0)}getWinPercentageDisplay(t){return t.toFixed(1)+"%"}getPositionEmoji(t){switch(t){case 0:return"\u{1F947}";case 1:return"\u{1F948}";case 2:return"\u{1F949}";default:return`${t+1}\xBA`}}trackByPlayerId(t,n){return n.id}static \u0275fac=function(n){return new(n||e)(A(yt))};static \u0275cmp=Ge({type:e,selectors:[["app-leaderboard"]],standalone:!0,features:[We],decls:12,vars:3,consts:[["noData",""],[1,"leaderboard-container"],[1,"header"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","leaderboard-content",4,"ngIf"],[1,"navigation"],["routerLink","/",1,"back-btn"],[1,"loading"],[1,"spinner"],[1,"error"],[1,"retry-btn",3,"click"],[1,"leaderboard-content"],[1,"stats-summary"],[1,"stat-card"],[1,"stat-number"],[1,"stat-label"],["class","leaderboard-table",4,"ngIf","ngIfElse"],[1,"leaderboard-table"],[1,"table-header"],[1,"col-rank"],[1,"col-player"],[1,"col-games"],[1,"col-wins"],[1,"col-percentage"],["class","table-row",3,"top-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"table-row"],[1,"position"],[1,"player-info"],[1,"player-name"],[1,"last-played"],[1,"games-count"],[1,"wins-count"],[1,"percentage-bar"],[1,"percentage-fill"],[1,"percentage-text"],[1,"no-data"],["routerLink","/",1,"start-playing-btn"]],template:function(n,r){n&1&&(m(0,"div",1)(1,"div",2)(2,"h1"),y(3,"\u{1F3C6} Clasificaci\xF3n"),g(),m(4,"p"),y(5,"Rankings globales de todos los jugadores"),g()(),ee(6,WO,4,0,"div",3)(7,ZO,5,1,"div",4)(8,QO,15,4,"div",5),m(9,"div",6)(10,"a",7),y(11," \u2190 Volver al inicio "),g()()()),n&2&&(_(6),N("ngIf",r.loading),_(),N("ngIf",r.error),_(),N("ngIf",!r.loading&&!r.error))},dependencies:[it,Ht,kn,_y,Hc,Bc],styles:[".leaderboard-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:clamp(1rem,3vw,2rem);min-height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:clamp(1.5rem,4vw,2.5rem)}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text-primary);font-size:clamp(1.8rem,5vw,2.5rem);font-weight:700;background:linear-gradient(135deg,var(--accent-color),var(--success-color));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:clamp(.9rem,2.5vw,1.1rem)}.loading[_ngcontent-%COMP%]{text-align:center;padding:clamp(2rem,6vw,4rem)}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--tertiary-dark);border-top:4px solid var(--accent-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:clamp(.9rem,2.5vw,1rem);margin:0}.error[_ngcontent-%COMP%]{text-align:center;padding:clamp(2rem,6vw,4rem)}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--danger-color);font-size:clamp(.9rem,2.5vw,1.1rem);margin:0 0 1rem}.retry-btn[_ngcontent-%COMP%]{background:var(--accent-color);color:#fff;border:none;border-radius:12px;padding:clamp(.75rem,2vw,1rem) clamp(1.5rem,3vw,2rem);cursor:pointer;font-size:clamp(.9rem,2.5vw,1rem);font-weight:600;transition:all .2s ease;min-height:44px}.retry-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translateY(-2px)}.stats-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:clamp(1rem,3vw,1.5rem);margin-bottom:clamp(1.5rem,4vw,2rem)}.stat-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:clamp(16px,3vw,20px);padding:clamp(1.5rem,3vw,2rem);text-align:center;box-shadow:0 8px 32px var(--shadow-dark)}.stat-number[_ngcontent-%COMP%]{display:block;font-size:clamp(1.8rem,5vw,2.5rem);font-weight:700;color:var(--accent-color);margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:clamp(.9rem,2.5vw,1rem);font-weight:500}.leaderboard-table[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:clamp(16px,3vw,20px);overflow:hidden;box-shadow:0 8px 32px var(--shadow-dark)}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr 80px 80px 120px;gap:clamp(.5rem,2vw,1rem);padding:clamp(1rem,2.5vw,1.5rem);background:var(--tertiary-dark);font-weight:600;color:var(--text-primary);font-size:clamp(.85rem,2vw,.95rem)}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr 80px 80px 120px;gap:clamp(.5rem,2vw,1rem);padding:clamp(1rem,2.5vw,1.5rem);border-bottom:1px solid rgba(255,255,255,.05);transition:all .2s ease;align-items:center}.table-row[_ngcontent-%COMP%]:hover{background:#ffffff05}.table-row.top-3[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f60d,#10b9810d)}.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.col-rank[_ngcontent-%COMP%]{text-align:center}.position[_ngcontent-%COMP%]{font-size:clamp(1.2rem,3vw,1.5rem);font-weight:700}.col-player[_ngcontent-%COMP%]{min-width:0}.player-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.player-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);font-size:clamp(.95rem,2.5vw,1.1rem);word-break:break-word}.last-played[_ngcontent-%COMP%]{font-size:clamp(.75rem,2vw,.85rem);color:var(--text-muted)}.col-games[_ngcontent-%COMP%], .col-wins[_ngcontent-%COMP%]{text-align:center}.games-count[_ngcontent-%COMP%], .wins-count[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);font-size:clamp(.9rem,2.5vw,1rem)}.col-percentage[_ngcontent-%COMP%]{text-align:right}.percentage-bar[_ngcontent-%COMP%]{position:relative;background:var(--secondary-dark);border-radius:20px;height:24px;overflow:hidden;display:flex;align-items:center;justify-content:center}.percentage-fill[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;background:linear-gradient(90deg,var(--success-color),var(--accent-color));border-radius:20px;transition:width .6s ease}.percentage-text[_ngcontent-%COMP%]{position:relative;z-index:2;font-weight:600;font-size:clamp(.8rem,2vw,.9rem);color:var(--text-primary)}.no-data[_ngcontent-%COMP%]{text-align:center;padding:clamp(3rem,8vw,5rem) clamp(1rem,3vw,2rem)}.no-data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--text-primary);font-size:clamp(1.3rem,4vw,1.6rem);font-weight:600}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 2rem;color:var(--text-secondary);font-size:clamp(.9rem,2.5vw,1.1rem)}.start-playing-btn[_ngcontent-%COMP%]{display:inline-block;background:var(--accent-color);color:#fff;text-decoration:none;border-radius:16px;padding:clamp(1rem,2.5vw,1.2rem) clamp(1.5rem,4vw,2rem);font-size:clamp(.9rem,2.5vw,1.1rem);font-weight:600;transition:all .2s ease}.start-playing-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translateY(-2px)}.navigation[_ngcontent-%COMP%]{margin-top:clamp(2rem,5vw,3rem);text-align:center}.back-btn[_ngcontent-%COMP%]{display:inline-block;background:var(--tertiary-dark);color:var(--text-secondary);text-decoration:none;border-radius:12px;padding:clamp(.75rem,2vw,1rem) clamp(1.5rem,3vw,2rem);font-size:clamp(.9rem,2.5vw,1rem);font-weight:600;transition:all .2s ease;min-height:44px;display:inline-flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:#fff;transform:translateY(-2px)}@media (max-width: 768px){.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:50px 1fr 60px 60px 100px;padding:clamp(.75rem,2vw,1rem);gap:.5rem;font-size:.85rem}.player-info[_ngcontent-%COMP%]{gap:.2rem}.last-played[_ngcontent-%COMP%]{font-size:.7rem}.percentage-bar[_ngcontent-%COMP%]{height:20px}.position[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:45px 1fr 50px 50px 80px;padding:.75rem .5rem;gap:.3rem;font-size:.8rem}.stats-summary[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1rem}.col-percentage[_ngcontent-%COMP%]{font-size:.7rem}.percentage-bar[_ngcontent-%COMP%]{height:18px}.percentage-text[_ngcontent-%COMP%]{font-size:.7rem}.last-played[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px) and (orientation: landscape){.leaderboard-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%], .stats-summary[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var dw=[{path:"",component:zc},{path:"leaderboard",component:Tl},{path:"game/:gameId/setup",component:El},{path:"game/clavito",component:Il},{path:"game/escoba",component:Ml},{path:"**",redirectTo:""}];var fw={providers:[ty({eventCoalescing:!0}),M0(dw),Vy()]};var Al=class e{title="Apuntalo - Contador de Puntos";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ge({type:e,selectors:[["app-root"]],standalone:!0,features:[We],decls:1,vars:0,template:function(n,r){n&1&&Ut(0,"router-outlet")},dependencies:[Gf,it],styles:[`.app-container[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 80%,rgba(99,102,241,.15) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(16,185,129,.15) 0%,transparent 50%),linear-gradient(135deg,var(--primary-dark) 0%,var(--secondary-dark) 100%);position:relative;overflow-x:hidden}.app-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.02"><circle cx="30" cy="30" r="1"/></g></svg>');pointer-events:none}.app-header[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem 2rem;position:relative;z-index:2}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:3.5rem;font-weight:700;background:linear-gradient(135deg,var(--accent-color),var(--success-color));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:none;margin-bottom:.5rem}.app-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:var(--text-secondary);font-weight:400;letter-spacing:.5px}.app-main[_ngcontent-%COMP%]{padding:1rem;position:relative;z-index:2}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]{padding:2rem 1rem 1.5rem}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.app-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}`]})};Ly(Al,fw).catch(e=>console.error(e));
